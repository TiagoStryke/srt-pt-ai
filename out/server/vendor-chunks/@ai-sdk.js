"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@ai-sdk";
exports.ids = ["vendor-chunks/@ai-sdk"];
exports.modules = {

/***/ "(rsc)/./node_modules/@ai-sdk/google/dist/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/@ai-sdk/google/dist/index.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGoogleGenerativeAI: () => (/* binding */ createGoogleGenerativeAI),\n/* harmony export */   google: () => (/* binding */ google)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/provider-utils */ \"(rsc)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ai-sdk/provider */ \"(rsc)/./node_modules/@ai-sdk/provider/dist/index.mjs\");\n// src/google-provider.ts\n\n// src/google-generative-ai-language-model.ts\n\n\n// src/convert-json-schema-to-openapi-schema.ts\nfunction convertJSONSchemaToOpenAPISchema(jsonSchema) {\n    if (isEmptyObjectSchema(jsonSchema)) {\n        return void 0;\n    }\n    if (typeof jsonSchema === \"boolean\") {\n        return {\n            type: \"boolean\",\n            properties: {}\n        };\n    }\n    const { type, description, required, properties, items, allOf, anyOf, oneOf, format, const: constValue, minLength } = jsonSchema;\n    const result = {};\n    if (description) result.description = description;\n    if (required) result.required = required;\n    if (format) result.format = format;\n    if (constValue !== void 0) {\n        result.enum = [\n            constValue\n        ];\n    }\n    if (type) {\n        if (Array.isArray(type)) {\n            if (type.includes(\"null\")) {\n                result.type = type.filter((t)=>t !== \"null\")[0];\n                result.nullable = true;\n            } else {\n                result.type = type;\n            }\n        } else if (type === \"null\") {\n            result.type = \"null\";\n        } else {\n            result.type = type;\n        }\n    }\n    if (properties != null) {\n        result.properties = Object.entries(properties).reduce((acc, [key, value])=>{\n            acc[key] = convertJSONSchemaToOpenAPISchema(value);\n            return acc;\n        }, {});\n    }\n    if (items) {\n        result.items = Array.isArray(items) ? items.map(convertJSONSchemaToOpenAPISchema) : convertJSONSchemaToOpenAPISchema(items);\n    }\n    if (allOf) {\n        result.allOf = allOf.map(convertJSONSchemaToOpenAPISchema);\n    }\n    if (anyOf) {\n        result.anyOf = anyOf.map(convertJSONSchemaToOpenAPISchema);\n    }\n    if (oneOf) {\n        result.oneOf = oneOf.map(convertJSONSchemaToOpenAPISchema);\n    }\n    if (minLength !== void 0) result.minLength = minLength;\n    return result;\n}\nfunction isEmptyObjectSchema(jsonSchema) {\n    return jsonSchema != null && typeof jsonSchema === \"object\" && jsonSchema.type === \"object\" && (jsonSchema.properties == null || Object.keys(jsonSchema.properties).length === 0);\n}\n// src/convert-to-google-generative-ai-messages.ts\n\n\nfunction convertToGoogleGenerativeAIMessages(prompt) {\n    var _a, _b;\n    const systemInstructionParts = [];\n    const contents = [];\n    let systemMessagesAllowed = true;\n    for (const { role, content } of prompt){\n        switch(role){\n            case \"system\":\n                {\n                    if (!systemMessagesAllowed) {\n                        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_0__.UnsupportedFunctionalityError({\n                            functionality: \"system messages are only supported at the beginning of the conversation\"\n                        });\n                    }\n                    systemInstructionParts.push({\n                        text: content\n                    });\n                    break;\n                }\n            case \"user\":\n                {\n                    systemMessagesAllowed = false;\n                    const parts = [];\n                    for (const part of content){\n                        switch(part.type){\n                            case \"text\":\n                                {\n                                    parts.push({\n                                        text: part.text\n                                    });\n                                    break;\n                                }\n                            case \"image\":\n                                {\n                                    parts.push(part.image instanceof URL ? {\n                                        fileData: {\n                                            mimeType: (_a = part.mimeType) != null ? _a : \"image/jpeg\",\n                                            fileUri: part.image.toString()\n                                        }\n                                    } : {\n                                        inlineData: {\n                                            mimeType: (_b = part.mimeType) != null ? _b : \"image/jpeg\",\n                                            data: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.convertUint8ArrayToBase64)(part.image)\n                                        }\n                                    });\n                                    break;\n                                }\n                            case \"file\":\n                                {\n                                    parts.push(part.data instanceof URL ? {\n                                        fileData: {\n                                            mimeType: part.mimeType,\n                                            fileUri: part.data.toString()\n                                        }\n                                    } : {\n                                        inlineData: {\n                                            mimeType: part.mimeType,\n                                            data: part.data\n                                        }\n                                    });\n                                    break;\n                                }\n                            default:\n                                {\n                                    const _exhaustiveCheck = part;\n                                    throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_0__.UnsupportedFunctionalityError({\n                                        functionality: `prompt part: ${_exhaustiveCheck}`\n                                    });\n                                }\n                        }\n                    }\n                    contents.push({\n                        role: \"user\",\n                        parts\n                    });\n                    break;\n                }\n            case \"assistant\":\n                {\n                    systemMessagesAllowed = false;\n                    contents.push({\n                        role: \"model\",\n                        parts: content.map((part)=>{\n                            switch(part.type){\n                                case \"text\":\n                                    {\n                                        return part.text.length === 0 ? void 0 : {\n                                            text: part.text\n                                        };\n                                    }\n                                case \"tool-call\":\n                                    {\n                                        return {\n                                            functionCall: {\n                                                name: part.toolName,\n                                                args: part.args\n                                            }\n                                        };\n                                    }\n                            }\n                        }).filter((part)=>part !== void 0)\n                    });\n                    break;\n                }\n            case \"tool\":\n                {\n                    systemMessagesAllowed = false;\n                    contents.push({\n                        role: \"user\",\n                        parts: content.map((part)=>({\n                                functionResponse: {\n                                    name: part.toolName,\n                                    response: {\n                                        name: part.toolName,\n                                        content: part.result\n                                    }\n                                }\n                            }))\n                    });\n                    break;\n                }\n            default:\n                {\n                    const _exhaustiveCheck = role;\n                    throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    return {\n        systemInstruction: systemInstructionParts.length > 0 ? {\n            parts: systemInstructionParts\n        } : void 0,\n        contents\n    };\n}\n// src/get-model-path.ts\nfunction getModelPath(modelId) {\n    return modelId.includes(\"/\") ? modelId : `models/${modelId}`;\n}\n// src/google-error.ts\n\n\nvar googleErrorDataSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    error: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        code: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullable(),\n        message: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n        status: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n    })\n});\nvar googleFailedResponseHandler = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.createJsonErrorResponseHandler)({\n    errorSchema: googleErrorDataSchema,\n    errorToMessage: (data)=>data.error.message\n});\n// src/google-prepare-tools.ts\n\nfunction prepareTools(mode, useSearchGrounding, isGemini2) {\n    var _a, _b;\n    const tools = ((_a = mode.tools) == null ? void 0 : _a.length) ? mode.tools : void 0;\n    const toolWarnings = [];\n    if (useSearchGrounding) {\n        return {\n            tools: isGemini2 ? {\n                googleSearch: {}\n            } : {\n                googleSearchRetrieval: {}\n            },\n            toolConfig: void 0,\n            toolWarnings\n        };\n    }\n    if (tools == null) {\n        return {\n            tools: void 0,\n            toolConfig: void 0,\n            toolWarnings\n        };\n    }\n    const functionDeclarations = [];\n    for (const tool of tools){\n        if (tool.type === \"provider-defined\") {\n            toolWarnings.push({\n                type: \"unsupported-tool\",\n                tool\n            });\n        } else {\n            functionDeclarations.push({\n                name: tool.name,\n                description: (_b = tool.description) != null ? _b : \"\",\n                parameters: convertJSONSchemaToOpenAPISchema(tool.parameters)\n            });\n        }\n    }\n    const toolChoice = mode.toolChoice;\n    if (toolChoice == null) {\n        return {\n            tools: {\n                functionDeclarations\n            },\n            toolConfig: void 0,\n            toolWarnings\n        };\n    }\n    const type = toolChoice.type;\n    switch(type){\n        case \"auto\":\n            return {\n                tools: {\n                    functionDeclarations\n                },\n                toolConfig: {\n                    functionCallingConfig: {\n                        mode: \"AUTO\"\n                    }\n                },\n                toolWarnings\n            };\n        case \"none\":\n            return {\n                tools: {\n                    functionDeclarations\n                },\n                toolConfig: {\n                    functionCallingConfig: {\n                        mode: \"NONE\"\n                    }\n                },\n                toolWarnings\n            };\n        case \"required\":\n            return {\n                tools: {\n                    functionDeclarations\n                },\n                toolConfig: {\n                    functionCallingConfig: {\n                        mode: \"ANY\"\n                    }\n                },\n                toolWarnings\n            };\n        case \"tool\":\n            return {\n                tools: {\n                    functionDeclarations\n                },\n                toolConfig: {\n                    functionCallingConfig: {\n                        mode: \"ANY\",\n                        allowedFunctionNames: [\n                            toolChoice.toolName\n                        ]\n                    }\n                },\n                toolWarnings\n            };\n        default:\n            {\n                const _exhaustiveCheck = type;\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_0__.UnsupportedFunctionalityError({\n                    functionality: `Unsupported tool choice type: ${_exhaustiveCheck}`\n                });\n            }\n    }\n}\n// src/map-google-generative-ai-finish-reason.ts\nfunction mapGoogleGenerativeAIFinishReason({ finishReason, hasToolCalls }) {\n    switch(finishReason){\n        case \"STOP\":\n            return hasToolCalls ? \"tool-calls\" : \"stop\";\n        case \"MAX_TOKENS\":\n            return \"length\";\n        case \"RECITATION\":\n        case \"SAFETY\":\n            return \"content-filter\";\n        case \"FINISH_REASON_UNSPECIFIED\":\n        case \"OTHER\":\n            return \"other\";\n        default:\n            return \"unknown\";\n    }\n}\n// src/google-generative-ai-language-model.ts\nvar GoogleGenerativeAILanguageModel = class {\n    constructor(modelId, settings, config){\n        this.specificationVersion = \"v1\";\n        this.defaultObjectGenerationMode = \"json\";\n        this.supportsImageUrls = false;\n        this.modelId = modelId;\n        this.settings = settings;\n        this.config = config;\n    }\n    get supportsStructuredOutputs() {\n        var _a;\n        return (_a = this.settings.structuredOutputs) != null ? _a : true;\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    async getArgs({ mode, prompt, maxTokens, temperature, topP, topK, frequencyPenalty, presencePenalty, stopSequences, responseFormat, seed }) {\n        var _a, _b;\n        const type = mode.type;\n        const warnings = [];\n        if (seed != null) {\n            warnings.push({\n                type: \"unsupported-setting\",\n                setting: \"seed\"\n            });\n        }\n        const generationConfig = {\n            // standardized settings:\n            maxOutputTokens: maxTokens,\n            temperature,\n            topK,\n            topP,\n            frequencyPenalty,\n            presencePenalty,\n            stopSequences,\n            // response format:\n            responseMimeType: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? \"application/json\" : void 0,\n            responseSchema: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && // Google GenAI does not support all OpenAPI Schema features,\n            // so this is needed as an escape hatch:\n            this.supportsStructuredOutputs ? convertJSONSchemaToOpenAPISchema(responseFormat.schema) : void 0,\n            ...this.settings.audioTimestamp && {\n                audioTimestamp: this.settings.audioTimestamp\n            }\n        };\n        const { contents, systemInstruction } = convertToGoogleGenerativeAIMessages(prompt);\n        switch(type){\n            case \"regular\":\n                {\n                    const { tools, toolConfig, toolWarnings } = prepareTools(mode, (_a = this.settings.useSearchGrounding) != null ? _a : false, this.modelId.includes(\"gemini-2\"));\n                    return {\n                        args: {\n                            generationConfig,\n                            contents,\n                            systemInstruction,\n                            safetySettings: this.settings.safetySettings,\n                            tools,\n                            toolConfig,\n                            cachedContent: this.settings.cachedContent\n                        },\n                        warnings: [\n                            ...warnings,\n                            ...toolWarnings\n                        ]\n                    };\n                }\n            case \"object-json\":\n                {\n                    return {\n                        args: {\n                            generationConfig: {\n                                ...generationConfig,\n                                responseMimeType: \"application/json\",\n                                responseSchema: mode.schema != null && // Google GenAI does not support all OpenAPI Schema features,\n                                // so this is needed as an escape hatch:\n                                this.supportsStructuredOutputs ? convertJSONSchemaToOpenAPISchema(mode.schema) : void 0\n                            },\n                            contents,\n                            systemInstruction,\n                            safetySettings: this.settings.safetySettings,\n                            cachedContent: this.settings.cachedContent\n                        },\n                        warnings\n                    };\n                }\n            case \"object-tool\":\n                {\n                    return {\n                        args: {\n                            generationConfig,\n                            contents,\n                            tools: {\n                                functionDeclarations: [\n                                    {\n                                        name: mode.tool.name,\n                                        description: (_b = mode.tool.description) != null ? _b : \"\",\n                                        parameters: convertJSONSchemaToOpenAPISchema(mode.tool.parameters)\n                                    }\n                                ]\n                            },\n                            toolConfig: {\n                                functionCallingConfig: {\n                                    mode: \"ANY\"\n                                }\n                            },\n                            safetySettings: this.settings.safetySettings,\n                            cachedContent: this.settings.cachedContent\n                        },\n                        warnings\n                    };\n                }\n            default:\n                {\n                    const _exhaustiveCheck = type;\n                    throw new Error(`Unsupported type: ${_exhaustiveCheck}`);\n                }\n        }\n    }\n    supportsUrl(url) {\n        return url.toString().startsWith(\"https://generativelanguage.googleapis.com/v1beta/files/\");\n    }\n    async doGenerate(options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        const { args, warnings } = await this.getArgs(options);\n        const body = JSON.stringify(args);\n        const mergedHeaders = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.combineHeaders)(await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.config.headers), options.headers);\n        const { responseHeaders, value: response } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.postJsonToApi)({\n            url: `${this.config.baseURL}/${getModelPath(this.modelId)}:generateContent`,\n            headers: mergedHeaders,\n            body: args,\n            failedResponseHandler: googleFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.createJsonResponseHandler)(responseSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const { contents: rawPrompt, ...rawSettings } = args;\n        const candidate = response.candidates[0];\n        const toolCalls = getToolCallsFromParts({\n            parts: (_b = (_a = candidate.content) == null ? void 0 : _a.parts) != null ? _b : [],\n            generateId: this.config.generateId\n        });\n        const usageMetadata = response.usageMetadata;\n        return {\n            text: getTextFromParts((_d = (_c = candidate.content) == null ? void 0 : _c.parts) != null ? _d : []),\n            toolCalls,\n            finishReason: mapGoogleGenerativeAIFinishReason({\n                finishReason: candidate.finishReason,\n                hasToolCalls: toolCalls != null && toolCalls.length > 0\n            }),\n            usage: {\n                promptTokens: (_e = usageMetadata == null ? void 0 : usageMetadata.promptTokenCount) != null ? _e : NaN,\n                completionTokens: (_f = usageMetadata == null ? void 0 : usageMetadata.candidatesTokenCount) != null ? _f : NaN\n            },\n            rawCall: {\n                rawPrompt,\n                rawSettings\n            },\n            rawResponse: {\n                headers: responseHeaders\n            },\n            warnings,\n            providerMetadata: {\n                google: {\n                    groundingMetadata: (_g = candidate.groundingMetadata) != null ? _g : null,\n                    safetyRatings: (_h = candidate.safetyRatings) != null ? _h : null\n                }\n            },\n            request: {\n                body\n            }\n        };\n    }\n    async doStream(options) {\n        const { args, warnings } = await this.getArgs(options);\n        const body = JSON.stringify(args);\n        const headers = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.combineHeaders)(await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.config.headers), options.headers);\n        const { responseHeaders, value: response } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.postJsonToApi)({\n            url: `${this.config.baseURL}/${getModelPath(this.modelId)}:streamGenerateContent?alt=sse`,\n            headers,\n            body: args,\n            failedResponseHandler: googleFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.createEventSourceResponseHandler)(chunkSchema),\n            abortSignal: options.abortSignal,\n            fetch: this.config.fetch\n        });\n        const { contents: rawPrompt, ...rawSettings } = args;\n        let finishReason = \"unknown\";\n        let usage = {\n            promptTokens: Number.NaN,\n            completionTokens: Number.NaN\n        };\n        let providerMetadata = void 0;\n        const generateId2 = this.config.generateId;\n        let hasToolCalls = false;\n        return {\n            stream: response.pipeThrough(new TransformStream({\n                transform (chunk, controller) {\n                    var _a, _b, _c, _d, _e;\n                    if (!chunk.success) {\n                        controller.enqueue({\n                            type: \"error\",\n                            error: chunk.error\n                        });\n                        return;\n                    }\n                    const value = chunk.value;\n                    const usageMetadata = value.usageMetadata;\n                    if (usageMetadata != null) {\n                        usage = {\n                            promptTokens: (_a = usageMetadata.promptTokenCount) != null ? _a : NaN,\n                            completionTokens: (_b = usageMetadata.candidatesTokenCount) != null ? _b : NaN\n                        };\n                    }\n                    const candidate = (_c = value.candidates) == null ? void 0 : _c[0];\n                    if (candidate == null) {\n                        return;\n                    }\n                    if (candidate.finishReason != null) {\n                        finishReason = mapGoogleGenerativeAIFinishReason({\n                            finishReason: candidate.finishReason,\n                            hasToolCalls\n                        });\n                        providerMetadata = {\n                            google: {\n                                groundingMetadata: (_d = candidate.groundingMetadata) != null ? _d : null,\n                                safetyRatings: (_e = candidate.safetyRatings) != null ? _e : null\n                            }\n                        };\n                    }\n                    const content = candidate.content;\n                    if (content == null) {\n                        return;\n                    }\n                    const deltaText = getTextFromParts(content.parts);\n                    if (deltaText != null) {\n                        controller.enqueue({\n                            type: \"text-delta\",\n                            textDelta: deltaText\n                        });\n                    }\n                    const toolCallDeltas = getToolCallsFromParts({\n                        parts: content.parts,\n                        generateId: generateId2\n                    });\n                    if (toolCallDeltas != null) {\n                        for (const toolCall of toolCallDeltas){\n                            controller.enqueue({\n                                type: \"tool-call-delta\",\n                                toolCallType: \"function\",\n                                toolCallId: toolCall.toolCallId,\n                                toolName: toolCall.toolName,\n                                argsTextDelta: toolCall.args\n                            });\n                            controller.enqueue({\n                                type: \"tool-call\",\n                                toolCallType: \"function\",\n                                toolCallId: toolCall.toolCallId,\n                                toolName: toolCall.toolName,\n                                args: toolCall.args\n                            });\n                            hasToolCalls = true;\n                        }\n                    }\n                },\n                flush (controller) {\n                    controller.enqueue({\n                        type: \"finish\",\n                        finishReason,\n                        usage,\n                        providerMetadata\n                    });\n                }\n            })),\n            rawCall: {\n                rawPrompt,\n                rawSettings\n            },\n            rawResponse: {\n                headers: responseHeaders\n            },\n            warnings,\n            request: {\n                body\n            }\n        };\n    }\n};\nfunction getToolCallsFromParts({ parts, generateId: generateId2 }) {\n    const functionCallParts = parts.filter((part)=>\"functionCall\" in part);\n    return functionCallParts.length === 0 ? void 0 : functionCallParts.map((part)=>({\n            toolCallType: \"function\",\n            toolCallId: generateId2(),\n            toolName: part.functionCall.name,\n            args: JSON.stringify(part.functionCall.args)\n        }));\n}\nfunction getTextFromParts(parts) {\n    const textParts = parts.filter((part)=>\"text\" in part);\n    return textParts.length === 0 ? void 0 : textParts.map((part)=>part.text).join(\"\");\n}\nvar contentSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    role: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n    parts: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.union([\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            text: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n        }),\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            functionCall: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n                name: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n                args: zod__WEBPACK_IMPORTED_MODULE_2__.z.unknown()\n            })\n        })\n    ]))\n});\nvar groundingMetadataSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    webSearchQueries: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.string()).nullish(),\n    retrievalQueries: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.string()).nullish(),\n    searchEntryPoint: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        renderedContent: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n    }).nullish(),\n    groundingChunks: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        web: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            uri: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            title: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n        }).nullish(),\n        retrievedContext: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            uri: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n            title: zod__WEBPACK_IMPORTED_MODULE_2__.z.string()\n        }).nullish()\n    })).nullish(),\n    groundingSupports: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        segment: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            startIndex: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n            endIndex: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n            text: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish()\n        }),\n        segment_text: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        groundingChunkIndices: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.number()).nullish(),\n        supportChunkIndices: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.number()).nullish(),\n        confidenceScores: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.number()).nullish(),\n        confidenceScore: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.number()).nullish()\n    })).nullish(),\n    retrievalMetadata: zod__WEBPACK_IMPORTED_MODULE_2__.z.union([\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n            webDynamicRetrievalScore: zod__WEBPACK_IMPORTED_MODULE_2__.z.number()\n        }),\n        zod__WEBPACK_IMPORTED_MODULE_2__.z.object({})\n    ]).nullish()\n});\nvar safetyRatingSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    category: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n    probability: zod__WEBPACK_IMPORTED_MODULE_2__.z.string(),\n    probabilityScore: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n    severity: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n    severityScore: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n    blocked: zod__WEBPACK_IMPORTED_MODULE_2__.z.boolean().nullish()\n});\nvar responseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    candidates: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        content: contentSchema.nullish(),\n        finishReason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        safetyRatings: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(safetyRatingSchema).nullish(),\n        groundingMetadata: groundingMetadataSchema.nullish()\n    })),\n    usageMetadata: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        promptTokenCount: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        candidatesTokenCount: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        totalTokenCount: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish()\n    }).nullish()\n});\nvar chunkSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    candidates: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        content: contentSchema.nullish(),\n        finishReason: zod__WEBPACK_IMPORTED_MODULE_2__.z.string().nullish(),\n        safetyRatings: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(safetyRatingSchema).nullish(),\n        groundingMetadata: groundingMetadataSchema.nullish()\n    })).nullish(),\n    usageMetadata: zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        promptTokenCount: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        candidatesTokenCount: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish(),\n        totalTokenCount: zod__WEBPACK_IMPORTED_MODULE_2__.z.number().nullish()\n    }).nullish()\n});\n// src/google-generative-ai-embedding-model.ts\n\n\n\nvar GoogleGenerativeAIEmbeddingModel = class {\n    constructor(modelId, settings, config){\n        this.specificationVersion = \"v1\";\n        this.modelId = modelId;\n        this.settings = settings;\n        this.config = config;\n    }\n    get provider() {\n        return this.config.provider;\n    }\n    get maxEmbeddingsPerCall() {\n        return 2048;\n    }\n    get supportsParallelCalls() {\n        return true;\n    }\n    async doEmbed({ values, headers, abortSignal }) {\n        if (values.length > this.maxEmbeddingsPerCall) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_0__.TooManyEmbeddingValuesForCallError({\n                provider: this.provider,\n                modelId: this.modelId,\n                maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n                values\n            });\n        }\n        const mergedHeaders = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.combineHeaders)(await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.resolve)(this.config.headers), headers);\n        const { responseHeaders, value: response } = await (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.postJsonToApi)({\n            url: `${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,\n            headers: mergedHeaders,\n            body: {\n                requests: values.map((value)=>({\n                        model: `models/${this.modelId}`,\n                        content: {\n                            role: \"user\",\n                            parts: [\n                                {\n                                    text: value\n                                }\n                            ]\n                        },\n                        outputDimensionality: this.settings.outputDimensionality\n                    }))\n            },\n            failedResponseHandler: googleFailedResponseHandler,\n            successfulResponseHandler: (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.createJsonResponseHandler)(googleGenerativeAITextEmbeddingResponseSchema),\n            abortSignal,\n            fetch: this.config.fetch\n        });\n        return {\n            embeddings: response.embeddings.map((item)=>item.values),\n            usage: void 0,\n            rawResponse: {\n                headers: responseHeaders\n            }\n        };\n    }\n};\nvar googleGenerativeAITextEmbeddingResponseSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n    embeddings: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.object({\n        values: zod__WEBPACK_IMPORTED_MODULE_2__.z.array(zod__WEBPACK_IMPORTED_MODULE_2__.z.number())\n    }))\n});\n// src/google-provider.ts\nfunction createGoogleGenerativeAI(options = {}) {\n    var _a;\n    const baseURL = (_a = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.withoutTrailingSlash)(options.baseURL)) != null ? _a : \"https://generativelanguage.googleapis.com/v1beta\";\n    const getHeaders = ()=>({\n            \"x-goog-api-key\": (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.loadApiKey)({\n                apiKey: options.apiKey,\n                environmentVariableName: \"GOOGLE_GENERATIVE_AI_API_KEY\",\n                description: \"Google Generative AI\"\n            }),\n            ...options.headers\n        });\n    const createChatModel = (modelId, settings = {})=>{\n        var _a2;\n        return new GoogleGenerativeAILanguageModel(modelId, settings, {\n            provider: \"google.generative-ai\",\n            baseURL,\n            headers: getHeaders,\n            generateId: (_a2 = options.generateId) != null ? _a2 : _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_1__.generateId,\n            fetch: options.fetch\n        });\n    };\n    const createEmbeddingModel = (modelId, settings = {})=>new GoogleGenerativeAIEmbeddingModel(modelId, settings, {\n            provider: \"google.generative-ai\",\n            baseURL,\n            headers: getHeaders,\n            fetch: options.fetch\n        });\n    const provider = function(modelId, settings) {\n        if (new.target) {\n            throw new Error(\"The Google Generative AI model function cannot be called with the new keyword.\");\n        }\n        return createChatModel(modelId, settings);\n    };\n    provider.languageModel = createChatModel;\n    provider.chat = createChatModel;\n    provider.generativeAI = createChatModel;\n    provider.embedding = createEmbeddingModel;\n    provider.textEmbedding = createEmbeddingModel;\n    provider.textEmbeddingModel = createEmbeddingModel;\n    return provider;\n}\nvar google = createGoogleGenerativeAI();\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9nb29nbGUvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSx5QkFBeUI7QUFLTztBQUVoQyw2Q0FBNkM7QUFPYjtBQUNGO0FBRTlCLCtDQUErQztBQUMvQyxTQUFTVSxpQ0FBaUNDLFVBQVU7SUFDbEQsSUFBSUMsb0JBQW9CRCxhQUFhO1FBQ25DLE9BQU8sS0FBSztJQUNkO0lBQ0EsSUFBSSxPQUFPQSxlQUFlLFdBQVc7UUFDbkMsT0FBTztZQUFFRSxNQUFNO1lBQVdDLFlBQVksQ0FBQztRQUFFO0lBQzNDO0lBQ0EsTUFBTSxFQUNKRCxJQUFJLEVBQ0pFLFdBQVcsRUFDWEMsUUFBUSxFQUNSRixVQUFVLEVBQ1ZHLEtBQUssRUFDTEMsS0FBSyxFQUNMQyxLQUFLLEVBQ0xDLEtBQUssRUFDTEMsTUFBTSxFQUNOQyxPQUFPQyxVQUFVLEVBQ2pCQyxTQUFTLEVBQ1YsR0FBR2I7SUFDSixNQUFNYyxTQUFTLENBQUM7SUFDaEIsSUFBSVYsYUFDRlUsT0FBT1YsV0FBVyxHQUFHQTtJQUN2QixJQUFJQyxVQUNGUyxPQUFPVCxRQUFRLEdBQUdBO0lBQ3BCLElBQUlLLFFBQ0ZJLE9BQU9KLE1BQU0sR0FBR0E7SUFDbEIsSUFBSUUsZUFBZSxLQUFLLEdBQUc7UUFDekJFLE9BQU9DLElBQUksR0FBRztZQUFDSDtTQUFXO0lBQzVCO0lBQ0EsSUFBSVYsTUFBTTtRQUNSLElBQUljLE1BQU1DLE9BQU8sQ0FBQ2YsT0FBTztZQUN2QixJQUFJQSxLQUFLZ0IsUUFBUSxDQUFDLFNBQVM7Z0JBQ3pCSixPQUFPWixJQUFJLEdBQUdBLEtBQUtpQixNQUFNLENBQUMsQ0FBQ0MsSUFBTUEsTUFBTSxPQUFPLENBQUMsRUFBRTtnQkFDakROLE9BQU9PLFFBQVEsR0FBRztZQUNwQixPQUFPO2dCQUNMUCxPQUFPWixJQUFJLEdBQUdBO1lBQ2hCO1FBQ0YsT0FBTyxJQUFJQSxTQUFTLFFBQVE7WUFDMUJZLE9BQU9aLElBQUks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Q0FBQztRQUM3QyxJQUFJdUo7UUFDSixPQUFPLElBQUl6SixnQ0FBZ0NoQyxTQUFTa0MsVUFBVTtZQUM1RE8sVUFBVTtZQUNWc0M7WUFDQUYsU0FBU3dHO1lBQ1RqUSxZQUFZLENBQUNxUSxNQUFNdkgsUUFBUTlJLFVBQVUsS0FBSyxPQUFPcVEsTUFBTXJRLDhEQUFVQTtZQUNqRStKLE9BQU9qQixRQUFRaUIsS0FBSztRQUN0QjtJQUNGO0lBQ0EsTUFBTXVHLHVCQUF1QixDQUFDMUwsU0FBU2tDLFdBQVcsQ0FBQyxDQUFDLEdBQUssSUFBSXVJLGlDQUFpQ3pLLFNBQVNrQyxVQUFVO1lBQy9HTyxVQUFVO1lBQ1ZzQztZQUNBRixTQUFTd0c7WUFDVGxHLE9BQU9qQixRQUFRaUIsS0FBSztRQUN0QjtJQUNBLE1BQU0xQyxXQUFXLFNBQVN6QyxPQUFPLEVBQUVrQyxRQUFRO1FBQ3pDLElBQUksWUFBWTtZQUNkLE1BQU0sSUFBSXJDLE1BQ1I7UUFFSjtRQUNBLE9BQU8yTCxnQkFBZ0J4TCxTQUFTa0M7SUFDbEM7SUFDQU8sU0FBU2tKLGFBQWEsR0FBR0g7SUFDekIvSSxTQUFTbUosSUFBSSxHQUFHSjtJQUNoQi9JLFNBQVNvSixZQUFZLEdBQUdMO0lBQ3hCL0ksU0FBU3FKLFNBQVMsR0FBR0o7SUFDckJqSixTQUFTc0osYUFBYSxHQUFHTDtJQUN6QmpKLFNBQVN1SixrQkFBa0IsR0FBR047SUFDOUIsT0FBT2pKO0FBQ1Q7QUFDQSxJQUFJNEQsU0FBUytFO0FBSVgsQ0FDRixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcnQvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9nb29nbGUvZGlzdC9pbmRleC5tanM/OTYyNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvZ29vZ2xlLXByb3ZpZGVyLnRzXG5pbXBvcnQge1xuICBnZW5lcmF0ZUlkLFxuICBsb2FkQXBpS2V5LFxuICB3aXRob3V0VHJhaWxpbmdTbGFzaFxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvZ29vZ2xlLWdlbmVyYXRpdmUtYWktbGFuZ3VhZ2UtbW9kZWwudHNcbmltcG9ydCB7XG4gIGNvbWJpbmVIZWFkZXJzLFxuICBjcmVhdGVFdmVudFNvdXJjZVJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcixcbiAgcG9zdEpzb25Ub0FwaSxcbiAgcmVzb2x2ZVxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHsgeiBhcyB6MiB9IGZyb20gXCJ6b2RcIjtcblxuLy8gc3JjL2NvbnZlcnQtanNvbi1zY2hlbWEtdG8tb3BlbmFwaS1zY2hlbWEudHNcbmZ1bmN0aW9uIGNvbnZlcnRKU09OU2NoZW1hVG9PcGVuQVBJU2NoZW1hKGpzb25TY2hlbWEpIHtcbiAgaWYgKGlzRW1wdHlPYmplY3RTY2hlbWEoanNvblNjaGVtYSkpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGlmICh0eXBlb2YganNvblNjaGVtYSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImJvb2xlYW5cIiwgcHJvcGVydGllczoge30gfTtcbiAgfVxuICBjb25zdCB7XG4gICAgdHlwZSxcbiAgICBkZXNjcmlwdGlvbixcbiAgICByZXF1aXJlZCxcbiAgICBwcm9wZXJ0aWVzLFxuICAgIGl0ZW1zLFxuICAgIGFsbE9mLFxuICAgIGFueU9mLFxuICAgIG9uZU9mLFxuICAgIGZvcm1hdCxcbiAgICBjb25zdDogY29uc3RWYWx1ZSxcbiAgICBtaW5MZW5ndGhcbiAgfSA9IGpzb25TY2hlbWE7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBpZiAoZGVzY3JpcHRpb24pXG4gICAgcmVzdWx0LmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIGlmIChyZXF1aXJlZClcbiAgICByZXN1bHQucmVxdWlyZWQgPSByZXF1aXJlZDtcbiAgaWYgKGZvcm1hdClcbiAgICByZXN1bHQuZm9ybWF0ID0gZm9ybWF0O1xuICBpZiAoY29uc3RWYWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgcmVzdWx0LmVudW0gPSBbY29uc3RWYWx1ZV07XG4gIH1cbiAgaWYgKHR5cGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgaWYgKHR5cGUuaW5jbHVkZXMoXCJudWxsXCIpKSB7XG4gICAgICAgIHJlc3VsdC50eXBlID0gdHlwZS5maWx0ZXIoKHQpID0+IHQgIT09IFwibnVsbFwiKVswXTtcbiAgICAgICAgcmVzdWx0Lm51bGxhYmxlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC50eXBlID0gdHlwZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwibnVsbFwiKSB7XG4gICAgICByZXN1bHQudHlwZSA9IFwibnVsbFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQudHlwZSA9IHR5cGU7XG4gICAgfVxuICB9XG4gIGlmIChwcm9wZXJ0aWVzICE9IG51bGwpIHtcbiAgICByZXN1bHQucHJvcGVydGllcyA9IE9iamVjdC5lbnRyaWVzKHByb3BlcnRpZXMpLnJlZHVjZShcbiAgICAgIChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBhY2Nba2V5XSA9IGNvbnZlcnRKU09OU2NoZW1hVG9PcGVuQVBJU2NoZW1hKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sXG4gICAgICB7fVxuICAgICk7XG4gIH1cbiAgaWYgKGl0ZW1zKSB7XG4gICAgcmVzdWx0Lml0ZW1zID0gQXJyYXkuaXNBcnJheShpdGVtcykgPyBpdGVtcy5tYXAoY29udmVydEpTT05TY2hlbWFUb09wZW5BUElTY2hlbWEpIDogY29udmVydEpTT05TY2hlbWFUb09wZW5BUElTY2hlbWEoaXRlbXMpO1xuICB9XG4gIGlmIChhbGxPZikge1xuICAgIHJlc3VsdC5hbGxPZiA9IGFsbE9mLm1hcChjb252ZXJ0SlNPTlNjaGVtYVRvT3BlbkFQSVNjaGVtYSk7XG4gIH1cbiAgaWYgKGFueU9mKSB7XG4gICAgcmVzdWx0LmFueU9mID0gYW55T2YubWFwKGNvbnZlcnRKU09OU2NoZW1hVG9PcGVuQVBJU2NoZW1hKTtcbiAgfVxuICBpZiAob25lT2YpIHtcbiAgICByZXN1bHQub25lT2YgPSBvbmVPZi5tYXAoY29udmVydEpTT05TY2hlbWFUb09wZW5BUElTY2hlbWEpO1xuICB9XG4gIGlmIChtaW5MZW5ndGggIT09IHZvaWQgMClcbiAgICByZXN1bHQubWluTGVuZ3RoID0gbWluTGVuZ3RoO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaXNFbXB0eU9iamVjdFNjaGVtYShqc29uU2NoZW1hKSB7XG4gIHJldHVybiBqc29uU2NoZW1hICE9IG51bGwgJiYgdHlwZW9mIGpzb25TY2hlbWEgPT09IFwib2JqZWN0XCIgJiYganNvblNjaGVtYS50eXBlID09PSBcIm9iamVjdFwiICYmIChqc29uU2NoZW1hLnByb3BlcnRpZXMgPT0gbnVsbCB8fCBPYmplY3Qua2V5cyhqc29uU2NoZW1hLnByb3BlcnRpZXMpLmxlbmd0aCA9PT0gMCk7XG59XG5cbi8vIHNyYy9jb252ZXJ0LXRvLWdvb2dsZS1nZW5lcmF0aXZlLWFpLW1lc3NhZ2VzLnRzXG5pbXBvcnQge1xuICBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvclxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHsgY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5mdW5jdGlvbiBjb252ZXJ0VG9Hb29nbGVHZW5lcmF0aXZlQUlNZXNzYWdlcyhwcm9tcHQpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3Qgc3lzdGVtSW5zdHJ1Y3Rpb25QYXJ0cyA9IFtdO1xuICBjb25zdCBjb250ZW50cyA9IFtdO1xuICBsZXQgc3lzdGVtTWVzc2FnZXNBbGxvd2VkID0gdHJ1ZTtcbiAgZm9yIChjb25zdCB7IHJvbGUsIGNvbnRlbnQgfSBvZiBwcm9tcHQpIHtcbiAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgIGNhc2UgXCJzeXN0ZW1cIjoge1xuICAgICAgICBpZiAoIXN5c3RlbU1lc3NhZ2VzQWxsb3dlZCkge1xuICAgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICAgICAgICBmdW5jdGlvbmFsaXR5OiBcInN5c3RlbSBtZXNzYWdlcyBhcmUgb25seSBzdXBwb3J0ZWQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgY29udmVyc2F0aW9uXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvblBhcnRzLnB1c2goeyB0ZXh0OiBjb250ZW50IH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ1c2VyXCI6IHtcbiAgICAgICAgc3lzdGVtTWVzc2FnZXNBbGxvd2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBjb250ZW50KSB7XG4gICAgICAgICAgc3dpdGNoIChwYXJ0LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgICAgICAgICAgcGFydHMucHVzaCh7IHRleHQ6IHBhcnQudGV4dCB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjoge1xuICAgICAgICAgICAgICBwYXJ0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHBhcnQuaW1hZ2UgaW5zdGFuY2VvZiBVUkwgPyB7XG4gICAgICAgICAgICAgICAgICBmaWxlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogKF9hID0gcGFydC5taW1lVHlwZSkgIT0gbnVsbCA/IF9hIDogXCJpbWFnZS9qcGVnXCIsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVVcmk6IHBhcnQuaW1hZ2UudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICBpbmxpbmVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiAoX2IgPSBwYXJ0Lm1pbWVUeXBlKSAhPSBudWxsID8gX2IgOiBcImltYWdlL2pwZWdcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NChwYXJ0LmltYWdlKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiZmlsZVwiOiB7XG4gICAgICAgICAgICAgIHBhcnRzLnB1c2goXG4gICAgICAgICAgICAgICAgcGFydC5kYXRhIGluc3RhbmNlb2YgVVJMID8ge1xuICAgICAgICAgICAgICAgICAgZmlsZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6IHBhcnQubWltZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVVcmk6IHBhcnQuZGF0YS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgIGlubGluZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6IHBhcnQubWltZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHBhcnQuZGF0YVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSBwYXJ0O1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Ioe1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uYWxpdHk6IGBwcm9tcHQgcGFydDogJHtfZXhoYXVzdGl2ZUNoZWNrfWBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRlbnRzLnB1c2goeyByb2xlOiBcInVzZXJcIiwgcGFydHMgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImFzc2lzdGFudFwiOiB7XG4gICAgICAgIHN5c3RlbU1lc3NhZ2VzQWxsb3dlZCA9IGZhbHNlO1xuICAgICAgICBjb250ZW50cy5wdXNoKHtcbiAgICAgICAgICByb2xlOiBcIm1vZGVsXCIsXG4gICAgICAgICAgcGFydHM6IGNvbnRlbnQubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQudGV4dC5sZW5ndGggPT09IDAgPyB2b2lkIDAgOiB7IHRleHQ6IHBhcnQudGV4dCB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGxcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbkNhbGw6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogcGFydC5hcmdzXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmZpbHRlcihcbiAgICAgICAgICAgIChwYXJ0KSA9PiBwYXJ0ICE9PSB2b2lkIDBcbiAgICAgICAgICApXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ0b29sXCI6IHtcbiAgICAgICAgc3lzdGVtTWVzc2FnZXNBbGxvd2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnRlbnRzLnB1c2goe1xuICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgIHBhcnRzOiBjb250ZW50Lm1hcCgocGFydCkgPT4gKHtcbiAgICAgICAgICAgIGZ1bmN0aW9uUmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgbmFtZTogcGFydC50b29sTmFtZSxcbiAgICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHBhcnQucmVzdWx0XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSlcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gcm9sZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCByb2xlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgc3lzdGVtSW5zdHJ1Y3Rpb246IHN5c3RlbUluc3RydWN0aW9uUGFydHMubGVuZ3RoID4gMCA/IHsgcGFydHM6IHN5c3RlbUluc3RydWN0aW9uUGFydHMgfSA6IHZvaWQgMCxcbiAgICBjb250ZW50c1xuICB9O1xufVxuXG4vLyBzcmMvZ2V0LW1vZGVsLXBhdGgudHNcbmZ1bmN0aW9uIGdldE1vZGVsUGF0aChtb2RlbElkKSB7XG4gIHJldHVybiBtb2RlbElkLmluY2x1ZGVzKFwiL1wiKSA/IG1vZGVsSWQgOiBgbW9kZWxzLyR7bW9kZWxJZH1gO1xufVxuXG4vLyBzcmMvZ29vZ2xlLWVycm9yLnRzXG5pbXBvcnQgeyBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbnZhciBnb29nbGVFcnJvckRhdGFTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVycm9yOiB6Lm9iamVjdCh7XG4gICAgY29kZTogei5udW1iZXIoKS5udWxsYWJsZSgpLFxuICAgIG1lc3NhZ2U6IHouc3RyaW5nKCksXG4gICAgc3RhdHVzOiB6LnN0cmluZygpXG4gIH0pXG59KTtcbnZhciBnb29nbGVGYWlsZWRSZXNwb25zZUhhbmRsZXIgPSBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIoe1xuICBlcnJvclNjaGVtYTogZ29vZ2xlRXJyb3JEYXRhU2NoZW1hLFxuICBlcnJvclRvTWVzc2FnZTogKGRhdGEpID0+IGRhdGEuZXJyb3IubWVzc2FnZVxufSk7XG5cbi8vIHNyYy9nb29nbGUtcHJlcGFyZS10b29scy50c1xuaW1wb3J0IHtcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IgYXMgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IyXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5mdW5jdGlvbiBwcmVwYXJlVG9vbHMobW9kZSwgdXNlU2VhcmNoR3JvdW5kaW5nLCBpc0dlbWluaTIpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgdG9vbHMgPSAoKF9hID0gbW9kZS50b29scykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPyBtb2RlLnRvb2xzIDogdm9pZCAwO1xuICBjb25zdCB0b29sV2FybmluZ3MgPSBbXTtcbiAgaWYgKHVzZVNlYXJjaEdyb3VuZGluZykge1xuICAgIHJldHVybiB7XG4gICAgICB0b29sczogaXNHZW1pbmkyID8geyBnb29nbGVTZWFyY2g6IHt9IH0gOiB7IGdvb2dsZVNlYXJjaFJldHJpZXZhbDoge30gfSxcbiAgICAgIHRvb2xDb25maWc6IHZvaWQgMCxcbiAgICAgIHRvb2xXYXJuaW5nc1xuICAgIH07XG4gIH1cbiAgaWYgKHRvb2xzID09IG51bGwpIHtcbiAgICByZXR1cm4geyB0b29sczogdm9pZCAwLCB0b29sQ29uZmlnOiB2b2lkIDAsIHRvb2xXYXJuaW5ncyB9O1xuICB9XG4gIGNvbnN0IGZ1bmN0aW9uRGVjbGFyYXRpb25zID0gW107XG4gIGZvciAoY29uc3QgdG9vbCBvZiB0b29scykge1xuICAgIGlmICh0b29sLnR5cGUgPT09IFwicHJvdmlkZXItZGVmaW5lZFwiKSB7XG4gICAgICB0b29sV2FybmluZ3MucHVzaCh7IHR5cGU6IFwidW5zdXBwb3J0ZWQtdG9vbFwiLCB0b29sIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdW5jdGlvbkRlY2xhcmF0aW9ucy5wdXNoKHtcbiAgICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbjogKF9iID0gdG9vbC5kZXNjcmlwdGlvbikgIT0gbnVsbCA/IF9iIDogXCJcIixcbiAgICAgICAgcGFyYW1ldGVyczogY29udmVydEpTT05TY2hlbWFUb09wZW5BUElTY2hlbWEodG9vbC5wYXJhbWV0ZXJzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHRvb2xDaG9pY2UgPSBtb2RlLnRvb2xDaG9pY2U7XG4gIGlmICh0b29sQ2hvaWNlID09IG51bGwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9vbHM6IHsgZnVuY3Rpb25EZWNsYXJhdGlvbnMgfSxcbiAgICAgIHRvb2xDb25maWc6IHZvaWQgMCxcbiAgICAgIHRvb2xXYXJuaW5nc1xuICAgIH07XG4gIH1cbiAgY29uc3QgdHlwZSA9IHRvb2xDaG9pY2UudHlwZTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcImF1dG9cIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvb2xzOiB7IGZ1bmN0aW9uRGVjbGFyYXRpb25zIH0sXG4gICAgICAgIHRvb2xDb25maWc6IHsgZnVuY3Rpb25DYWxsaW5nQ29uZmlnOiB7IG1vZGU6IFwiQVVUT1wiIH0gfSxcbiAgICAgICAgdG9vbFdhcm5pbmdzXG4gICAgICB9O1xuICAgIGNhc2UgXCJub25lXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b29sczogeyBmdW5jdGlvbkRlY2xhcmF0aW9ucyB9LFxuICAgICAgICB0b29sQ29uZmlnOiB7IGZ1bmN0aW9uQ2FsbGluZ0NvbmZpZzogeyBtb2RlOiBcIk5PTkVcIiB9IH0sXG4gICAgICAgIHRvb2xXYXJuaW5nc1xuICAgICAgfTtcbiAgICBjYXNlIFwicmVxdWlyZWRcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvb2xzOiB7IGZ1bmN0aW9uRGVjbGFyYXRpb25zIH0sXG4gICAgICAgIHRvb2xDb25maWc6IHsgZnVuY3Rpb25DYWxsaW5nQ29uZmlnOiB7IG1vZGU6IFwiQU5ZXCIgfSB9LFxuICAgICAgICB0b29sV2FybmluZ3NcbiAgICAgIH07XG4gICAgY2FzZSBcInRvb2xcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvb2xzOiB7IGZ1bmN0aW9uRGVjbGFyYXRpb25zIH0sXG4gICAgICAgIHRvb2xDb25maWc6IHtcbiAgICAgICAgICBmdW5jdGlvbkNhbGxpbmdDb25maWc6IHtcbiAgICAgICAgICAgIG1vZGU6IFwiQU5ZXCIsXG4gICAgICAgICAgICBhbGxvd2VkRnVuY3Rpb25OYW1lczogW3Rvb2xDaG9pY2UudG9vbE5hbWVdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0b29sV2FybmluZ3NcbiAgICAgIH07XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHR5cGU7XG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IyKHtcbiAgICAgICAgZnVuY3Rpb25hbGl0eTogYFVuc3VwcG9ydGVkIHRvb2wgY2hvaWNlIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL21hcC1nb29nbGUtZ2VuZXJhdGl2ZS1haS1maW5pc2gtcmVhc29uLnRzXG5mdW5jdGlvbiBtYXBHb29nbGVHZW5lcmF0aXZlQUlGaW5pc2hSZWFzb24oe1xuICBmaW5pc2hSZWFzb24sXG4gIGhhc1Rvb2xDYWxsc1xufSkge1xuICBzd2l0Y2ggKGZpbmlzaFJlYXNvbikge1xuICAgIGNhc2UgXCJTVE9QXCI6XG4gICAgICByZXR1cm4gaGFzVG9vbENhbGxzID8gXCJ0b29sLWNhbGxzXCIgOiBcInN0b3BcIjtcbiAgICBjYXNlIFwiTUFYX1RPS0VOU1wiOlxuICAgICAgcmV0dXJuIFwibGVuZ3RoXCI7XG4gICAgY2FzZSBcIlJFQ0lUQVRJT05cIjpcbiAgICBjYXNlIFwiU0FGRVRZXCI6XG4gICAgICByZXR1cm4gXCJjb250ZW50LWZpbHRlclwiO1xuICAgIGNhc2UgXCJGSU5JU0hfUkVBU09OX1VOU1BFQ0lGSUVEXCI6XG4gICAgY2FzZSBcIk9USEVSXCI6XG4gICAgICByZXR1cm4gXCJvdGhlclwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJ1bmtub3duXCI7XG4gIH1cbn1cblxuLy8gc3JjL2dvb2dsZS1nZW5lcmF0aXZlLWFpLWxhbmd1YWdlLW1vZGVsLnRzXG52YXIgR29vZ2xlR2VuZXJhdGl2ZUFJTGFuZ3VhZ2VNb2RlbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IobW9kZWxJZCwgc2V0dGluZ3MsIGNvbmZpZykge1xuICAgIHRoaXMuc3BlY2lmaWNhdGlvblZlcnNpb24gPSBcInYxXCI7XG4gICAgdGhpcy5kZWZhdWx0T2JqZWN0R2VuZXJhdGlvbk1vZGUgPSBcImpzb25cIjtcbiAgICB0aGlzLnN1cHBvcnRzSW1hZ2VVcmxzID0gZmFsc2U7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gIH1cbiAgZ2V0IHN1cHBvcnRzU3RydWN0dXJlZE91dHB1dHMoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSB0aGlzLnNldHRpbmdzLnN0cnVjdHVyZWRPdXRwdXRzKSAhPSBudWxsID8gX2EgOiB0cnVlO1xuICB9XG4gIGdldCBwcm92aWRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcucHJvdmlkZXI7XG4gIH1cbiAgYXN5bmMgZ2V0QXJncyh7XG4gICAgbW9kZSxcbiAgICBwcm9tcHQsXG4gICAgbWF4VG9rZW5zLFxuICAgIHRlbXBlcmF0dXJlLFxuICAgIHRvcFAsXG4gICAgdG9wSyxcbiAgICBmcmVxdWVuY3lQZW5hbHR5LFxuICAgIHByZXNlbmNlUGVuYWx0eSxcbiAgICBzdG9wU2VxdWVuY2VzLFxuICAgIHJlc3BvbnNlRm9ybWF0LFxuICAgIHNlZWRcbiAgfSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgdHlwZSA9IG1vZGUudHlwZTtcbiAgICBjb25zdCB3YXJuaW5ncyA9IFtdO1xuICAgIGlmIChzZWVkICE9IG51bGwpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInVuc3VwcG9ydGVkLXNldHRpbmdcIixcbiAgICAgICAgc2V0dGluZzogXCJzZWVkXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBnZW5lcmF0aW9uQ29uZmlnID0ge1xuICAgICAgLy8gc3RhbmRhcmRpemVkIHNldHRpbmdzOlxuICAgICAgbWF4T3V0cHV0VG9rZW5zOiBtYXhUb2tlbnMsXG4gICAgICB0ZW1wZXJhdHVyZSxcbiAgICAgIHRvcEssXG4gICAgICB0b3BQLFxuICAgICAgZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgIHByZXNlbmNlUGVuYWx0eSxcbiAgICAgIHN0b3BTZXF1ZW5jZXMsXG4gICAgICAvLyByZXNwb25zZSBmb3JtYXQ6XG4gICAgICByZXNwb25zZU1pbWVUeXBlOiAocmVzcG9uc2VGb3JtYXQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3BvbnNlRm9ybWF0LnR5cGUpID09PSBcImpzb25cIiA/IFwiYXBwbGljYXRpb24vanNvblwiIDogdm9pZCAwLFxuICAgICAgcmVzcG9uc2VTY2hlbWE6IChyZXNwb25zZUZvcm1hdCA9PSBudWxsID8gdm9pZCAwIDogcmVzcG9uc2VGb3JtYXQudHlwZSkgPT09IFwianNvblwiICYmIHJlc3BvbnNlRm9ybWF0LnNjaGVtYSAhPSBudWxsICYmIC8vIEdvb2dsZSBHZW5BSSBkb2VzIG5vdCBzdXBwb3J0IGFsbCBPcGVuQVBJIFNjaGVtYSBmZWF0dXJlcyxcbiAgICAgIC8vIHNvIHRoaXMgaXMgbmVlZGVkIGFzIGFuIGVzY2FwZSBoYXRjaDpcbiAgICAgIHRoaXMuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyA/IGNvbnZlcnRKU09OU2NoZW1hVG9PcGVuQVBJU2NoZW1hKHJlc3BvbnNlRm9ybWF0LnNjaGVtYSkgOiB2b2lkIDAsXG4gICAgICAuLi50aGlzLnNldHRpbmdzLmF1ZGlvVGltZXN0YW1wICYmIHtcbiAgICAgICAgYXVkaW9UaW1lc3RhbXA6IHRoaXMuc2V0dGluZ3MuYXVkaW9UaW1lc3RhbXBcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHsgY29udGVudHMsIHN5c3RlbUluc3RydWN0aW9uIH0gPSBjb252ZXJ0VG9Hb29nbGVHZW5lcmF0aXZlQUlNZXNzYWdlcyhwcm9tcHQpO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInJlZ3VsYXJcIjoge1xuICAgICAgICBjb25zdCB7IHRvb2xzLCB0b29sQ29uZmlnLCB0b29sV2FybmluZ3MgfSA9IHByZXBhcmVUb29scyhcbiAgICAgICAgICBtb2RlLFxuICAgICAgICAgIChfYSA9IHRoaXMuc2V0dGluZ3MudXNlU2VhcmNoR3JvdW5kaW5nKSAhPSBudWxsID8gX2EgOiBmYWxzZSxcbiAgICAgICAgICB0aGlzLm1vZGVsSWQuaW5jbHVkZXMoXCJnZW1pbmktMlwiKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWcsXG4gICAgICAgICAgICBjb250ZW50cyxcbiAgICAgICAgICAgIHN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICAgICAgc2FmZXR5U2V0dGluZ3M6IHRoaXMuc2V0dGluZ3Muc2FmZXR5U2V0dGluZ3MsXG4gICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgIHRvb2xDb25maWcsXG4gICAgICAgICAgICBjYWNoZWRDb250ZW50OiB0aGlzLnNldHRpbmdzLmNhY2hlZENvbnRlbnRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHdhcm5pbmdzOiBbLi4ud2FybmluZ3MsIC4uLnRvb2xXYXJuaW5nc11cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJvYmplY3QtanNvblwiOiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZzoge1xuICAgICAgICAgICAgICAuLi5nZW5lcmF0aW9uQ29uZmlnLFxuICAgICAgICAgICAgICByZXNwb25zZU1pbWVUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgcmVzcG9uc2VTY2hlbWE6IG1vZGUuc2NoZW1hICE9IG51bGwgJiYgLy8gR29vZ2xlIEdlbkFJIGRvZXMgbm90IHN1cHBvcnQgYWxsIE9wZW5BUEkgU2NoZW1hIGZlYXR1cmVzLFxuICAgICAgICAgICAgICAvLyBzbyB0aGlzIGlzIG5lZWRlZCBhcyBhbiBlc2NhcGUgaGF0Y2g6XG4gICAgICAgICAgICAgIHRoaXMuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyA/IGNvbnZlcnRKU09OU2NoZW1hVG9PcGVuQVBJU2NoZW1hKG1vZGUuc2NoZW1hKSA6IHZvaWQgMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRlbnRzLFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICBzYWZldHlTZXR0aW5nczogdGhpcy5zZXR0aW5ncy5zYWZldHlTZXR0aW5ncyxcbiAgICAgICAgICAgIGNhY2hlZENvbnRlbnQ6IHRoaXMuc2V0dGluZ3MuY2FjaGVkQ29udGVudFxuICAgICAgICAgIH0sXG4gICAgICAgICAgd2FybmluZ3NcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJvYmplY3QtdG9vbFwiOiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZyxcbiAgICAgICAgICAgIGNvbnRlbnRzLFxuICAgICAgICAgICAgdG9vbHM6IHtcbiAgICAgICAgICAgICAgZnVuY3Rpb25EZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBtb2RlLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAoX2IgPSBtb2RlLnRvb2wuZGVzY3JpcHRpb24pICE9IG51bGwgPyBfYiA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBjb252ZXJ0SlNPTlNjaGVtYVRvT3BlbkFQSVNjaGVtYShcbiAgICAgICAgICAgICAgICAgICAgbW9kZS50b29sLnBhcmFtZXRlcnNcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sQ29uZmlnOiB7IGZ1bmN0aW9uQ2FsbGluZ0NvbmZpZzogeyBtb2RlOiBcIkFOWVwiIH0gfSxcbiAgICAgICAgICAgIHNhZmV0eVNldHRpbmdzOiB0aGlzLnNldHRpbmdzLnNhZmV0eVNldHRpbmdzLFxuICAgICAgICAgICAgY2FjaGVkQ29udGVudDogdGhpcy5zZXR0aW5ncy5jYWNoZWRDb250ZW50XG4gICAgICAgICAgfSxcbiAgICAgICAgICB3YXJuaW5nc1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gdHlwZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN1cHBvcnRzVXJsKHVybCkge1xuICAgIHJldHVybiB1cmwudG9TdHJpbmcoKS5zdGFydHNXaXRoKFwiaHR0cHM6Ly9nZW5lcmF0aXZlbGFuZ3VhZ2UuZ29vZ2xlYXBpcy5jb20vdjFiZXRhL2ZpbGVzL1wiKTtcbiAgfVxuICBhc3luYyBkb0dlbmVyYXRlKG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgIGNvbnN0IHsgYXJncywgd2FybmluZ3MgfSA9IGF3YWl0IHRoaXMuZ2V0QXJncyhvcHRpb25zKTtcbiAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoYXJncyk7XG4gICAgY29uc3QgbWVyZ2VkSGVhZGVycyA9IGNvbWJpbmVIZWFkZXJzKFxuICAgICAgYXdhaXQgcmVzb2x2ZSh0aGlzLmNvbmZpZy5oZWFkZXJzKSxcbiAgICAgIG9wdGlvbnMuaGVhZGVyc1xuICAgICk7XG4gICAgY29uc3QgeyByZXNwb25zZUhlYWRlcnMsIHZhbHVlOiByZXNwb25zZSB9ID0gYXdhaXQgcG9zdEpzb25Ub0FwaSh7XG4gICAgICB1cmw6IGAke3RoaXMuY29uZmlnLmJhc2VVUkx9LyR7Z2V0TW9kZWxQYXRoKFxuICAgICAgICB0aGlzLm1vZGVsSWRcbiAgICAgICl9OmdlbmVyYXRlQ29udGVudGAsXG4gICAgICBoZWFkZXJzOiBtZXJnZWRIZWFkZXJzLFxuICAgICAgYm9keTogYXJncyxcbiAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogZ29vZ2xlRmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcihyZXNwb25zZVNjaGVtYSksXG4gICAgICBhYm9ydFNpZ25hbDogb3B0aW9ucy5hYm9ydFNpZ25hbCxcbiAgICAgIGZldGNoOiB0aGlzLmNvbmZpZy5mZXRjaFxuICAgIH0pO1xuICAgIGNvbnN0IHsgY29udGVudHM6IHJhd1Byb21wdCwgLi4ucmF3U2V0dGluZ3MgfSA9IGFyZ3M7XG4gICAgY29uc3QgY2FuZGlkYXRlID0gcmVzcG9uc2UuY2FuZGlkYXRlc1swXTtcbiAgICBjb25zdCB0b29sQ2FsbHMgPSBnZXRUb29sQ2FsbHNGcm9tUGFydHMoe1xuICAgICAgcGFydHM6IChfYiA9IChfYSA9IGNhbmRpZGF0ZS5jb250ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EucGFydHMpICE9IG51bGwgPyBfYiA6IFtdLFxuICAgICAgZ2VuZXJhdGVJZDogdGhpcy5jb25maWcuZ2VuZXJhdGVJZFxuICAgIH0pO1xuICAgIGNvbnN0IHVzYWdlTWV0YWRhdGEgPSByZXNwb25zZS51c2FnZU1ldGFkYXRhO1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiBnZXRUZXh0RnJvbVBhcnRzKChfZCA9IChfYyA9IGNhbmRpZGF0ZS5jb250ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2MucGFydHMpICE9IG51bGwgPyBfZCA6IFtdKSxcbiAgICAgIHRvb2xDYWxscyxcbiAgICAgIGZpbmlzaFJlYXNvbjogbWFwR29vZ2xlR2VuZXJhdGl2ZUFJRmluaXNoUmVhc29uKHtcbiAgICAgICAgZmluaXNoUmVhc29uOiBjYW5kaWRhdGUuZmluaXNoUmVhc29uLFxuICAgICAgICBoYXNUb29sQ2FsbHM6IHRvb2xDYWxscyAhPSBudWxsICYmIHRvb2xDYWxscy5sZW5ndGggPiAwXG4gICAgICB9KSxcbiAgICAgIHVzYWdlOiB7XG4gICAgICAgIHByb21wdFRva2VuczogKF9lID0gdXNhZ2VNZXRhZGF0YSA9PSBudWxsID8gdm9pZCAwIDogdXNhZ2VNZXRhZGF0YS5wcm9tcHRUb2tlbkNvdW50KSAhPSBudWxsID8gX2UgOiBOYU4sXG4gICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IChfZiA9IHVzYWdlTWV0YWRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IHVzYWdlTWV0YWRhdGEuY2FuZGlkYXRlc1Rva2VuQ291bnQpICE9IG51bGwgPyBfZiA6IE5hTlxuICAgICAgfSxcbiAgICAgIHJhd0NhbGw6IHsgcmF3UHJvbXB0LCByYXdTZXR0aW5ncyB9LFxuICAgICAgcmF3UmVzcG9uc2U6IHsgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzIH0sXG4gICAgICB3YXJuaW5ncyxcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHtcbiAgICAgICAgZ29vZ2xlOiB7XG4gICAgICAgICAgZ3JvdW5kaW5nTWV0YWRhdGE6IChfZyA9IGNhbmRpZGF0ZS5ncm91bmRpbmdNZXRhZGF0YSkgIT0gbnVsbCA/IF9nIDogbnVsbCxcbiAgICAgICAgICBzYWZldHlSYXRpbmdzOiAoX2ggPSBjYW5kaWRhdGUuc2FmZXR5UmF0aW5ncykgIT0gbnVsbCA/IF9oIDogbnVsbFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVxdWVzdDogeyBib2R5IH1cbiAgICB9O1xuICB9XG4gIGFzeW5jIGRvU3RyZWFtKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGFyZ3MsIHdhcm5pbmdzIH0gPSBhd2FpdCB0aGlzLmdldEFyZ3Mob3B0aW9ucyk7XG4gICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KGFyZ3MpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBjb21iaW5lSGVhZGVycyhcbiAgICAgIGF3YWl0IHJlc29sdmUodGhpcy5jb25maWcuaGVhZGVycyksXG4gICAgICBvcHRpb25zLmhlYWRlcnNcbiAgICApO1xuICAgIGNvbnN0IHsgcmVzcG9uc2VIZWFkZXJzLCB2YWx1ZTogcmVzcG9uc2UgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkoe1xuICAgICAgdXJsOiBgJHt0aGlzLmNvbmZpZy5iYXNlVVJMfS8ke2dldE1vZGVsUGF0aChcbiAgICAgICAgdGhpcy5tb2RlbElkXG4gICAgICApfTpzdHJlYW1HZW5lcmF0ZUNvbnRlbnQ/YWx0PXNzZWAsXG4gICAgICBoZWFkZXJzLFxuICAgICAgYm9keTogYXJncyxcbiAgICAgIGZhaWxlZFJlc3BvbnNlSGFuZGxlcjogZ29vZ2xlRmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICAgICAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcjogY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIoY2h1bmtTY2hlbWEpLFxuICAgICAgYWJvcnRTaWduYWw6IG9wdGlvbnMuYWJvcnRTaWduYWwsXG4gICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2hcbiAgICB9KTtcbiAgICBjb25zdCB7IGNvbnRlbnRzOiByYXdQcm9tcHQsIC4uLnJhd1NldHRpbmdzIH0gPSBhcmdzO1xuICAgIGxldCBmaW5pc2hSZWFzb24gPSBcInVua25vd25cIjtcbiAgICBsZXQgdXNhZ2UgPSB7XG4gICAgICBwcm9tcHRUb2tlbnM6IE51bWJlci5OYU4sXG4gICAgICBjb21wbGV0aW9uVG9rZW5zOiBOdW1iZXIuTmFOXG4gICAgfTtcbiAgICBsZXQgcHJvdmlkZXJNZXRhZGF0YSA9IHZvaWQgMDtcbiAgICBjb25zdCBnZW5lcmF0ZUlkMiA9IHRoaXMuY29uZmlnLmdlbmVyYXRlSWQ7XG4gICAgbGV0IGhhc1Rvb2xDYWxscyA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICBzdHJlYW06IHJlc3BvbnNlLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICBpZiAoIWNodW5rLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogY2h1bmsuZXJyb3IgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2h1bmsudmFsdWU7XG4gICAgICAgICAgICBjb25zdCB1c2FnZU1ldGFkYXRhID0gdmFsdWUudXNhZ2VNZXRhZGF0YTtcbiAgICAgICAgICAgIGlmICh1c2FnZU1ldGFkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgdXNhZ2UgPSB7XG4gICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiAoX2EgPSB1c2FnZU1ldGFkYXRhLnByb21wdFRva2VuQ291bnQpICE9IG51bGwgPyBfYSA6IE5hTixcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiAoX2IgPSB1c2FnZU1ldGFkYXRhLmNhbmRpZGF0ZXNUb2tlbkNvdW50KSAhPSBudWxsID8gX2IgOiBOYU5cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IChfYyA9IHZhbHVlLmNhbmRpZGF0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBfY1swXTtcbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuZGlkYXRlLmZpbmlzaFJlYXNvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IG1hcEdvb2dsZUdlbmVyYXRpdmVBSUZpbmlzaFJlYXNvbih7XG4gICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjYW5kaWRhdGUuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgIGhhc1Rvb2xDYWxsc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBnb29nbGU6IHtcbiAgICAgICAgICAgICAgICAgIGdyb3VuZGluZ01ldGFkYXRhOiAoX2QgPSBjYW5kaWRhdGUuZ3JvdW5kaW5nTWV0YWRhdGEpICE9IG51bGwgPyBfZCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICBzYWZldHlSYXRpbmdzOiAoX2UgPSBjYW5kaWRhdGUuc2FmZXR5UmF0aW5ncykgIT0gbnVsbCA/IF9lIDogbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjYW5kaWRhdGUuY29udGVudDtcbiAgICAgICAgICAgIGlmIChjb250ZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGVsdGFUZXh0ID0gZ2V0VGV4dEZyb21QYXJ0cyhjb250ZW50LnBhcnRzKTtcbiAgICAgICAgICAgIGlmIChkZWx0YVRleHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgIHRleHREZWx0YTogZGVsdGFUZXh0XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdG9vbENhbGxEZWx0YXMgPSBnZXRUb29sQ2FsbHNGcm9tUGFydHMoe1xuICAgICAgICAgICAgICBwYXJ0czogY29udGVudC5wYXJ0cyxcbiAgICAgICAgICAgICAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRvb2xDYWxsRGVsdGFzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiB0b29sQ2FsbERlbHRhcykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgYXJnc1RleHREZWx0YTogdG9vbENhbGwuYXJnc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbFwiLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgYXJnczogdG9vbENhbGwuYXJnc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGhhc1Rvb2xDYWxscyA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZmluaXNoXCIsXG4gICAgICAgICAgICAgIGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICByYXdDYWxsOiB7IHJhd1Byb21wdCwgcmF3U2V0dGluZ3MgfSxcbiAgICAgIHJhd1Jlc3BvbnNlOiB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9LFxuICAgICAgd2FybmluZ3MsXG4gICAgICByZXF1ZXN0OiB7IGJvZHkgfVxuICAgIH07XG4gIH1cbn07XG5mdW5jdGlvbiBnZXRUb29sQ2FsbHNGcm9tUGFydHMoe1xuICBwYXJ0cyxcbiAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDJcbn0pIHtcbiAgY29uc3QgZnVuY3Rpb25DYWxsUGFydHMgPSBwYXJ0cy5maWx0ZXIoXG4gICAgKHBhcnQpID0+IFwiZnVuY3Rpb25DYWxsXCIgaW4gcGFydFxuICApO1xuICByZXR1cm4gZnVuY3Rpb25DYWxsUGFydHMubGVuZ3RoID09PSAwID8gdm9pZCAwIDogZnVuY3Rpb25DYWxsUGFydHMubWFwKChwYXJ0KSA9PiAoe1xuICAgIHRvb2xDYWxsVHlwZTogXCJmdW5jdGlvblwiLFxuICAgIHRvb2xDYWxsSWQ6IGdlbmVyYXRlSWQyKCksXG4gICAgdG9vbE5hbWU6IHBhcnQuZnVuY3Rpb25DYWxsLm5hbWUsXG4gICAgYXJnczogSlNPTi5zdHJpbmdpZnkocGFydC5mdW5jdGlvbkNhbGwuYXJncylcbiAgfSkpO1xufVxuZnVuY3Rpb24gZ2V0VGV4dEZyb21QYXJ0cyhwYXJ0cykge1xuICBjb25zdCB0ZXh0UGFydHMgPSBwYXJ0cy5maWx0ZXIoKHBhcnQpID0+IFwidGV4dFwiIGluIHBhcnQpO1xuICByZXR1cm4gdGV4dFBhcnRzLmxlbmd0aCA9PT0gMCA/IHZvaWQgMCA6IHRleHRQYXJ0cy5tYXAoKHBhcnQpID0+IHBhcnQudGV4dCkuam9pbihcIlwiKTtcbn1cbnZhciBjb250ZW50U2NoZW1hID0gejIub2JqZWN0KHtcbiAgcm9sZTogejIuc3RyaW5nKCksXG4gIHBhcnRzOiB6Mi5hcnJheShcbiAgICB6Mi51bmlvbihbXG4gICAgICB6Mi5vYmplY3Qoe1xuICAgICAgICB0ZXh0OiB6Mi5zdHJpbmcoKVxuICAgICAgfSksXG4gICAgICB6Mi5vYmplY3Qoe1xuICAgICAgICBmdW5jdGlvbkNhbGw6IHoyLm9iamVjdCh7XG4gICAgICAgICAgbmFtZTogejIuc3RyaW5nKCksXG4gICAgICAgICAgYXJnczogejIudW5rbm93bigpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIF0pXG4gIClcbn0pO1xudmFyIGdyb3VuZGluZ01ldGFkYXRhU2NoZW1hID0gejIub2JqZWN0KHtcbiAgd2ViU2VhcmNoUXVlcmllczogejIuYXJyYXkoejIuc3RyaW5nKCkpLm51bGxpc2goKSxcbiAgcmV0cmlldmFsUXVlcmllczogejIuYXJyYXkoejIuc3RyaW5nKCkpLm51bGxpc2goKSxcbiAgc2VhcmNoRW50cnlQb2ludDogejIub2JqZWN0KHtcbiAgICByZW5kZXJlZENvbnRlbnQ6IHoyLnN0cmluZygpXG4gIH0pLm51bGxpc2goKSxcbiAgZ3JvdW5kaW5nQ2h1bmtzOiB6Mi5hcnJheShcbiAgICB6Mi5vYmplY3Qoe1xuICAgICAgd2ViOiB6Mi5vYmplY3Qoe1xuICAgICAgICB1cmk6IHoyLnN0cmluZygpLFxuICAgICAgICB0aXRsZTogejIuc3RyaW5nKClcbiAgICAgIH0pLm51bGxpc2goKSxcbiAgICAgIHJldHJpZXZlZENvbnRleHQ6IHoyLm9iamVjdCh7XG4gICAgICAgIHVyaTogejIuc3RyaW5nKCksXG4gICAgICAgIHRpdGxlOiB6Mi5zdHJpbmcoKVxuICAgICAgfSkubnVsbGlzaCgpXG4gICAgfSlcbiAgKS5udWxsaXNoKCksXG4gIGdyb3VuZGluZ1N1cHBvcnRzOiB6Mi5hcnJheShcbiAgICB6Mi5vYmplY3Qoe1xuICAgICAgc2VnbWVudDogejIub2JqZWN0KHtcbiAgICAgICAgc3RhcnRJbmRleDogejIubnVtYmVyKCkubnVsbGlzaCgpLFxuICAgICAgICBlbmRJbmRleDogejIubnVtYmVyKCkubnVsbGlzaCgpLFxuICAgICAgICB0ZXh0OiB6Mi5zdHJpbmcoKS5udWxsaXNoKClcbiAgICAgIH0pLFxuICAgICAgc2VnbWVudF90ZXh0OiB6Mi5zdHJpbmcoKS5udWxsaXNoKCksXG4gICAgICBncm91bmRpbmdDaHVua0luZGljZXM6IHoyLmFycmF5KHoyLm51bWJlcigpKS5udWxsaXNoKCksXG4gICAgICBzdXBwb3J0Q2h1bmtJbmRpY2VzOiB6Mi5hcnJheSh6Mi5udW1iZXIoKSkubnVsbGlzaCgpLFxuICAgICAgY29uZmlkZW5jZVNjb3JlczogejIuYXJyYXkoejIubnVtYmVyKCkpLm51bGxpc2goKSxcbiAgICAgIGNvbmZpZGVuY2VTY29yZTogejIuYXJyYXkoejIubnVtYmVyKCkpLm51bGxpc2goKVxuICAgIH0pXG4gICkubnVsbGlzaCgpLFxuICByZXRyaWV2YWxNZXRhZGF0YTogejIudW5pb24oW1xuICAgIHoyLm9iamVjdCh7XG4gICAgICB3ZWJEeW5hbWljUmV0cmlldmFsU2NvcmU6IHoyLm51bWJlcigpXG4gICAgfSksXG4gICAgejIub2JqZWN0KHt9KVxuICBdKS5udWxsaXNoKClcbn0pO1xudmFyIHNhZmV0eVJhdGluZ1NjaGVtYSA9IHoyLm9iamVjdCh7XG4gIGNhdGVnb3J5OiB6Mi5zdHJpbmcoKSxcbiAgcHJvYmFiaWxpdHk6IHoyLnN0cmluZygpLFxuICBwcm9iYWJpbGl0eVNjb3JlOiB6Mi5udW1iZXIoKS5udWxsaXNoKCksXG4gIHNldmVyaXR5OiB6Mi5zdHJpbmcoKS5udWxsaXNoKCksXG4gIHNldmVyaXR5U2NvcmU6IHoyLm51bWJlcigpLm51bGxpc2goKSxcbiAgYmxvY2tlZDogejIuYm9vbGVhbigpLm51bGxpc2goKVxufSk7XG52YXIgcmVzcG9uc2VTY2hlbWEgPSB6Mi5vYmplY3Qoe1xuICBjYW5kaWRhdGVzOiB6Mi5hcnJheShcbiAgICB6Mi5vYmplY3Qoe1xuICAgICAgY29udGVudDogY29udGVudFNjaGVtYS5udWxsaXNoKCksXG4gICAgICBmaW5pc2hSZWFzb246IHoyLnN0cmluZygpLm51bGxpc2goKSxcbiAgICAgIHNhZmV0eVJhdGluZ3M6IHoyLmFycmF5KHNhZmV0eVJhdGluZ1NjaGVtYSkubnVsbGlzaCgpLFxuICAgICAgZ3JvdW5kaW5nTWV0YWRhdGE6IGdyb3VuZGluZ01ldGFkYXRhU2NoZW1hLm51bGxpc2goKVxuICAgIH0pXG4gICksXG4gIHVzYWdlTWV0YWRhdGE6IHoyLm9iamVjdCh7XG4gICAgcHJvbXB0VG9rZW5Db3VudDogejIubnVtYmVyKCkubnVsbGlzaCgpLFxuICAgIGNhbmRpZGF0ZXNUb2tlbkNvdW50OiB6Mi5udW1iZXIoKS5udWxsaXNoKCksXG4gICAgdG90YWxUb2tlbkNvdW50OiB6Mi5udW1iZXIoKS5udWxsaXNoKClcbiAgfSkubnVsbGlzaCgpXG59KTtcbnZhciBjaHVua1NjaGVtYSA9IHoyLm9iamVjdCh7XG4gIGNhbmRpZGF0ZXM6IHoyLmFycmF5KFxuICAgIHoyLm9iamVjdCh7XG4gICAgICBjb250ZW50OiBjb250ZW50U2NoZW1hLm51bGxpc2goKSxcbiAgICAgIGZpbmlzaFJlYXNvbjogejIuc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgICAgc2FmZXR5UmF0aW5nczogejIuYXJyYXkoc2FmZXR5UmF0aW5nU2NoZW1hKS5udWxsaXNoKCksXG4gICAgICBncm91bmRpbmdNZXRhZGF0YTogZ3JvdW5kaW5nTWV0YWRhdGFTY2hlbWEubnVsbGlzaCgpXG4gICAgfSlcbiAgKS5udWxsaXNoKCksXG4gIHVzYWdlTWV0YWRhdGE6IHoyLm9iamVjdCh7XG4gICAgcHJvbXB0VG9rZW5Db3VudDogejIubnVtYmVyKCkubnVsbGlzaCgpLFxuICAgIGNhbmRpZGF0ZXNUb2tlbkNvdW50OiB6Mi5udW1iZXIoKS5udWxsaXNoKCksXG4gICAgdG90YWxUb2tlbkNvdW50OiB6Mi5udW1iZXIoKS5udWxsaXNoKClcbiAgfSkubnVsbGlzaCgpXG59KTtcblxuLy8gc3JjL2dvb2dsZS1nZW5lcmF0aXZlLWFpLWVtYmVkZGluZy1tb2RlbC50c1xuaW1wb3J0IHtcbiAgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvclxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHtcbiAgY29tYmluZUhlYWRlcnMgYXMgY29tYmluZUhlYWRlcnMyLFxuICBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyIGFzIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIyLFxuICBwb3N0SnNvblRvQXBpIGFzIHBvc3RKc29uVG9BcGkyLFxuICByZXNvbHZlIGFzIHJlc29sdmUyXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyB6IGFzIHozIH0gZnJvbSBcInpvZFwiO1xudmFyIEdvb2dsZUdlbmVyYXRpdmVBSUVtYmVkZGluZ01vZGVsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihtb2RlbElkLCBzZXR0aW5ncywgY29uZmlnKSB7XG4gICAgdGhpcy5zcGVjaWZpY2F0aW9uVmVyc2lvbiA9IFwidjFcIjtcbiAgICB0aGlzLm1vZGVsSWQgPSBtb2RlbElkO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuICBnZXQgcHJvdmlkZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnByb3ZpZGVyO1xuICB9XG4gIGdldCBtYXhFbWJlZGRpbmdzUGVyQ2FsbCgpIHtcbiAgICByZXR1cm4gMjA0ODtcbiAgfVxuICBnZXQgc3VwcG9ydHNQYXJhbGxlbENhbGxzKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGFzeW5jIGRvRW1iZWQoe1xuICAgIHZhbHVlcyxcbiAgICBoZWFkZXJzLFxuICAgIGFib3J0U2lnbmFsXG4gIH0pIHtcbiAgICBpZiAodmFsdWVzLmxlbmd0aCA+IHRoaXMubWF4RW1iZWRkaW5nc1BlckNhbGwpIHtcbiAgICAgIHRocm93IG5ldyBUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yKHtcbiAgICAgICAgcHJvdmlkZXI6IHRoaXMucHJvdmlkZXIsXG4gICAgICAgIG1vZGVsSWQ6IHRoaXMubW9kZWxJZCxcbiAgICAgICAgbWF4RW1iZWRkaW5nc1BlckNhbGw6IHRoaXMubWF4RW1iZWRkaW5nc1BlckNhbGwsXG4gICAgICAgIHZhbHVlc1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IG1lcmdlZEhlYWRlcnMgPSBjb21iaW5lSGVhZGVyczIoXG4gICAgICBhd2FpdCByZXNvbHZlMih0aGlzLmNvbmZpZy5oZWFkZXJzKSxcbiAgICAgIGhlYWRlcnNcbiAgICApO1xuICAgIGNvbnN0IHsgcmVzcG9uc2VIZWFkZXJzLCB2YWx1ZTogcmVzcG9uc2UgfSA9IGF3YWl0IHBvc3RKc29uVG9BcGkyKHtcbiAgICAgIHVybDogYCR7dGhpcy5jb25maWcuYmFzZVVSTH0vbW9kZWxzLyR7dGhpcy5tb2RlbElkfTpiYXRjaEVtYmVkQ29udGVudHNgLFxuICAgICAgaGVhZGVyczogbWVyZ2VkSGVhZGVycyxcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgcmVxdWVzdHM6IHZhbHVlcy5tYXAoKHZhbHVlKSA9PiAoe1xuICAgICAgICAgIG1vZGVsOiBgbW9kZWxzLyR7dGhpcy5tb2RlbElkfWAsXG4gICAgICAgICAgY29udGVudDogeyByb2xlOiBcInVzZXJcIiwgcGFydHM6IFt7IHRleHQ6IHZhbHVlIH1dIH0sXG4gICAgICAgICAgb3V0cHV0RGltZW5zaW9uYWxpdHk6IHRoaXMuc2V0dGluZ3Mub3V0cHV0RGltZW5zaW9uYWxpdHlcbiAgICAgICAgfSkpXG4gICAgICB9LFxuICAgICAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyOiBnb29nbGVGYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gICAgICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyOiBjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyMihcbiAgICAgICAgZ29vZ2xlR2VuZXJhdGl2ZUFJVGV4dEVtYmVkZGluZ1Jlc3BvbnNlU2NoZW1hXG4gICAgICApLFxuICAgICAgYWJvcnRTaWduYWwsXG4gICAgICBmZXRjaDogdGhpcy5jb25maWcuZmV0Y2hcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZW1iZWRkaW5nczogcmVzcG9uc2UuZW1iZWRkaW5ncy5tYXAoKGl0ZW0pID0+IGl0ZW0udmFsdWVzKSxcbiAgICAgIHVzYWdlOiB2b2lkIDAsXG4gICAgICByYXdSZXNwb25zZTogeyBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMgfVxuICAgIH07XG4gIH1cbn07XG52YXIgZ29vZ2xlR2VuZXJhdGl2ZUFJVGV4dEVtYmVkZGluZ1Jlc3BvbnNlU2NoZW1hID0gejMub2JqZWN0KHtcbiAgZW1iZWRkaW5nczogejMuYXJyYXkoejMub2JqZWN0KHsgdmFsdWVzOiB6My5hcnJheSh6My5udW1iZXIoKSkgfSkpXG59KTtcblxuLy8gc3JjL2dvb2dsZS1wcm92aWRlci50c1xuZnVuY3Rpb24gY3JlYXRlR29vZ2xlR2VuZXJhdGl2ZUFJKG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IGJhc2VVUkwgPSAoX2EgPSB3aXRob3V0VHJhaWxpbmdTbGFzaChvcHRpb25zLmJhc2VVUkwpKSAhPSBudWxsID8gX2EgOiBcImh0dHBzOi8vZ2VuZXJhdGl2ZWxhbmd1YWdlLmdvb2dsZWFwaXMuY29tL3YxYmV0YVwiO1xuICBjb25zdCBnZXRIZWFkZXJzID0gKCkgPT4gKHtcbiAgICBcIngtZ29vZy1hcGkta2V5XCI6IGxvYWRBcGlLZXkoe1xuICAgICAgYXBpS2V5OiBvcHRpb25zLmFwaUtleSxcbiAgICAgIGVudmlyb25tZW50VmFyaWFibGVOYW1lOiBcIkdPT0dMRV9HRU5FUkFUSVZFX0FJX0FQSV9LRVlcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkdvb2dsZSBHZW5lcmF0aXZlIEFJXCJcbiAgICB9KSxcbiAgICAuLi5vcHRpb25zLmhlYWRlcnNcbiAgfSk7XG4gIGNvbnN0IGNyZWF0ZUNoYXRNb2RlbCA9IChtb2RlbElkLCBzZXR0aW5ncyA9IHt9KSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICByZXR1cm4gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUxhbmd1YWdlTW9kZWwobW9kZWxJZCwgc2V0dGluZ3MsIHtcbiAgICAgIHByb3ZpZGVyOiBcImdvb2dsZS5nZW5lcmF0aXZlLWFpXCIsXG4gICAgICBiYXNlVVJMLFxuICAgICAgaGVhZGVyczogZ2V0SGVhZGVycyxcbiAgICAgIGdlbmVyYXRlSWQ6IChfYTIgPSBvcHRpb25zLmdlbmVyYXRlSWQpICE9IG51bGwgPyBfYTIgOiBnZW5lcmF0ZUlkLFxuICAgICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2hcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgY3JlYXRlRW1iZWRkaW5nTW9kZWwgPSAobW9kZWxJZCwgc2V0dGluZ3MgPSB7fSkgPT4gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSUVtYmVkZGluZ01vZGVsKG1vZGVsSWQsIHNldHRpbmdzLCB7XG4gICAgcHJvdmlkZXI6IFwiZ29vZ2xlLmdlbmVyYXRpdmUtYWlcIixcbiAgICBiYXNlVVJMLFxuICAgIGhlYWRlcnM6IGdldEhlYWRlcnMsXG4gICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2hcbiAgfSk7XG4gIGNvbnN0IHByb3ZpZGVyID0gZnVuY3Rpb24obW9kZWxJZCwgc2V0dGluZ3MpIHtcbiAgICBpZiAobmV3LnRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSBHb29nbGUgR2VuZXJhdGl2ZSBBSSBtb2RlbCBmdW5jdGlvbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBrZXl3b3JkLlwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhdE1vZGVsKG1vZGVsSWQsIHNldHRpbmdzKTtcbiAgfTtcbiAgcHJvdmlkZXIubGFuZ3VhZ2VNb2RlbCA9IGNyZWF0ZUNoYXRNb2RlbDtcbiAgcHJvdmlkZXIuY2hhdCA9IGNyZWF0ZUNoYXRNb2RlbDtcbiAgcHJvdmlkZXIuZ2VuZXJhdGl2ZUFJID0gY3JlYXRlQ2hhdE1vZGVsO1xuICBwcm92aWRlci5lbWJlZGRpbmcgPSBjcmVhdGVFbWJlZGRpbmdNb2RlbDtcbiAgcHJvdmlkZXIudGV4dEVtYmVkZGluZyA9IGNyZWF0ZUVtYmVkZGluZ01vZGVsO1xuICBwcm92aWRlci50ZXh0RW1iZWRkaW5nTW9kZWwgPSBjcmVhdGVFbWJlZGRpbmdNb2RlbDtcbiAgcmV0dXJuIHByb3ZpZGVyO1xufVxudmFyIGdvb2dsZSA9IGNyZWF0ZUdvb2dsZUdlbmVyYXRpdmVBSSgpO1xuZXhwb3J0IHtcbiAgY3JlYXRlR29vZ2xlR2VuZXJhdGl2ZUFJLFxuICBnb29nbGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbImdlbmVyYXRlSWQiLCJsb2FkQXBpS2V5Iiwid2l0aG91dFRyYWlsaW5nU2xhc2giLCJjb21iaW5lSGVhZGVycyIsImNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyIiwiY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlciIsInBvc3RKc29uVG9BcGkiLCJyZXNvbHZlIiwieiIsInoyIiwiY29udmVydEpTT05TY2hlbWFUb09wZW5BUElTY2hlbWEiLCJqc29uU2NoZW1hIiwiaXNFbXB0eU9iamVjdFNjaGVtYSIsInR5cGUiLCJwcm9wZXJ0aWVzIiwiZGVzY3JpcHRpb24iLCJyZXF1aXJlZCIsIml0ZW1zIiwiYWxsT2YiLCJhbnlPZiIsIm9uZU9mIiwiZm9ybWF0IiwiY29uc3QiLCJjb25zdFZhbHVlIiwibWluTGVuZ3RoIiwicmVzdWx0IiwiZW51bSIsIkFycmF5IiwiaXNBcnJheSIsImluY2x1ZGVzIiwiZmlsdGVyIiwidCIsIm51bGxhYmxlIiwiT2JqZWN0IiwiZW50cmllcyIsInJlZHVjZSIsImFjYyIsImtleSIsInZhbHVlIiwibWFwIiwia2V5cyIsImxlbmd0aCIsIlVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yIiwiY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCIsImNvbnZlcnRUb0dvb2dsZUdlbmVyYXRpdmVBSU1lc3NhZ2VzIiwicHJvbXB0IiwiX2EiLCJfYiIsInN5c3RlbUluc3RydWN0aW9uUGFydHMiLCJjb250ZW50cyIsInN5c3RlbU1lc3NhZ2VzQWxsb3dlZCIsInJvbGUiLCJjb250ZW50IiwiZnVuY3Rpb25hbGl0eSIsInB1c2giLCJ0ZXh0IiwicGFydHMiLCJwYXJ0IiwiaW1hZ2UiLCJVUkwiLCJmaWxlRGF0YSIsIm1pbWVUeXBlIiwiZmlsZVVyaSIsInRvU3RyaW5nIiwiaW5saW5lRGF0YSIsImRhdGEiLCJfZXhoYXVzdGl2ZUNoZWNrIiwiZnVuY3Rpb25DYWxsIiwibmFtZSIsInRvb2xOYW1lIiwiYXJncyIsImZ1bmN0aW9uUmVzcG9uc2UiLCJyZXNwb25zZSIsIkVycm9yIiwic3lzdGVtSW5zdHJ1Y3Rpb24iLCJnZXRNb2RlbFBhdGgiLCJtb2RlbElkIiwiY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyIiwiZ29vZ2xlRXJyb3JEYXRhU2NoZW1hIiwib2JqZWN0IiwiZXJyb3IiLCJjb2RlIiwibnVtYmVyIiwibWVzc2FnZSIsInN0cmluZyIsInN0YXR1cyIsImdvb2dsZUZhaWxlZFJlc3BvbnNlSGFuZGxlciIsImVycm9yU2NoZW1hIiwiZXJyb3JUb01lc3NhZ2UiLCJVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcjIiLCJwcmVwYXJlVG9vbHMiLCJtb2RlIiwidXNlU2VhcmNoR3JvdW5kaW5nIiwiaXNHZW1pbmkyIiwidG9vbHMiLCJ0b29sV2FybmluZ3MiLCJnb29nbGVTZWFyY2giLCJnb29nbGVTZWFyY2hSZXRyaWV2YWwiLCJ0b29sQ29uZmlnIiwiZnVuY3Rpb25EZWNsYXJhdGlvbnMiLCJ0b29sIiwicGFyYW1ldGVycyIsInRvb2xDaG9pY2UiLCJmdW5jdGlvbkNhbGxpbmdDb25maWciLCJhbGxvd2VkRnVuY3Rpb25OYW1lcyIsIm1hcEdvb2dsZUdlbmVyYXRpdmVBSUZpbmlzaFJlYXNvbiIsImZpbmlzaFJlYXNvbiIsImhhc1Rvb2xDYWxscyIsIkdvb2dsZUdlbmVyYXRpdmVBSUxhbmd1YWdlTW9kZWwiLCJjb25zdHJ1Y3RvciIsInNldHRpbmdzIiwiY29uZmlnIiwic3BlY2lmaWNhdGlvblZlcnNpb24iLCJkZWZhdWx0T2JqZWN0R2VuZXJhdGlvbk1vZGUiLCJzdXBwb3J0c0ltYWdlVXJscyIsInN1cHBvcnRzU3RydWN0dXJlZE91dHB1dHMiLCJzdHJ1Y3R1cmVkT3V0cHV0cyIsInByb3ZpZGVyIiwiZ2V0QXJncyIsIm1heFRva2VucyIsInRlbXBlcmF0dXJlIiwidG9wUCIsInRvcEsiLCJmcmVxdWVuY3lQZW5hbHR5IiwicHJlc2VuY2VQZW5hbHR5Iiwic3RvcFNlcXVlbmNlcyIsInJlc3BvbnNlRm9ybWF0Iiwic2VlZCIsIndhcm5pbmdzIiwic2V0dGluZyIsImdlbmVyYXRpb25Db25maWciLCJtYXhPdXRwdXRUb2tlbnMiLCJyZXNwb25zZU1pbWVUeXBlIiwicmVzcG9uc2VTY2hlbWEiLCJzY2hlbWEiLCJhdWRpb1RpbWVzdGFtcCIsInNhZmV0eVNldHRpbmdzIiwiY2FjaGVkQ29udGVudCIsInN1cHBvcnRzVXJsIiwidXJsIiwic3RhcnRzV2l0aCIsImRvR2VuZXJhdGUiLCJvcHRpb25zIiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJfZyIsIl9oIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXJnZWRIZWFkZXJzIiwiaGVhZGVycyIsInJlc3BvbnNlSGVhZGVycyIsImJhc2VVUkwiLCJmYWlsZWRSZXNwb25zZUhhbmRsZXIiLCJzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyIiwiYWJvcnRTaWduYWwiLCJmZXRjaCIsInJhd1Byb21wdCIsInJhd1NldHRpbmdzIiwiY2FuZGlkYXRlIiwiY2FuZGlkYXRlcyIsInRvb2xDYWxscyIsImdldFRvb2xDYWxsc0Zyb21QYXJ0cyIsInVzYWdlTWV0YWRhdGEiLCJnZXRUZXh0RnJvbVBhcnRzIiwidXNhZ2UiLCJwcm9tcHRUb2tlbnMiLCJwcm9tcHRUb2tlbkNvdW50IiwiTmFOIiwiY29tcGxldGlvblRva2VucyIsImNhbmRpZGF0ZXNUb2tlbkNvdW50IiwicmF3Q2FsbCIsInJhd1Jlc3BvbnNlIiwicHJvdmlkZXJNZXRhZGF0YSIsImdvb2dsZSIsImdyb3VuZGluZ01ldGFkYXRhIiwic2FmZXR5UmF0aW5ncyIsInJlcXVlc3QiLCJkb1N0cmVhbSIsImNodW5rU2NoZW1hIiwiTnVtYmVyIiwiZ2VuZXJhdGVJZDIiLCJzdHJlYW0iLCJwaXBlVGhyb3VnaCIsIlRyYW5zZm9ybVN0cmVhbSIsInRyYW5zZm9ybSIsImNodW5rIiwiY29udHJvbGxlciIsInN1Y2Nlc3MiLCJlbnF1ZXVlIiwiZGVsdGFUZXh0IiwidGV4dERlbHRhIiwidG9vbENhbGxEZWx0YXMiLCJ0b29sQ2FsbCIsInRvb2xDYWxsVHlwZSIsInRvb2xDYWxsSWQiLCJhcmdzVGV4dERlbHRhIiwiZmx1c2giLCJmdW5jdGlvbkNhbGxQYXJ0cyIsInRleHRQYXJ0cyIsImpvaW4iLCJjb250ZW50U2NoZW1hIiwiYXJyYXkiLCJ1bmlvbiIsInVua25vd24iLCJncm91bmRpbmdNZXRhZGF0YVNjaGVtYSIsIndlYlNlYXJjaFF1ZXJpZXMiLCJudWxsaXNoIiwicmV0cmlldmFsUXVlcmllcyIsInNlYXJjaEVudHJ5UG9pbnQiLCJyZW5kZXJlZENvbnRlbnQiLCJncm91bmRpbmdDaHVua3MiLCJ3ZWIiLCJ1cmkiLCJ0aXRsZSIsInJldHJpZXZlZENvbnRleHQiLCJncm91bmRpbmdTdXBwb3J0cyIsInNlZ21lbnQiLCJzdGFydEluZGV4IiwiZW5kSW5kZXgiLCJzZWdtZW50X3RleHQiLCJncm91bmRpbmdDaHVua0luZGljZXMiLCJzdXBwb3J0Q2h1bmtJbmRpY2VzIiwiY29uZmlkZW5jZVNjb3JlcyIsImNvbmZpZGVuY2VTY29yZSIsInJldHJpZXZhbE1ldGFkYXRhIiwid2ViRHluYW1pY1JldHJpZXZhbFNjb3JlIiwic2FmZXR5UmF0aW5nU2NoZW1hIiwiY2F0ZWdvcnkiLCJwcm9iYWJpbGl0eSIsInByb2JhYmlsaXR5U2NvcmUiLCJzZXZlcml0eSIsInNldmVyaXR5U2NvcmUiLCJibG9ja2VkIiwiYm9vbGVhbiIsInRvdGFsVG9rZW5Db3VudCIsIlRvb01hbnlFbWJlZGRpbmdWYWx1ZXNGb3JDYWxsRXJyb3IiLCJjb21iaW5lSGVhZGVyczIiLCJjcmVhdGVKc29uUmVzcG9uc2VIYW5kbGVyMiIsInBvc3RKc29uVG9BcGkyIiwicmVzb2x2ZTIiLCJ6MyIsIkdvb2dsZUdlbmVyYXRpdmVBSUVtYmVkZGluZ01vZGVsIiwibWF4RW1iZWRkaW5nc1BlckNhbGwiLCJzdXBwb3J0c1BhcmFsbGVsQ2FsbHMiLCJkb0VtYmVkIiwidmFsdWVzIiwicmVxdWVzdHMiLCJtb2RlbCIsIm91dHB1dERpbWVuc2lvbmFsaXR5IiwiZ29vZ2xlR2VuZXJhdGl2ZUFJVGV4dEVtYmVkZGluZ1Jlc3BvbnNlU2NoZW1hIiwiZW1iZWRkaW5ncyIsIml0ZW0iLCJjcmVhdGVHb29nbGVHZW5lcmF0aXZlQUkiLCJnZXRIZWFkZXJzIiwiYXBpS2V5IiwiZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUiLCJjcmVhdGVDaGF0TW9kZWwiLCJfYTIiLCJjcmVhdGVFbWJlZGRpbmdNb2RlbCIsImxhbmd1YWdlTW9kZWwiLCJjaGF0IiwiZ2VuZXJhdGl2ZUFJIiwiZW1iZWRkaW5nIiwidGV4dEVtYmVkZGluZyIsInRleHRFbWJlZGRpbmdNb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@ai-sdk/google/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@ai-sdk/provider-utils/dist/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asValidator: () => (/* binding */ asValidator),\n/* harmony export */   combineHeaders: () => (/* binding */ combineHeaders),\n/* harmony export */   convertAsyncIteratorToReadableStream: () => (/* binding */ convertAsyncIteratorToReadableStream),\n/* harmony export */   convertBase64ToUint8Array: () => (/* binding */ convertBase64ToUint8Array),\n/* harmony export */   convertUint8ArrayToBase64: () => (/* binding */ convertUint8ArrayToBase64),\n/* harmony export */   createEventSourceResponseHandler: () => (/* binding */ createEventSourceResponseHandler),\n/* harmony export */   createIdGenerator: () => (/* binding */ createIdGenerator),\n/* harmony export */   createJsonErrorResponseHandler: () => (/* binding */ createJsonErrorResponseHandler),\n/* harmony export */   createJsonResponseHandler: () => (/* binding */ createJsonResponseHandler),\n/* harmony export */   createJsonStreamResponseHandler: () => (/* binding */ createJsonStreamResponseHandler),\n/* harmony export */   extractResponseHeaders: () => (/* binding */ extractResponseHeaders),\n/* harmony export */   generateId: () => (/* binding */ generateId),\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage),\n/* harmony export */   isAbortError: () => (/* binding */ isAbortError),\n/* harmony export */   isParsableJson: () => (/* binding */ isParsableJson),\n/* harmony export */   isValidator: () => (/* binding */ isValidator),\n/* harmony export */   loadApiKey: () => (/* binding */ loadApiKey),\n/* harmony export */   loadOptionalSetting: () => (/* binding */ loadOptionalSetting),\n/* harmony export */   loadSetting: () => (/* binding */ loadSetting),\n/* harmony export */   parseJSON: () => (/* binding */ parseJSON),\n/* harmony export */   postJsonToApi: () => (/* binding */ postJsonToApi),\n/* harmony export */   postToApi: () => (/* binding */ postToApi),\n/* harmony export */   resolve: () => (/* binding */ resolve),\n/* harmony export */   safeParseJSON: () => (/* binding */ safeParseJSON),\n/* harmony export */   safeValidateTypes: () => (/* binding */ safeValidateTypes),\n/* harmony export */   validateTypes: () => (/* binding */ validateTypes),\n/* harmony export */   validator: () => (/* binding */ validator),\n/* harmony export */   validatorSymbol: () => (/* binding */ validatorSymbol),\n/* harmony export */   withoutTrailingSlash: () => (/* binding */ withoutTrailingSlash),\n/* harmony export */   zodValidator: () => (/* binding */ zodValidator)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/provider */ \"(rsc)/./node_modules/@ai-sdk/provider/dist/index.mjs\");\n/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nanoid/non-secure */ \"(rsc)/./node_modules/nanoid/non-secure/index.js\");\n/* harmony import */ var secure_json_parse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! secure-json-parse */ \"(rsc)/./node_modules/secure-json-parse/index.js\");\n/* harmony import */ var eventsource_parser_stream__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! eventsource-parser/stream */ \"(rsc)/./node_modules/@ai-sdk/provider-utils/node_modules/eventsource-parser/dist/stream.js\");\n// src/combine-headers.ts\nfunction combineHeaders(...headers) {\n    return headers.reduce((combinedHeaders, currentHeaders)=>({\n            ...combinedHeaders,\n            ...currentHeaders != null ? currentHeaders : {}\n        }), {});\n}\n// src/convert-async-iterator-to-readable-stream.ts\nfunction convertAsyncIteratorToReadableStream(iterator) {\n    return new ReadableStream({\n        /**\n     * Called when the consumer wants to pull more data from the stream.\n     *\n     * @param {ReadableStreamDefaultController<T>} controller - The controller to enqueue data into the stream.\n     * @returns {Promise<void>}\n     */ async pull (controller) {\n            try {\n                const { value, done } = await iterator.next();\n                if (done) {\n                    controller.close();\n                } else {\n                    controller.enqueue(value);\n                }\n            } catch (error) {\n                controller.error(error);\n            }\n        },\n        /**\n     * Called when the consumer cancels the stream.\n     */ cancel () {}\n    });\n}\n// src/extract-response-headers.ts\nfunction extractResponseHeaders(response) {\n    const headers = {};\n    response.headers.forEach((value, key)=>{\n        headers[key] = value;\n    });\n    return headers;\n}\n// src/generate-id.ts\n\n\nvar createIdGenerator = ({ prefix, size: defaultSize = 16, alphabet = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\", separator = \"-\" } = {})=>{\n    const generator = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.customAlphabet)(alphabet, defaultSize);\n    if (prefix == null) {\n        return generator;\n    }\n    if (alphabet.includes(separator)) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.InvalidArgumentError({\n            argument: \"separator\",\n            message: `The separator \"${separator}\" must not be part of the alphabet \"${alphabet}\".`\n        });\n    }\n    return (size)=>`${prefix}${separator}${generator(size)}`;\n};\nvar generateId = createIdGenerator();\n// src/get-error-message.ts\nfunction getErrorMessage(error) {\n    if (error == null) {\n        return \"unknown error\";\n    }\n    if (typeof error === \"string\") {\n        return error;\n    }\n    if (error instanceof Error) {\n        return error.message;\n    }\n    return JSON.stringify(error);\n}\n// src/is-abort-error.ts\nfunction isAbortError(error) {\n    return error instanceof Error && (error.name === \"AbortError\" || error.name === \"TimeoutError\");\n}\n// src/load-api-key.ts\n\nfunction loadApiKey({ apiKey, environmentVariableName, apiKeyParameterName = \"apiKey\", description }) {\n    if (typeof apiKey === \"string\") {\n        return apiKey;\n    }\n    if (apiKey != null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key must be a string.`\n        });\n    }\n    if (typeof process === \"undefined\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter. Environment variables is not supported in this environment.`\n        });\n    }\n    apiKey = process.env[environmentVariableName];\n    if (apiKey == null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter or the ${environmentVariableName} environment variable.`\n        });\n    }\n    if (typeof apiKey !== \"string\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadAPIKeyError({\n            message: `${description} API key must be a string. The value of the ${environmentVariableName} environment variable is not a string.`\n        });\n    }\n    return apiKey;\n}\n// src/load-optional-setting.ts\nfunction loadOptionalSetting({ settingValue, environmentVariableName }) {\n    if (typeof settingValue === \"string\") {\n        return settingValue;\n    }\n    if (settingValue != null || typeof process === \"undefined\") {\n        return void 0;\n    }\n    settingValue = process.env[environmentVariableName];\n    if (settingValue == null || typeof settingValue !== \"string\") {\n        return void 0;\n    }\n    return settingValue;\n}\n// src/load-setting.ts\n\nfunction loadSetting({ settingValue, environmentVariableName, settingName, description }) {\n    if (typeof settingValue === \"string\") {\n        return settingValue;\n    }\n    if (settingValue != null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting must be a string.`\n        });\n    }\n    if (typeof process === \"undefined\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting is missing. Pass it using the '${settingName}' parameter. Environment variables is not supported in this environment.`\n        });\n    }\n    settingValue = process.env[environmentVariableName];\n    if (settingValue == null) {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting is missing. Pass it using the '${settingName}' parameter or the ${environmentVariableName} environment variable.`\n        });\n    }\n    if (typeof settingValue !== \"string\") {\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.LoadSettingError({\n            message: `${description} setting must be a string. The value of the ${environmentVariableName} environment variable is not a string.`\n        });\n    }\n    return settingValue;\n}\n// src/parse-json.ts\n\n\n// src/validate-types.ts\n\n// src/validator.ts\nvar validatorSymbol = Symbol.for(\"vercel.ai.validator\");\nfunction validator(validate) {\n    return {\n        [validatorSymbol]: true,\n        validate\n    };\n}\nfunction isValidator(value) {\n    return typeof value === \"object\" && value !== null && validatorSymbol in value && value[validatorSymbol] === true && \"validate\" in value;\n}\nfunction asValidator(value) {\n    return isValidator(value) ? value : zodValidator(value);\n}\nfunction zodValidator(zodSchema) {\n    return validator((value)=>{\n        const result = zodSchema.safeParse(value);\n        return result.success ? {\n            success: true,\n            value: result.data\n        } : {\n            success: false,\n            error: result.error\n        };\n    });\n}\n// src/validate-types.ts\nfunction validateTypes({ value, schema: inputSchema }) {\n    const result = safeValidateTypes({\n        value,\n        schema: inputSchema\n    });\n    if (!result.success) {\n        throw _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.wrap({\n            value,\n            cause: result.error\n        });\n    }\n    return result.value;\n}\nfunction safeValidateTypes({ value, schema }) {\n    const validator2 = asValidator(schema);\n    try {\n        if (validator2.validate == null) {\n            return {\n                success: true,\n                value\n            };\n        }\n        const result = validator2.validate(value);\n        if (result.success) {\n            return result;\n        }\n        return {\n            success: false,\n            error: _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.wrap({\n                value,\n                cause: result.error\n            })\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.wrap({\n                value,\n                cause: error\n            })\n        };\n    }\n}\n// src/parse-json.ts\nfunction parseJSON({ text, schema }) {\n    try {\n        const value = secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(text);\n        if (schema == null) {\n            return value;\n        }\n        return validateTypes({\n            value,\n            schema\n        });\n    } catch (error) {\n        if (_ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError.isInstance(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.TypeValidationError.isInstance(error)) {\n            throw error;\n        }\n        throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError({\n            text,\n            cause: error\n        });\n    }\n}\nfunction safeParseJSON({ text, schema }) {\n    try {\n        const value = secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(text);\n        if (schema == null) {\n            return {\n                success: true,\n                value\n            };\n        }\n        return safeValidateTypes({\n            value,\n            schema\n        });\n    } catch (error) {\n        return {\n            success: false,\n            error: _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError.isInstance(error) ? error : new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.JSONParseError({\n                text,\n                cause: error\n            })\n        };\n    }\n}\nfunction isParsableJson(input) {\n    try {\n        secure_json_parse__WEBPACK_IMPORTED_MODULE_2__.parse(input);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n// src/post-to-api.ts\n\n// src/remove-undefined-entries.ts\nfunction removeUndefinedEntries(record) {\n    return Object.fromEntries(Object.entries(record).filter(([_key, value])=>value != null));\n}\n// src/post-to-api.ts\nvar getOriginalFetch = ()=>globalThis.fetch;\nvar postJsonToApi = async ({ url, headers, body, failedResponseHandler, successfulResponseHandler, abortSignal, fetch })=>postToApi({\n        url,\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...headers\n        },\n        body: {\n            content: JSON.stringify(body),\n            values: body\n        },\n        failedResponseHandler,\n        successfulResponseHandler,\n        abortSignal,\n        fetch\n    });\nvar postToApi = async ({ url, headers = {}, body, successfulResponseHandler, failedResponseHandler, abortSignal, fetch = getOriginalFetch() })=>{\n    try {\n        const response = await fetch(url, {\n            method: \"POST\",\n            headers: removeUndefinedEntries(headers),\n            body: body.content,\n            signal: abortSignal\n        });\n        const responseHeaders = extractResponseHeaders(response);\n        if (!response.ok) {\n            let errorInformation;\n            try {\n                errorInformation = await failedResponseHandler({\n                    response,\n                    url,\n                    requestBodyValues: body.values\n                });\n            } catch (error) {\n                if (isAbortError(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError.isInstance(error)) {\n                    throw error;\n                }\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: \"Failed to process error response\",\n                    cause: error,\n                    statusCode: response.status,\n                    url,\n                    responseHeaders,\n                    requestBodyValues: body.values\n                });\n            }\n            throw errorInformation.value;\n        }\n        try {\n            return await successfulResponseHandler({\n                response,\n                url,\n                requestBodyValues: body.values\n            });\n        } catch (error) {\n            if (error instanceof Error) {\n                if (isAbortError(error) || _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError.isInstance(error)) {\n                    throw error;\n                }\n            }\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Failed to process successful response\",\n                cause: error,\n                statusCode: response.status,\n                url,\n                responseHeaders,\n                requestBodyValues: body.values\n            });\n        }\n    } catch (error) {\n        if (isAbortError(error)) {\n            throw error;\n        }\n        if (error instanceof TypeError && error.message === \"fetch failed\") {\n            const cause = error.cause;\n            if (cause != null) {\n                throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: `Cannot connect to API: ${cause.message}`,\n                    cause,\n                    url,\n                    requestBodyValues: body.values,\n                    isRetryable: true\n                });\n            }\n        }\n        throw error;\n    }\n};\n// src/resolve.ts\nasync function resolve(value) {\n    if (typeof value === \"function\") {\n        value = value();\n    }\n    return Promise.resolve(value);\n}\n// src/response-handler.ts\n\n\nvar createJsonErrorResponseHandler = ({ errorSchema, errorToMessage, isRetryable })=>async ({ response, url, requestBodyValues })=>{\n        const responseBody = await response.text();\n        const responseHeaders = extractResponseHeaders(response);\n        if (responseBody.trim() === \"\") {\n            return {\n                responseHeaders,\n                value: new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: response.statusText,\n                    url,\n                    requestBodyValues,\n                    statusCode: response.status,\n                    responseHeaders,\n                    responseBody,\n                    isRetryable: isRetryable == null ? void 0 : isRetryable(response)\n                })\n            };\n        }\n        try {\n            const parsedError = parseJSON({\n                text: responseBody,\n                schema: errorSchema\n            });\n            return {\n                responseHeaders,\n                value: new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: errorToMessage(parsedError),\n                    url,\n                    requestBodyValues,\n                    statusCode: response.status,\n                    responseHeaders,\n                    responseBody,\n                    data: parsedError,\n                    isRetryable: isRetryable == null ? void 0 : isRetryable(response, parsedError)\n                })\n            };\n        } catch (parseError) {\n            return {\n                responseHeaders,\n                value: new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                    message: response.statusText,\n                    url,\n                    requestBodyValues,\n                    statusCode: response.status,\n                    responseHeaders,\n                    responseBody,\n                    isRetryable: isRetryable == null ? void 0 : isRetryable(response)\n                })\n            };\n        }\n    };\nvar createEventSourceResponseHandler = (chunkSchema)=>async ({ response })=>{\n        const responseHeaders = extractResponseHeaders(response);\n        if (response.body == null) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.EmptyResponseBodyError({});\n        }\n        return {\n            responseHeaders,\n            value: response.body.pipeThrough(new TextDecoderStream()).pipeThrough(new eventsource_parser_stream__WEBPACK_IMPORTED_MODULE_3__.EventSourceParserStream()).pipeThrough(new TransformStream({\n                transform ({ data }, controller) {\n                    if (data === \"[DONE]\") {\n                        return;\n                    }\n                    controller.enqueue(safeParseJSON({\n                        text: data,\n                        schema: chunkSchema\n                    }));\n                }\n            }))\n        };\n    };\nvar createJsonStreamResponseHandler = (chunkSchema)=>async ({ response })=>{\n        const responseHeaders = extractResponseHeaders(response);\n        if (response.body == null) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.EmptyResponseBodyError({});\n        }\n        let buffer = \"\";\n        return {\n            responseHeaders,\n            value: response.body.pipeThrough(new TextDecoderStream()).pipeThrough(new TransformStream({\n                transform (chunkText, controller) {\n                    if (chunkText.endsWith(\"\\n\")) {\n                        controller.enqueue(safeParseJSON({\n                            text: buffer + chunkText,\n                            schema: chunkSchema\n                        }));\n                        buffer = \"\";\n                    } else {\n                        buffer += chunkText;\n                    }\n                }\n            }))\n        };\n    };\nvar createJsonResponseHandler = (responseSchema)=>async ({ response, url, requestBodyValues })=>{\n        const responseBody = await response.text();\n        const parsedResult = safeParseJSON({\n            text: responseBody,\n            schema: responseSchema\n        });\n        const responseHeaders = extractResponseHeaders(response);\n        if (!parsedResult.success) {\n            throw new _ai_sdk_provider__WEBPACK_IMPORTED_MODULE_1__.APICallError({\n                message: \"Invalid JSON response\",\n                cause: parsedResult.error,\n                statusCode: response.status,\n                responseHeaders,\n                responseBody,\n                url,\n                requestBodyValues\n            });\n        }\n        return {\n            responseHeaders,\n            value: parsedResult.value\n        };\n    };\n// src/uint8-utils.ts\nvar { btoa, atob } = globalThis;\nfunction convertBase64ToUint8Array(base64String) {\n    const base64Url = base64String.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const latin1string = atob(base64Url);\n    return Uint8Array.from(latin1string, (byte)=>byte.codePointAt(0));\n}\nfunction convertUint8ArrayToBase64(array) {\n    let latin1string = \"\";\n    for(let i = 0; i < array.length; i++){\n        latin1string += String.fromCodePoint(array[i]);\n    }\n    return btoa(latin1string);\n}\n// src/without-trailing-slash.ts\nfunction withoutTrailingSlash(url) {\n    return url == null ? void 0 : url.replace(/\\/$/, \"\");\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseUJBQXlCO0FBQ3pCLFNBQVNBLGVBQWUsR0FBR0MsT0FBTztJQUNoQyxPQUFPQSxRQUFRQyxNQUFNLENBQ25CLENBQUNDLGlCQUFpQkMsaUJBQW9CO1lBQ3BDLEdBQUdELGVBQWU7WUFDbEIsR0FBR0Msa0JBQWtCLE9BQU9BLGlCQUFpQixDQUFDLENBQUM7UUFDakQsSUFDQSxDQUFDO0FBRUw7QUFFQSxtREFBbUQ7QUFDbkQsU0FBU0MscUNBQXFDQyxRQUFRO0lBQ3BELE9BQU8sSUFBSUMsZUFBZTtRQUN4Qjs7Ozs7S0FLQyxHQUNELE1BQU1DLE1BQUtDLFVBQVU7WUFDbkIsSUFBSTtnQkFDRixNQUFNLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFLEdBQUcsTUFBTUwsU0FBU00sSUFBSTtnQkFDM0MsSUFBSUQsTUFBTTtvQkFDUkYsV0FBV0ksS0FBSztnQkFDbEIsT0FBTztvQkFDTEosV0FBV0ssT0FBTyxDQUFDSjtnQkFDckI7WUFDRixFQUFFLE9BQU9LLE9BQU87Z0JBQ2ROLFdBQVdNLEtBQUssQ0FBQ0E7WUFDbkI7UUFDRjtRQUNBOztLQUVDLEdBQ0RDLFdBQ0E7SUFDRjtBQUNGO0FBRUEsa0NBQWtDO0FBQ2xDLFNBQVNDLHVCQUF1QkMsUUFBUTtJQUN0QyxNQUFNakIsVUFBVSxDQUFDO0lBQ2pCaUIsU0FBU2pCLE9BQU8sQ0FBQ2tCLE9BQU8sQ0FBQyxDQUFDVCxPQUFPVTtRQUMvQm5CLE9BQU8sQ0FBQ21CLElBQUksR0FBR1Y7SUFDakI7SUFDQSxPQUFPVDtBQUNUO0FBRUEscUJBQXFCO0FBQ21DO0FBQ0w7QUFDbkQsSUFBSXNCLG9CQUFvQixDQUFDLEVBQ3ZCQyxNQUFNLEVBQ05DLE1BQU1DLGNBQWMsRUFBRSxFQUN0QkMsV0FBVyxnRUFBZ0UsRUFD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QUFJLEdBQUdBLElBQUlELE1BQU1FLE1BQU0sRUFBRUQsSUFBSztRQUNyQ1AsZ0JBQWdCUyxPQUFPQyxhQUFhLENBQUNKLEtBQUssQ0FBQ0MsRUFBRTtJQUMvQztJQUNBLE9BQU9iLEtBQUtNO0FBQ2Q7QUFFQSxnQ0FBZ0M7QUFDaEMsU0FBU1cscUJBQXFCN0QsR0FBRztJQUMvQixPQUFPQSxPQUFPLE9BQU8sS0FBSyxJQUFJQSxJQUFJaUQsT0FBTyxDQUFDLE9BQU87QUFDbkQ7QUFnQ0UsQ0FDRixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcnQvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9kaXN0L2luZGV4Lm1qcz9hNzFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb21iaW5lLWhlYWRlcnMudHNcbmZ1bmN0aW9uIGNvbWJpbmVIZWFkZXJzKC4uLmhlYWRlcnMpIHtcbiAgcmV0dXJuIGhlYWRlcnMucmVkdWNlKFxuICAgIChjb21iaW5lZEhlYWRlcnMsIGN1cnJlbnRIZWFkZXJzKSA9PiAoe1xuICAgICAgLi4uY29tYmluZWRIZWFkZXJzLFxuICAgICAgLi4uY3VycmVudEhlYWRlcnMgIT0gbnVsbCA/IGN1cnJlbnRIZWFkZXJzIDoge31cbiAgICB9KSxcbiAgICB7fVxuICApO1xufVxuXG4vLyBzcmMvY29udmVydC1hc3luYy1pdGVyYXRvci10by1yZWFkYWJsZS1zdHJlYW0udHNcbmZ1bmN0aW9uIGNvbnZlcnRBc3luY0l0ZXJhdG9yVG9SZWFkYWJsZVN0cmVhbShpdGVyYXRvcikge1xuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29uc3VtZXIgd2FudHMgdG8gcHVsbCBtb3JlIGRhdGEgZnJvbSB0aGUgc3RyZWFtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFQ+fSBjb250cm9sbGVyIC0gVGhlIGNvbnRyb2xsZXIgdG8gZW5xdWV1ZSBkYXRhIGludG8gdGhlIHN0cmVhbS5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29uc3VtZXIgY2FuY2VscyB0aGUgc3RyZWFtLlxuICAgICAqL1xuICAgIGNhbmNlbCgpIHtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBzcmMvZXh0cmFjdC1yZXNwb25zZS1oZWFkZXJzLnRzXG5mdW5jdGlvbiBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKSB7XG4gIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgcmVzcG9uc2UuaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgaGVhZGVyc1trZXldID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gaGVhZGVycztcbn1cblxuLy8gc3JjL2dlbmVyYXRlLWlkLnRzXG5pbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBjdXN0b21BbHBoYWJldCB9IGZyb20gXCJuYW5vaWQvbm9uLXNlY3VyZVwiO1xudmFyIGNyZWF0ZUlkR2VuZXJhdG9yID0gKHtcbiAgcHJlZml4LFxuICBzaXplOiBkZWZhdWx0U2l6ZSA9IDE2LFxuICBhbHBoYWJldCA9IFwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIixcbiAgc2VwYXJhdG9yID0gXCItXCJcbn0gPSB7fSkgPT4ge1xuICBjb25zdCBnZW5lcmF0b3IgPSBjdXN0b21BbHBoYWJldChhbHBoYWJldCwgZGVmYXVsdFNpemUpO1xuICBpZiAocHJlZml4ID09IG51bGwpIHtcbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGlmIChhbHBoYWJldC5pbmNsdWRlcyhzZXBhcmF0b3IpKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIGFyZ3VtZW50OiBcInNlcGFyYXRvclwiLFxuICAgICAgbWVzc2FnZTogYFRoZSBzZXBhcmF0b3IgXCIke3NlcGFyYXRvcn1cIiBtdXN0IG5vdCBiZSBwYXJ0IG9mIHRoZSBhbHBoYWJldCBcIiR7YWxwaGFiZXR9XCIuYFxuICAgIH0pO1xuICB9XG4gIHJldHVybiAoc2l6ZSkgPT4gYCR7cHJlZml4fSR7c2VwYXJhdG9yfSR7Z2VuZXJhdG9yKHNpemUpfWA7XG59O1xudmFyIGdlbmVyYXRlSWQgPSBjcmVhdGVJZEdlbmVyYXRvcigpO1xuXG4vLyBzcmMvZ2V0LWVycm9yLW1lc3NhZ2UudHNcbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvcikge1xuICBpZiAoZXJyb3IgPT0gbnVsbCkge1xuICAgIHJldHVybiBcInVua25vd24gZXJyb3JcIjtcbiAgfVxuICBpZiAodHlwZW9mIGVycm9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGVycm9yKTtcbn1cblxuLy8gc3JjL2lzLWFib3J0LWVycm9yLnRzXG5mdW5jdGlvbiBpc0Fib3J0RXJyb3IoZXJyb3IpIHtcbiAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgKGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiIHx8IGVycm9yLm5hbWUgPT09IFwiVGltZW91dEVycm9yXCIpO1xufVxuXG4vLyBzcmMvbG9hZC1hcGkta2V5LnRzXG5pbXBvcnQgeyBMb2FkQVBJS2V5RXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuZnVuY3Rpb24gbG9hZEFwaUtleSh7XG4gIGFwaUtleSxcbiAgZW52aXJvbm1lbnRWYXJpYWJsZU5hbWUsXG4gIGFwaUtleVBhcmFtZXRlck5hbWUgPSBcImFwaUtleVwiLFxuICBkZXNjcmlwdGlvblxufSkge1xuICBpZiAodHlwZW9mIGFwaUtleSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBhcGlLZXk7XG4gIH1cbiAgaWYgKGFwaUtleSAhPSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBtdXN0IGJlIGEgc3RyaW5nLmBcbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IGlzIG1pc3NpbmcuIFBhc3MgaXQgdXNpbmcgdGhlICcke2FwaUtleVBhcmFtZXRlck5hbWV9JyBwYXJhbWV0ZXIuIEVudmlyb25tZW50IHZhcmlhYmxlcyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuYFxuICAgIH0pO1xuICB9XG4gIGFwaUtleSA9IHByb2Nlc3MuZW52W2Vudmlyb25tZW50VmFyaWFibGVOYW1lXTtcbiAgaWYgKGFwaUtleSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IExvYWRBUElLZXlFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gQVBJIGtleSBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHthcGlLZXlQYXJhbWV0ZXJOYW1lfScgcGFyYW1ldGVyIG9yIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZS5gXG4gICAgfSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhcGlLZXkgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IG11c3QgYmUgYSBzdHJpbmcuIFRoZSB2YWx1ZSBvZiB0aGUgJHtlbnZpcm9ubWVudFZhcmlhYmxlTmFtZX0gZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IGEgc3RyaW5nLmBcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gYXBpS2V5O1xufVxuXG4vLyBzcmMvbG9hZC1vcHRpb25hbC1zZXR0aW5nLnRzXG5mdW5jdGlvbiBsb2FkT3B0aW9uYWxTZXR0aW5nKHtcbiAgc2V0dGluZ1ZhbHVlLFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZVxufSkge1xuICBpZiAodHlwZW9mIHNldHRpbmdWYWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBzZXR0aW5nVmFsdWU7XG4gIH1cbiAgaWYgKHNldHRpbmdWYWx1ZSAhPSBudWxsIHx8IHR5cGVvZiBwcm9jZXNzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBzZXR0aW5nVmFsdWUgPSBwcm9jZXNzLmVudltlbnZpcm9ubWVudFZhcmlhYmxlTmFtZV07XG4gIGlmIChzZXR0aW5nVmFsdWUgPT0gbnVsbCB8fCB0eXBlb2Ygc2V0dGluZ1ZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xufVxuXG4vLyBzcmMvbG9hZC1zZXR0aW5nLnRzXG5pbXBvcnQgeyBMb2FkU2V0dGluZ0Vycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmZ1bmN0aW9uIGxvYWRTZXR0aW5nKHtcbiAgc2V0dGluZ1ZhbHVlLFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSxcbiAgc2V0dGluZ05hbWUsXG4gIGRlc2NyaXB0aW9uXG59KSB7XG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHNldHRpbmdWYWx1ZTtcbiAgfVxuICBpZiAoc2V0dGluZ1ZhbHVlICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBtdXN0IGJlIGEgc3RyaW5nLmBcbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHtzZXR0aW5nTmFtZX0nIHBhcmFtZXRlci4gRW52aXJvbm1lbnQgdmFyaWFibGVzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC5gXG4gICAgfSk7XG4gIH1cbiAgc2V0dGluZ1ZhbHVlID0gcHJvY2Vzcy5lbnZbZW52aXJvbm1lbnRWYXJpYWJsZU5hbWVdO1xuICBpZiAoc2V0dGluZ1ZhbHVlID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBpcyBtaXNzaW5nLiBQYXNzIGl0IHVzaW5nIHRoZSAnJHtzZXR0aW5nTmFtZX0nIHBhcmFtZXRlciBvciB0aGUgJHtlbnZpcm9ubWVudFZhcmlhYmxlTmFtZX0gZW52aXJvbm1lbnQgdmFyaWFibGUuYFxuICAgIH0pO1xuICB9XG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IExvYWRTZXR0aW5nRXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IHNldHRpbmcgbXVzdCBiZSBhIHN0cmluZy4gVGhlIHZhbHVlIG9mIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3QgYSBzdHJpbmcuYFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBzZXR0aW5nVmFsdWU7XG59XG5cbi8vIHNyYy9wYXJzZS1qc29uLnRzXG5pbXBvcnQge1xuICBKU09OUGFyc2VFcnJvcixcbiAgVHlwZVZhbGlkYXRpb25FcnJvciBhcyBUeXBlVmFsaWRhdGlvbkVycm9yMlxufSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IFNlY3VyZUpTT04gZnJvbSBcInNlY3VyZS1qc29uLXBhcnNlXCI7XG5cbi8vIHNyYy92YWxpZGF0ZS10eXBlcy50c1xuaW1wb3J0IHsgVHlwZVZhbGlkYXRpb25FcnJvciB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5cbi8vIHNyYy92YWxpZGF0b3IudHNcbnZhciB2YWxpZGF0b3JTeW1ib2wgPSBTeW1ib2wuZm9yKFwidmVyY2VsLmFpLnZhbGlkYXRvclwiKTtcbmZ1bmN0aW9uIHZhbGlkYXRvcih2YWxpZGF0ZSkge1xuICByZXR1cm4geyBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZSwgdmFsaWRhdGUgfTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRhdG9yKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsaWRhdG9yU3ltYm9sIGluIHZhbHVlICYmIHZhbHVlW3ZhbGlkYXRvclN5bWJvbF0gPT09IHRydWUgJiYgXCJ2YWxpZGF0ZVwiIGluIHZhbHVlO1xufVxuZnVuY3Rpb24gYXNWYWxpZGF0b3IodmFsdWUpIHtcbiAgcmV0dXJuIGlzVmFsaWRhdG9yKHZhbHVlKSA/IHZhbHVlIDogem9kVmFsaWRhdG9yKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHpvZFZhbGlkYXRvcih6b2RTY2hlbWEpIHtcbiAgcmV0dXJuIHZhbGlkYXRvcigodmFsdWUpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSB6b2RTY2hlbWEuc2FmZVBhcnNlKHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0LnN1Y2Nlc3MgPyB7IHN1Y2Nlc3M6IHRydWUsIHZhbHVlOiByZXN1bHQuZGF0YSB9IDogeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlc3VsdC5lcnJvciB9O1xuICB9KTtcbn1cblxuLy8gc3JjL3ZhbGlkYXRlLXR5cGVzLnRzXG5mdW5jdGlvbiB2YWxpZGF0ZVR5cGVzKHtcbiAgdmFsdWUsXG4gIHNjaGVtYTogaW5wdXRTY2hlbWFcbn0pIHtcbiAgY29uc3QgcmVzdWx0ID0gc2FmZVZhbGlkYXRlVHlwZXMoeyB2YWx1ZSwgc2NoZW1hOiBpbnB1dFNjaGVtYSB9KTtcbiAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgIHRocm93IFR5cGVWYWxpZGF0aW9uRXJyb3Iud3JhcCh7IHZhbHVlLCBjYXVzZTogcmVzdWx0LmVycm9yIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQudmFsdWU7XG59XG5mdW5jdGlvbiBzYWZlVmFsaWRhdGVUeXBlcyh7XG4gIHZhbHVlLFxuICBzY2hlbWFcbn0pIHtcbiAgY29uc3QgdmFsaWRhdG9yMiA9IGFzVmFsaWRhdG9yKHNjaGVtYSk7XG4gIHRyeSB7XG4gICAgaWYgKHZhbGlkYXRvcjIudmFsaWRhdGUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWUgfTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdG9yMi52YWxpZGF0ZSh2YWx1ZSk7XG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogVHlwZVZhbGlkYXRpb25FcnJvci53cmFwKHsgdmFsdWUsIGNhdXNlOiByZXN1bHQuZXJyb3IgfSlcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBUeXBlVmFsaWRhdGlvbkVycm9yLndyYXAoeyB2YWx1ZSwgY2F1c2U6IGVycm9yIH0pXG4gICAgfTtcbiAgfVxufVxuXG4vLyBzcmMvcGFyc2UtanNvbi50c1xuZnVuY3Rpb24gcGFyc2VKU09OKHtcbiAgdGV4dCxcbiAgc2NoZW1hXG59KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsdWUgPSBTZWN1cmVKU09OLnBhcnNlKHRleHQpO1xuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRhdGVUeXBlcyh7IHZhbHVlLCBzY2hlbWEgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKEpTT05QYXJzZUVycm9yLmlzSW5zdGFuY2UoZXJyb3IpIHx8IFR5cGVWYWxpZGF0aW9uRXJyb3IyLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEpTT05QYXJzZUVycm9yKHsgdGV4dCwgY2F1c2U6IGVycm9yIH0pO1xuICB9XG59XG5mdW5jdGlvbiBzYWZlUGFyc2VKU09OKHtcbiAgdGV4dCxcbiAgc2NoZW1hXG59KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsdWUgPSBTZWN1cmVKU09OLnBhcnNlKHRleHQpO1xuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdmFsdWVcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBzYWZlVmFsaWRhdGVUeXBlcyh7IHZhbHVlLCBzY2hlbWEgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IEpTT05QYXJzZUVycm9yLmlzSW5zdGFuY2UoZXJyb3IpID8gZXJyb3IgOiBuZXcgSlNPTlBhcnNlRXJyb3IoeyB0ZXh0LCBjYXVzZTogZXJyb3IgfSlcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBpc1BhcnNhYmxlSnNvbihpbnB1dCkge1xuICB0cnkge1xuICAgIFNlY3VyZUpTT04ucGFyc2UoaW5wdXQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIHNyYy9wb3N0LXRvLWFwaS50c1xuaW1wb3J0IHsgQVBJQ2FsbEVycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcblxuLy8gc3JjL3JlbW92ZS11bmRlZmluZWQtZW50cmllcy50c1xuZnVuY3Rpb24gcmVtb3ZlVW5kZWZpbmVkRW50cmllcyhyZWNvcmQpIHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyhyZWNvcmQpLmZpbHRlcigoW19rZXksIHZhbHVlXSkgPT4gdmFsdWUgIT0gbnVsbClcbiAgKTtcbn1cblxuLy8gc3JjL3Bvc3QtdG8tYXBpLnRzXG52YXIgZ2V0T3JpZ2luYWxGZXRjaCA9ICgpID0+IGdsb2JhbFRoaXMuZmV0Y2g7XG52YXIgcG9zdEpzb25Ub0FwaSA9IGFzeW5jICh7XG4gIHVybCxcbiAgaGVhZGVycyxcbiAgYm9keSxcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2hcbn0pID0+IHBvc3RUb0FwaSh7XG4gIHVybCxcbiAgaGVhZGVyczoge1xuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIC4uLmhlYWRlcnNcbiAgfSxcbiAgYm9keToge1xuICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgIHZhbHVlczogYm9keVxuICB9LFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaFxufSk7XG52YXIgcG9zdFRvQXBpID0gYXN5bmMgKHtcbiAgdXJsLFxuICBoZWFkZXJzID0ge30sXG4gIGJvZHksXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoID0gZ2V0T3JpZ2luYWxGZXRjaCgpXG59KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiByZW1vdmVVbmRlZmluZWRFbnRyaWVzKGhlYWRlcnMpLFxuICAgICAgYm9keTogYm9keS5jb250ZW50LFxuICAgICAgc2lnbmFsOiBhYm9ydFNpZ25hbFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGxldCBlcnJvckluZm9ybWF0aW9uO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZXJyb3JJbmZvcm1hdGlvbiA9IGF3YWl0IGZhaWxlZFJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlc1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpIHx8IEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHByb2Nlc3MgZXJyb3IgcmVzcG9uc2VcIixcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3JJbmZvcm1hdGlvbi52YWx1ZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgfHwgQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBwcm9jZXNzIHN1Y2Nlc3NmdWwgcmVzcG9uc2VcIixcbiAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvciAmJiBlcnJvci5tZXNzYWdlID09PSBcImZldGNoIGZhaWxlZFwiKSB7XG4gICAgICBjb25zdCBjYXVzZSA9IGVycm9yLmNhdXNlO1xuICAgICAgaWYgKGNhdXNlICE9IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogYENhbm5vdCBjb25uZWN0IHRvIEFQSTogJHtjYXVzZS5tZXNzYWdlfWAsXG4gICAgICAgICAgY2F1c2UsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlcyxcbiAgICAgICAgICBpc1JldHJ5YWJsZTogdHJ1ZVxuICAgICAgICAgIC8vIHJldHJ5IHdoZW4gbmV0d29yayBlcnJvclxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIHNyYy9yZXNvbHZlLnRzXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhbHVlID0gdmFsdWUoKTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbn1cblxuLy8gc3JjL3Jlc3BvbnNlLWhhbmRsZXIudHNcbmltcG9ydCB7IEFQSUNhbGxFcnJvciBhcyBBUElDYWxsRXJyb3IyLCBFbXB0eVJlc3BvbnNlQm9keUVycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmltcG9ydCB7XG4gIEV2ZW50U291cmNlUGFyc2VyU3RyZWFtXG59IGZyb20gXCJldmVudHNvdXJjZS1wYXJzZXIvc3RyZWFtXCI7XG52YXIgY3JlYXRlSnNvbkVycm9yUmVzcG9uc2VIYW5kbGVyID0gKHtcbiAgZXJyb3JTY2hlbWEsXG4gIGVycm9yVG9NZXNzYWdlLFxuICBpc1JldHJ5YWJsZVxufSkgPT4gYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICBjb25zdCByZXNwb25zZUJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuICBpZiAocmVzcG9uc2VCb2R5LnRyaW0oKSA9PT0gXCJcIikge1xuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogbmV3IEFQSUNhbGxFcnJvcjIoe1xuICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgICBpc1JldHJ5YWJsZTogaXNSZXRyeWFibGUgPT0gbnVsbCA/IHZvaWQgMCA6IGlzUmV0cnlhYmxlKHJlc3BvbnNlKVxuICAgICAgfSlcbiAgICB9O1xuICB9XG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkRXJyb3IgPSBwYXJzZUpTT04oe1xuICAgICAgdGV4dDogcmVzcG9uc2VCb2R5LFxuICAgICAgc2NoZW1hOiBlcnJvclNjaGVtYVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogbmV3IEFQSUNhbGxFcnJvcjIoe1xuICAgICAgICBtZXNzYWdlOiBlcnJvclRvTWVzc2FnZShwYXJzZWRFcnJvciksXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXNwb25zZUJvZHksXG4gICAgICAgIGRhdGE6IHBhcnNlZEVycm9yLFxuICAgICAgICBpc1JldHJ5YWJsZTogaXNSZXRyeWFibGUgPT0gbnVsbCA/IHZvaWQgMCA6IGlzUmV0cnlhYmxlKHJlc3BvbnNlLCBwYXJzZWRFcnJvcilcbiAgICAgIH0pXG4gICAgfTtcbiAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogbmV3IEFQSUNhbGxFcnJvcjIoe1xuICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgICBpc1JldHJ5YWJsZTogaXNSZXRyeWFibGUgPT0gbnVsbCA/IHZvaWQgMCA6IGlzUmV0cnlhYmxlKHJlc3BvbnNlKVxuICAgICAgfSlcbiAgICB9O1xuICB9XG59O1xudmFyIGNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyID0gKGNodW5rU2NoZW1hKSA9PiBhc3luYyAoeyByZXNwb25zZSB9KSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuICBpZiAocmVzcG9uc2UuYm9keSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVtcHR5UmVzcG9uc2VCb2R5RXJyb3Ioe30pO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgIHZhbHVlOiByZXNwb25zZS5ib2R5LnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKS5waXBlVGhyb3VnaChuZXcgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0oKSkucGlwZVRocm91Z2goXG4gICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgdHJhbnNmb3JtKHsgZGF0YSB9LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgaWYgKGRhdGEgPT09IFwiW0RPTkVdXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgc2FmZVBhcnNlSlNPTih7XG4gICAgICAgICAgICAgIHRleHQ6IGRhdGEsXG4gICAgICAgICAgICAgIHNjaGVtYTogY2h1bmtTY2hlbWFcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gIH07XG59O1xudmFyIGNyZWF0ZUpzb25TdHJlYW1SZXNwb25zZUhhbmRsZXIgPSAoY2h1bmtTY2hlbWEpID0+IGFzeW5jICh7IHJlc3BvbnNlIH0pID0+IHtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmIChyZXNwb25zZS5ib2R5ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRW1wdHlSZXNwb25zZUJvZHlFcnJvcih7fSk7XG4gIH1cbiAgbGV0IGJ1ZmZlciA9IFwiXCI7XG4gIHJldHVybiB7XG4gICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgIHZhbHVlOiByZXNwb25zZS5ib2R5LnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKS5waXBlVGhyb3VnaChcbiAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICB0cmFuc2Zvcm0oY2h1bmtUZXh0LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgaWYgKGNodW5rVGV4dC5lbmRzV2l0aChcIlxcblwiKSkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICBzYWZlUGFyc2VKU09OKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBidWZmZXIgKyBjaHVua1RleHQsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiBjaHVua1NjaGVtYVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJ1ZmZlciA9IFwiXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1ZmZlciArPSBjaHVua1RleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIClcbiAgfTtcbn07XG52YXIgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlciA9IChyZXNwb25zZVNjaGVtYSkgPT4gYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICBjb25zdCByZXNwb25zZUJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIGNvbnN0IHBhcnNlZFJlc3VsdCA9IHNhZmVQYXJzZUpTT04oe1xuICAgIHRleHQ6IHJlc3BvbnNlQm9keSxcbiAgICBzY2hlbWE6IHJlc3BvbnNlU2NoZW1hXG4gIH0pO1xuICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgaWYgKCFwYXJzZWRSZXN1bHQuc3VjY2Vzcykge1xuICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3IyKHtcbiAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBKU09OIHJlc3BvbnNlXCIsXG4gICAgICBjYXVzZTogcGFyc2VkUmVzdWx0LmVycm9yLFxuICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgdXJsLFxuICAgICAgcmVxdWVzdEJvZHlWYWx1ZXNcbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICB2YWx1ZTogcGFyc2VkUmVzdWx0LnZhbHVlXG4gIH07XG59O1xuXG4vLyBzcmMvdWludDgtdXRpbHMudHNcbnZhciB7IGJ0b2EsIGF0b2IgfSA9IGdsb2JhbFRoaXM7XG5mdW5jdGlvbiBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5KGJhc2U2NFN0cmluZykge1xuICBjb25zdCBiYXNlNjRVcmwgPSBiYXNlNjRTdHJpbmcucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIik7XG4gIGNvbnN0IGxhdGluMXN0cmluZyA9IGF0b2IoYmFzZTY0VXJsKTtcbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShsYXRpbjFzdHJpbmcsIChieXRlKSA9PiBieXRlLmNvZGVQb2ludEF0KDApKTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQoYXJyYXkpIHtcbiAgbGV0IGxhdGluMXN0cmluZyA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBsYXRpbjFzdHJpbmcgKz0gU3RyaW5nLmZyb21Db2RlUG9pbnQoYXJyYXlbaV0pO1xuICB9XG4gIHJldHVybiBidG9hKGxhdGluMXN0cmluZyk7XG59XG5cbi8vIHNyYy93aXRob3V0LXRyYWlsaW5nLXNsYXNoLnRzXG5mdW5jdGlvbiB3aXRob3V0VHJhaWxpbmdTbGFzaCh1cmwpIHtcbiAgcmV0dXJuIHVybCA9PSBudWxsID8gdm9pZCAwIDogdXJsLnJlcGxhY2UoL1xcLyQvLCBcIlwiKTtcbn1cbmV4cG9ydCB7XG4gIGFzVmFsaWRhdG9yLFxuICBjb21iaW5lSGVhZGVycyxcbiAgY29udmVydEFzeW5jSXRlcmF0b3JUb1JlYWRhYmxlU3RyZWFtLFxuICBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5LFxuICBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0LFxuICBjcmVhdGVFdmVudFNvdXJjZVJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlSWRHZW5lcmF0b3IsXG4gIGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlcixcbiAgY3JlYXRlSnNvblN0cmVhbVJlc3BvbnNlSGFuZGxlcixcbiAgZXh0cmFjdFJlc3BvbnNlSGVhZGVycyxcbiAgZ2VuZXJhdGVJZCxcbiAgZ2V0RXJyb3JNZXNzYWdlLFxuICBpc0Fib3J0RXJyb3IsXG4gIGlzUGFyc2FibGVKc29uLFxuICBpc1ZhbGlkYXRvcixcbiAgbG9hZEFwaUtleSxcbiAgbG9hZE9wdGlvbmFsU2V0dGluZyxcbiAgbG9hZFNldHRpbmcsXG4gIHBhcnNlSlNPTixcbiAgcG9zdEpzb25Ub0FwaSxcbiAgcG9zdFRvQXBpLFxuICByZXNvbHZlLFxuICBzYWZlUGFyc2VKU09OLFxuICBzYWZlVmFsaWRhdGVUeXBlcyxcbiAgdmFsaWRhdGVUeXBlcyxcbiAgdmFsaWRhdG9yLFxuICB2YWxpZGF0b3JTeW1ib2wsXG4gIHdpdGhvdXRUcmFpbGluZ1NsYXNoLFxuICB6b2RWYWxpZGF0b3Jcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbImNvbWJpbmVIZWFkZXJzIiwiaGVhZGVycyIsInJlZHVjZSIsImNvbWJpbmVkSGVhZGVycyIsImN1cnJlbnRIZWFkZXJzIiwiY29udmVydEFzeW5jSXRlcmF0b3JUb1JlYWRhYmxlU3RyZWFtIiwiaXRlcmF0b3IiLCJSZWFkYWJsZVN0cmVhbSIsInB1bGwiLCJjb250cm9sbGVyIiwidmFsdWUiLCJkb25lIiwibmV4dCIsImNsb3NlIiwiZW5xdWV1ZSIsImVycm9yIiwiY2FuY2VsIiwiZXh0cmFjdFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlIiwiZm9yRWFjaCIsImtleSIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiY3VzdG9tQWxwaGFiZXQiLCJjcmVhdGVJZEdlbmVyYXRvciIsInByZWZpeCIsInNpemUiLCJkZWZhdWx0U2l6ZSIsImFscGhhYmV0Iiwic2VwYXJhdG9yIiwiZ2VuZXJhdG9yIiwiaW5jbHVkZXMiLCJhcmd1bWVudCIsIm1lc3NhZ2UiLCJnZW5lcmF0ZUlkIiwiZ2V0RXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJKU09OIiwic3RyaW5naWZ5IiwiaXNBYm9ydEVycm9yIiwibmFtZSIsIkxvYWRBUElLZXlFcnJvciIsImxvYWRBcGlLZXkiLCJhcGlLZXkiLCJlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSIsImFwaUtleVBhcmFtZXRlck5hbWUiLCJkZXNjcmlwdGlvbiIsInByb2Nlc3MiLCJlbnYiLCJsb2FkT3B0aW9uYWxTZXR0aW5nIiwic2V0dGluZ1ZhbHVlIiwiTG9hZFNldHRpbmdFcnJvciIsImxvYWRTZXR0aW5nIiwic2V0dGluZ05hbWUiLCJKU09OUGFyc2VFcnJvciIsIlR5cGVWYWxpZGF0aW9uRXJyb3IiLCJUeXBlVmFsaWRhdGlvbkVycm9yMiIsIlNlY3VyZUpTT04iLCJ2YWxpZGF0b3JTeW1ib2wiLCJTeW1ib2wiLCJmb3IiLCJ2YWxpZGF0b3IiLCJ2YWxpZGF0ZSIsImlzVmFsaWRhdG9yIiwiYXNWYWxpZGF0b3IiLCJ6b2RWYWxpZGF0b3IiLCJ6b2RTY2hlbWEiLCJyZXN1bHQiLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiZGF0YSIsInZhbGlkYXRlVHlwZXMiLCJzY2hlbWEiLCJpbnB1dFNjaGVtYSIsInNhZmVWYWxpZGF0ZVR5cGVzIiwid3JhcCIsImNhdXNlIiwidmFsaWRhdG9yMiIsInBhcnNlSlNPTiIsInRleHQiLCJwYXJzZSIsImlzSW5zdGFuY2UiLCJzYWZlUGFyc2VKU09OIiwiaXNQYXJzYWJsZUpzb24iLCJpbnB1dCIsImUiLCJBUElDYWxsRXJyb3IiLCJyZW1vdmVVbmRlZmluZWRFbnRyaWVzIiwicmVjb3JkIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwiZmlsdGVyIiwiX2tleSIsImdldE9yaWdpbmFsRmV0Y2giLCJnbG9iYWxUaGlzIiwiZmV0Y2giLCJwb3N0SnNvblRvQXBpIiwidXJsIiwiYm9keSIsImZhaWxlZFJlc3BvbnNlSGFuZGxlciIsInN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIiLCJhYm9ydFNpZ25hbCIsInBvc3RUb0FwaSIsImNvbnRlbnQiLCJ2YWx1ZXMiLCJtZXRob2QiLCJzaWduYWwiLCJyZXNwb25zZUhlYWRlcnMiLCJvayIsImVycm9ySW5mb3JtYXRpb24iLCJyZXF1ZXN0Qm9keVZhbHVlcyIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJUeXBlRXJyb3IiLCJpc1JldHJ5YWJsZSIsInJlc29sdmUiLCJQcm9taXNlIiwiQVBJQ2FsbEVycm9yMiIsIkVtcHR5UmVzcG9uc2VCb2R5RXJyb3IiLCJFdmVudFNvdXJjZVBhcnNlclN0cmVhbSIsImNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlciIsImVycm9yU2NoZW1hIiwiZXJyb3JUb01lc3NhZ2UiLCJyZXNwb25zZUJvZHkiLCJ0cmltIiwic3RhdHVzVGV4dCIsInBhcnNlZEVycm9yIiwicGFyc2VFcnJvciIsImNyZWF0ZUV2ZW50U291cmNlUmVzcG9uc2VIYW5kbGVyIiwiY2h1bmtTY2hlbWEiLCJwaXBlVGhyb3VnaCIsIlRleHREZWNvZGVyU3RyZWFtIiwiVHJhbnNmb3JtU3RyZWFtIiwidHJhbnNmb3JtIiwiY3JlYXRlSnNvblN0cmVhbVJlc3BvbnNlSGFuZGxlciIsImJ1ZmZlciIsImNodW5rVGV4dCIsImVuZHNXaXRoIiwiY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlciIsInJlc3BvbnNlU2NoZW1hIiwicGFyc2VkUmVzdWx0IiwiYnRvYSIsImF0b2IiLCJjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5IiwiYmFzZTY0U3RyaW5nIiwiYmFzZTY0VXJsIiwicmVwbGFjZSIsImxhdGluMXN0cmluZyIsIlVpbnQ4QXJyYXkiLCJmcm9tIiwiYnl0ZSIsImNvZGVQb2ludEF0IiwiY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCIsImFycmF5IiwiaSIsImxlbmd0aCIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJ3aXRob3V0VHJhaWxpbmdTbGFzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@ai-sdk/provider-utils/node_modules/eventsource-parser/dist/index.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@ai-sdk/provider-utils/node_modules/eventsource-parser/dist/index.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ParseError: () => (/* binding */ ParseError),\n/* harmony export */   createParser: () => (/* binding */ createParser)\n/* harmony export */ });\nvar __defProp = Object.defineProperty, __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: !0,\n        configurable: !0,\n        writable: !0,\n        value\n    }) : obj[key] = value, __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key != \"symbol\" ? key + \"\" : key, value);\nclass ParseError extends Error {\n    constructor(message, options){\n        super(message), __publicField(this, \"type\"), __publicField(this, \"field\"), __publicField(this, \"value\"), __publicField(this, \"line\"), this.name = \"ParseError\", this.type = options.type, this.field = options.field, this.value = options.value, this.line = options.line;\n    }\n}\nfunction noop(_arg) {}\nfunction createParser(callbacks) {\n    const { onEvent = noop, onError = noop, onRetry = noop, onComment } = callbacks;\n    let incompleteLine = \"\", isFirstChunk = !0, id, data = \"\", eventType = \"\";\n    function feed(newChunk) {\n        const chunk = isFirstChunk ? newChunk.replace(/^\\xEF\\xBB\\xBF/, \"\") : newChunk, [complete, incomplete] = splitLines(`${incompleteLine}${chunk}`);\n        for (const line of complete)parseLine(line);\n        incompleteLine = incomplete, isFirstChunk = !1;\n    }\n    function parseLine(line) {\n        if (line === \"\") {\n            dispatchEvent();\n            return;\n        }\n        if (line.startsWith(\":\")) {\n            onComment && onComment(line.slice(line.startsWith(\": \") ? 2 : 1));\n            return;\n        }\n        const fieldSeparatorIndex = line.indexOf(\":\");\n        if (fieldSeparatorIndex !== -1) {\n            const field = line.slice(0, fieldSeparatorIndex), offset = line[fieldSeparatorIndex + 1] === \" \" ? 2 : 1, value = line.slice(fieldSeparatorIndex + offset);\n            processField(field, value, line);\n            return;\n        }\n        processField(line, \"\", line);\n    }\n    function processField(field, value, line) {\n        switch(field){\n            case \"event\":\n                eventType = value;\n                break;\n            case \"data\":\n                data = `${data}${value}\n`;\n                break;\n            case \"id\":\n                id = value.includes(\"\\x00\") ? void 0 : value;\n                break;\n            case \"retry\":\n                /^\\d+$/.test(value) ? onRetry(parseInt(value, 10)) : onError(new ParseError(`Invalid \\`retry\\` value: \"${value}\"`, {\n                    type: \"invalid-retry\",\n                    value,\n                    line\n                }));\n                break;\n            default:\n                onError(new ParseError(`Unknown field \"${field.length > 20 ? `${field.slice(0, 20)}\\u2026` : field}\"`, {\n                    type: \"unknown-field\",\n                    field,\n                    value,\n                    line\n                }));\n                break;\n        }\n    }\n    function dispatchEvent() {\n        data.length > 0 && onEvent({\n            id,\n            event: eventType || void 0,\n            // If the data buffer's last character is a U+000A LINE FEED (LF) character,\n            // then remove the last character from the data buffer.\n            data: data.endsWith(`\n`) ? data.slice(0, -1) : data\n        }), id = void 0, data = \"\", eventType = \"\";\n    }\n    function reset(options = {}) {\n        incompleteLine && options.consume && parseLine(incompleteLine), id = void 0, data = \"\", eventType = \"\", incompleteLine = \"\";\n    }\n    return {\n        feed,\n        reset\n    };\n}\nfunction splitLines(chunk) {\n    const lines = [];\n    let incompleteLine = \"\";\n    const totalLength = chunk.length;\n    for(let i = 0; i < totalLength; i++){\n        const char = chunk[i];\n        char === \"\\r\" && chunk[i + 1] === `\n` ? (lines.push(incompleteLine), incompleteLine = \"\", i++) : char === \"\\r\" || char === `\n` ? (lines.push(incompleteLine), incompleteLine = \"\") : incompleteLine += char;\n    }\n    return [\n        lines,\n        incompleteLine\n    ];\n}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9ub2RlX21vZHVsZXMvZXZlbnRzb3VyY2UtcGFyc2VyL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFJQSxZQUFZQyxPQUFPQyxjQUFjLEVBQUVDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVksQ0FBQztRQUFHQyxjQUFjLENBQUM7UUFBR0MsVUFBVSxDQUFDO1FBQUdIO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDLE9BQU9JLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsT0FBTyxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ2pTLE1BQU1LLG1CQUFtQkM7SUFDdkJDLFlBQVlDLE9BQU8sRUFBRUMsT0FBTyxDQUFFO1FBQzVCLEtBQUssQ0FBQ0QsVUFBVUosY0FBYyxJQUFJLEVBQUUsU0FBU0EsY0FBYyxJQUFJLEVBQUUsVUFBVUEsY0FBYyxJQUFJLEVBQUUsVUFBVUEsY0FBYyxJQUFJLEVBQUUsU0FBUyxJQUFJLENBQUNNLElBQUksR0FBRyxjQUFjLElBQUksQ0FBQ0MsSUFBSSxHQUFHRixRQUFRRSxJQUFJLEVBQUUsSUFBSSxDQUFDQyxLQUFLLEdBQUdILFFBQVFHLEtBQUssRUFBRSxJQUFJLENBQUNaLEtBQUssR0FBR1MsUUFBUVQsS0FBSyxFQUFFLElBQUksQ0FBQ2EsSUFBSSxHQUFHSixRQUFRSSxJQUFJO0lBQzVRO0FBQ0Y7QUFDQSxTQUFTQyxLQUFLQyxJQUFJLEdBQ2xCO0FBQ0EsU0FBU0MsYUFBYUMsU0FBUztJQUM3QixNQUFNLEVBQUVDLFVBQVVKLElBQUksRUFBRUssVUFBVUwsSUFBSSxFQUFFTSxVQUFVTixJQUFJLEVBQUVPLFNBQVMsRUFBRSxHQUFHSjtJQUN0RSxJQUFJSyxpQkFBaUIsSUFBSUMsZUFB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R0FBR0EsSUFBSUQsYUFBYUMsSUFBSztRQUNwQyxNQUFNQyxPQUFPeEIsS0FBSyxDQUFDdUIsRUFBRTtRQUNyQkMsU0FBUyxRQUFReEIsS0FBSyxDQUFDdUIsSUFBSSxFQUFFLEtBQUssQ0FBQztBQUN2QyxDQUFDLEdBQUlGLENBQUFBLE1BQU1JLElBQUksQ0FBQ2hDLGlCQUFpQkEsaUJBQWlCLElBQUk4QixHQUFFLElBQUtDLFNBQVMsUUFBUUEsU0FBUyxDQUFDO0FBQ3hGLENBQUMsR0FBSUgsQ0FBQUEsTUFBTUksSUFBSSxDQUFDaEMsaUJBQWlCQSxpQkFBaUIsRUFBQyxJQUFLQSxrQkFBa0IrQjtJQUN4RTtJQUNBLE9BQU87UUFBQ0g7UUFBTzVCO0tBQWU7QUFDaEM7QUFJRSxDQUNGLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NydC8uL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL25vZGVfbW9kdWxlcy9ldmVudHNvdXJjZS1wYXJzZXIvZGlzdC9pbmRleC5qcz9jOTM3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlLCBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuY2xhc3MgUGFyc2VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgb3B0aW9ucykge1xuICAgIHN1cGVyKG1lc3NhZ2UpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidHlwZVwiKSwgX19wdWJsaWNGaWVsZCh0aGlzLCBcImZpZWxkXCIpLCBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidmFsdWVcIiksIF9fcHVibGljRmllbGQodGhpcywgXCJsaW5lXCIpLCB0aGlzLm5hbWUgPSBcIlBhcnNlRXJyb3JcIiwgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlLCB0aGlzLmZpZWxkID0gb3B0aW9ucy5maWVsZCwgdGhpcy52YWx1ZSA9IG9wdGlvbnMudmFsdWUsIHRoaXMubGluZSA9IG9wdGlvbnMubGluZTtcbiAgfVxufVxuZnVuY3Rpb24gbm9vcChfYXJnKSB7XG59XG5mdW5jdGlvbiBjcmVhdGVQYXJzZXIoY2FsbGJhY2tzKSB7XG4gIGNvbnN0IHsgb25FdmVudCA9IG5vb3AsIG9uRXJyb3IgPSBub29wLCBvblJldHJ5ID0gbm9vcCwgb25Db21tZW50IH0gPSBjYWxsYmFja3M7XG4gIGxldCBpbmNvbXBsZXRlTGluZSA9IFwiXCIsIGlzRmlyc3RDaHVuayA9ICEwLCBpZCwgZGF0YSA9IFwiXCIsIGV2ZW50VHlwZSA9IFwiXCI7XG4gIGZ1bmN0aW9uIGZlZWQobmV3Q2h1bmspIHtcbiAgICBjb25zdCBjaHVuayA9IGlzRmlyc3RDaHVuayA/IG5ld0NodW5rLnJlcGxhY2UoL15cXHhFRlxceEJCXFx4QkYvLCBcIlwiKSA6IG5ld0NodW5rLCBbY29tcGxldGUsIGluY29tcGxldGVdID0gc3BsaXRMaW5lcyhgJHtpbmNvbXBsZXRlTGluZX0ke2NodW5rfWApO1xuICAgIGZvciAoY29uc3QgbGluZSBvZiBjb21wbGV0ZSlcbiAgICAgIHBhcnNlTGluZShsaW5lKTtcbiAgICBpbmNvbXBsZXRlTGluZSA9IGluY29tcGxldGUsIGlzRmlyc3RDaHVuayA9ICExO1xuICB9XG4gIGZ1bmN0aW9uIHBhcnNlTGluZShsaW5lKSB7XG4gICAgaWYgKGxpbmUgPT09IFwiXCIpIHtcbiAgICAgIGRpc3BhdGNoRXZlbnQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGxpbmUuc3RhcnRzV2l0aChcIjpcIikpIHtcbiAgICAgIG9uQ29tbWVudCAmJiBvbkNvbW1lbnQobGluZS5zbGljZShsaW5lLnN0YXJ0c1dpdGgoXCI6IFwiKSA/IDIgOiAxKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpZWxkU2VwYXJhdG9ySW5kZXggPSBsaW5lLmluZGV4T2YoXCI6XCIpO1xuICAgIGlmIChmaWVsZFNlcGFyYXRvckluZGV4ICE9PSAtMSkge1xuICAgICAgY29uc3QgZmllbGQgPSBsaW5lLnNsaWNlKDAsIGZpZWxkU2VwYXJhdG9ySW5kZXgpLCBvZmZzZXQgPSBsaW5lW2ZpZWxkU2VwYXJhdG9ySW5kZXggKyAxXSA9PT0gXCIgXCIgPyAyIDogMSwgdmFsdWUgPSBsaW5lLnNsaWNlKGZpZWxkU2VwYXJhdG9ySW5kZXggKyBvZmZzZXQpO1xuICAgICAgcHJvY2Vzc0ZpZWxkKGZpZWxkLCB2YWx1ZSwgbGluZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb2Nlc3NGaWVsZChsaW5lLCBcIlwiLCBsaW5lKTtcbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzRmllbGQoZmllbGQsIHZhbHVlLCBsaW5lKSB7XG4gICAgc3dpdGNoIChmaWVsZCkge1xuICAgICAgY2FzZSBcImV2ZW50XCI6XG4gICAgICAgIGV2ZW50VHlwZSA9IHZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkYXRhXCI6XG4gICAgICAgIGRhdGEgPSBgJHtkYXRhfSR7dmFsdWV9XG5gO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpZFwiOlxuICAgICAgICBpZCA9IHZhbHVlLmluY2x1ZGVzKFwiXFwwXCIpID8gdm9pZCAwIDogdmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJldHJ5XCI6XG4gICAgICAgIC9eXFxkKyQvLnRlc3QodmFsdWUpID8gb25SZXRyeShwYXJzZUludCh2YWx1ZSwgMTApKSA6IG9uRXJyb3IoXG4gICAgICAgICAgbmV3IFBhcnNlRXJyb3IoYEludmFsaWQgXFxgcmV0cnlcXGAgdmFsdWU6IFwiJHt2YWx1ZX1cImAsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiaW52YWxpZC1yZXRyeVwiLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBsaW5lXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBvbkVycm9yKFxuICAgICAgICAgIG5ldyBQYXJzZUVycm9yKFxuICAgICAgICAgICAgYFVua25vd24gZmllbGQgXCIke2ZpZWxkLmxlbmd0aCA+IDIwID8gYCR7ZmllbGQuc2xpY2UoMCwgMjApfVxcdTIwMjZgIDogZmllbGR9XCJgLFxuICAgICAgICAgICAgeyB0eXBlOiBcInVua25vd24tZmllbGRcIiwgZmllbGQsIHZhbHVlLCBsaW5lIH1cbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KCkge1xuICAgIGRhdGEubGVuZ3RoID4gMCAmJiBvbkV2ZW50KHtcbiAgICAgIGlkLFxuICAgICAgZXZlbnQ6IGV2ZW50VHlwZSB8fCB2b2lkIDAsXG4gICAgICAvLyBJZiB0aGUgZGF0YSBidWZmZXIncyBsYXN0IGNoYXJhY3RlciBpcyBhIFUrMDAwQSBMSU5FIEZFRUQgKExGKSBjaGFyYWN0ZXIsXG4gICAgICAvLyB0aGVuIHJlbW92ZSB0aGUgbGFzdCBjaGFyYWN0ZXIgZnJvbSB0aGUgZGF0YSBidWZmZXIuXG4gICAgICBkYXRhOiBkYXRhLmVuZHNXaXRoKGBcbmApID8gZGF0YS5zbGljZSgwLCAtMSkgOiBkYXRhXG4gICAgfSksIGlkID0gdm9pZCAwLCBkYXRhID0gXCJcIiwgZXZlbnRUeXBlID0gXCJcIjtcbiAgfVxuICBmdW5jdGlvbiByZXNldChvcHRpb25zID0ge30pIHtcbiAgICBpbmNvbXBsZXRlTGluZSAmJiBvcHRpb25zLmNvbnN1bWUgJiYgcGFyc2VMaW5lKGluY29tcGxldGVMaW5lKSwgaWQgPSB2b2lkIDAsIGRhdGEgPSBcIlwiLCBldmVudFR5cGUgPSBcIlwiLCBpbmNvbXBsZXRlTGluZSA9IFwiXCI7XG4gIH1cbiAgcmV0dXJuIHsgZmVlZCwgcmVzZXQgfTtcbn1cbmZ1bmN0aW9uIHNwbGl0TGluZXMoY2h1bmspIHtcbiAgY29uc3QgbGluZXMgPSBbXTtcbiAgbGV0IGluY29tcGxldGVMaW5lID0gXCJcIjtcbiAgY29uc3QgdG90YWxMZW5ndGggPSBjaHVuay5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxMZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBjaHVua1tpXTtcbiAgICBjaGFyID09PSBcIlxcclwiICYmIGNodW5rW2kgKyAxXSA9PT0gYFxuYCA/IChsaW5lcy5wdXNoKGluY29tcGxldGVMaW5lKSwgaW5jb21wbGV0ZUxpbmUgPSBcIlwiLCBpKyspIDogY2hhciA9PT0gXCJcXHJcIiB8fCBjaGFyID09PSBgXG5gID8gKGxpbmVzLnB1c2goaW5jb21wbGV0ZUxpbmUpLCBpbmNvbXBsZXRlTGluZSA9IFwiXCIpIDogaW5jb21wbGV0ZUxpbmUgKz0gY2hhcjtcbiAgfVxuICByZXR1cm4gW2xpbmVzLCBpbmNvbXBsZXRlTGluZV07XG59XG5leHBvcnQge1xuICBQYXJzZUVycm9yLFxuICBjcmVhdGVQYXJzZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsIlBhcnNlRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsIm9wdGlvbnMiLCJuYW1lIiwidHlwZSIsImZpZWxkIiwibGluZSIsIm5vb3AiLCJfYXJnIiwiY3JlYXRlUGFyc2VyIiwiY2FsbGJhY2tzIiwib25FdmVudCIsIm9uRXJyb3IiLCJvblJldHJ5Iiwib25Db21tZW50IiwiaW5jb21wbGV0ZUxpbmUiLCJpc0ZpcnN0Q2h1bmsiLCJpZCIsImRhdGEiLCJldmVudFR5cGUiLCJmZWVkIiwibmV3Q2h1bmsiLCJjaHVuayIsInJlcGxhY2UiLCJjb21wbGV0ZSIsImluY29tcGxldGUiLCJzcGxpdExpbmVzIiwicGFyc2VMaW5lIiwiZGlzcGF0Y2hFdmVudCIsInN0YXJ0c1dpdGgiLCJzbGljZSIsImZpZWxkU2VwYXJhdG9ySW5kZXgiLCJpbmRleE9mIiwib2Zmc2V0IiwicHJvY2Vzc0ZpZWxkIiwiaW5jbHVkZXMiLCJ0ZXN0IiwicGFyc2VJbnQiLCJsZW5ndGgiLCJldmVudCIsImVuZHNXaXRoIiwicmVzZXQiLCJjb25zdW1lIiwibGluZXMiLCJ0b3RhbExlbmd0aCIsImkiLCJjaGFyIiwicHVzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@ai-sdk/provider-utils/node_modules/eventsource-parser/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@ai-sdk/provider-utils/node_modules/eventsource-parser/dist/stream.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@ai-sdk/provider-utils/node_modules/eventsource-parser/dist/stream.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventSourceParserStream: () => (/* binding */ EventSourceParserStream),\n/* harmony export */   ParseError: () => (/* reexport safe */ _index_js__WEBPACK_IMPORTED_MODULE_0__.ParseError)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.js */ \"(rsc)/./node_modules/@ai-sdk/provider-utils/node_modules/eventsource-parser/dist/index.js\");\n\n\nclass EventSourceParserStream extends TransformStream {\n    constructor({ onError, onRetry, onComment } = {}){\n        let parser;\n        super({\n            start (controller) {\n                parser = (0,_index_js__WEBPACK_IMPORTED_MODULE_0__.createParser)({\n                    onEvent: (event)=>{\n                        controller.enqueue(event);\n                    },\n                    onError (error) {\n                        onError === \"terminate\" ? controller.error(error) : typeof onError == \"function\" && onError(error);\n                    },\n                    onRetry,\n                    onComment\n                });\n            },\n            transform (chunk) {\n                parser.feed(chunk);\n            }\n        });\n    }\n}\n //# sourceMappingURL=stream.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci11dGlscy9ub2RlX21vZHVsZXMvZXZlbnRzb3VyY2UtcGFyc2VyL2Rpc3Qvc3RyZWFtLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQztBQUNGO0FBQ3hDLE1BQU1FLGdDQUFnQ0M7SUFDcENDLFlBQVksRUFBRUMsT0FBTyxFQUFFQyxPQUFPLEVBQUVDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFFO1FBQ2hELElBQUlDO1FBQ0osS0FBSyxDQUFDO1lBQ0pDLE9BQU1DLFVBQVU7Z0JBQ2RGLFNBQVNSLHVEQUFZQSxDQUFDO29CQUNwQlcsU0FBUyxDQUFDQzt3QkFDUkYsV0FBV0csT0FBTyxDQUFDRDtvQkFDckI7b0JBQ0FQLFNBQVFTLEtBQUs7d0JBQ1hULFlBQVksY0FBY0ssV0FBV0ksS0FBSyxDQUFDQSxTQUFTLE9BQU9ULFdBQVcsY0FBY0EsUUFBUVM7b0JBQzlGO29CQUNBUjtvQkFDQUM7Z0JBQ0Y7WUFDRjtZQUNBUSxXQUFVQyxLQUFLO2dCQUNiUixPQUFPUyxJQUFJLENBQUNEO1lBQ2Q7UUFDRjtJQUNGO0FBQ0Y7QUFJRSxDQUNGLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NydC8uL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL25vZGVfbW9kdWxlcy9ldmVudHNvdXJjZS1wYXJzZXIvZGlzdC9zdHJlYW0uanM/ZDMxMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVQYXJzZXIgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgUGFyc2VFcnJvciB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5jbGFzcyBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSBleHRlbmRzIFRyYW5zZm9ybVN0cmVhbSB7XG4gIGNvbnN0cnVjdG9yKHsgb25FcnJvciwgb25SZXRyeSwgb25Db21tZW50IH0gPSB7fSkge1xuICAgIGxldCBwYXJzZXI7XG4gICAgc3VwZXIoe1xuICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICBwYXJzZXIgPSBjcmVhdGVQYXJzZXIoe1xuICAgICAgICAgIG9uRXZlbnQ6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGV2ZW50KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICAgIG9uRXJyb3IgPT09IFwidGVybWluYXRlXCIgPyBjb250cm9sbGVyLmVycm9yKGVycm9yKSA6IHR5cGVvZiBvbkVycm9yID09IFwiZnVuY3Rpb25cIiAmJiBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uUmV0cnksXG4gICAgICAgICAgb25Db21tZW50XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHRyYW5zZm9ybShjaHVuaykge1xuICAgICAgICBwYXJzZXIuZmVlZChjaHVuayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIEV2ZW50U291cmNlUGFyc2VyU3RyZWFtLFxuICBQYXJzZUVycm9yXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyZWFtLmpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZVBhcnNlciIsIlBhcnNlRXJyb3IiLCJFdmVudFNvdXJjZVBhcnNlclN0cmVhbSIsIlRyYW5zZm9ybVN0cmVhbSIsImNvbnN0cnVjdG9yIiwib25FcnJvciIsIm9uUmV0cnkiLCJvbkNvbW1lbnQiLCJwYXJzZXIiLCJzdGFydCIsImNvbnRyb2xsZXIiLCJvbkV2ZW50IiwiZXZlbnQiLCJlbnF1ZXVlIiwiZXJyb3IiLCJ0cmFuc2Zvcm0iLCJjaHVuayIsImZlZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@ai-sdk/provider-utils/node_modules/eventsource-parser/dist/stream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@ai-sdk/provider/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@ai-sdk/provider/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AISDKError: () => (/* binding */ AISDKError),\n/* harmony export */   APICallError: () => (/* binding */ APICallError),\n/* harmony export */   EmptyResponseBodyError: () => (/* binding */ EmptyResponseBodyError),\n/* harmony export */   InvalidArgumentError: () => (/* binding */ InvalidArgumentError),\n/* harmony export */   InvalidPromptError: () => (/* binding */ InvalidPromptError),\n/* harmony export */   InvalidResponseDataError: () => (/* binding */ InvalidResponseDataError),\n/* harmony export */   JSONParseError: () => (/* binding */ JSONParseError),\n/* harmony export */   LoadAPIKeyError: () => (/* binding */ LoadAPIKeyError),\n/* harmony export */   LoadSettingError: () => (/* binding */ LoadSettingError),\n/* harmony export */   NoContentGeneratedError: () => (/* binding */ NoContentGeneratedError),\n/* harmony export */   NoSuchModelError: () => (/* binding */ NoSuchModelError),\n/* harmony export */   TooManyEmbeddingValuesForCallError: () => (/* binding */ TooManyEmbeddingValuesForCallError),\n/* harmony export */   TypeValidationError: () => (/* binding */ TypeValidationError),\n/* harmony export */   UnsupportedFunctionalityError: () => (/* binding */ UnsupportedFunctionalityError),\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage),\n/* harmony export */   isJSONArray: () => (/* binding */ isJSONArray),\n/* harmony export */   isJSONObject: () => (/* binding */ isJSONObject),\n/* harmony export */   isJSONValue: () => (/* binding */ isJSONValue)\n/* harmony export */ });\n// src/errors/ai-sdk-error.ts\nvar marker = \"vercel.ai.error\";\nvar symbol = Symbol.for(marker);\nvar _a;\nvar _AISDKError = class _AISDKError extends Error {\n    /**\n   * Creates an AI SDK Error.\n   *\n   * @param {Object} params - The parameters for creating the error.\n   * @param {string} params.name - The name of the error.\n   * @param {string} params.message - The error message.\n   * @param {unknown} [params.cause] - The underlying cause of the error.\n   */ constructor({ name: name14, message, cause }){\n        super(message);\n        this[_a] = true;\n        this.name = name14;\n        this.cause = cause;\n    }\n    /**\n   * Checks if the given error is an AI SDK Error.\n   * @param {unknown} error - The error to check.\n   * @returns {boolean} True if the error is an AI SDK Error, false otherwise.\n   */ static isInstance(error) {\n        return _AISDKError.hasMarker(error, marker);\n    }\n    static hasMarker(error, marker15) {\n        const markerSymbol = Symbol.for(marker15);\n        return error != null && typeof error === \"object\" && markerSymbol in error && typeof error[markerSymbol] === \"boolean\" && error[markerSymbol] === true;\n    }\n};\n_a = symbol;\nvar AISDKError = _AISDKError;\n// src/errors/api-call-error.ts\nvar name = \"AI_APICallError\";\nvar marker2 = `vercel.ai.error.${name}`;\nvar symbol2 = Symbol.for(marker2);\nvar _a2;\nvar APICallError = class extends AISDKError {\n    constructor({ message, url, requestBodyValues, statusCode, responseHeaders, responseBody, cause, isRetryable = statusCode != null && (statusCode === 408 || // request timeout\n    statusCode === 409 || // conflict\n    statusCode === 429 || // too many requests\n    statusCode >= 500), // server error\n    data }){\n        super({\n            name,\n            message,\n            cause\n        });\n        this[_a2] = true;\n        this.url = url;\n        this.requestBodyValues = requestBodyValues;\n        this.statusCode = statusCode;\n        this.responseHeaders = responseHeaders;\n        this.responseBody = responseBody;\n        this.isRetryable = isRetryable;\n        this.data = data;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker2);\n    }\n};\n_a2 = symbol2;\n// src/errors/empty-response-body-error.ts\nvar name2 = \"AI_EmptyResponseBodyError\";\nvar marker3 = `vercel.ai.error.${name2}`;\nvar symbol3 = Symbol.for(marker3);\nvar _a3;\nvar EmptyResponseBodyError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message = \"Empty response body\" } = {}){\n        super({\n            name: name2,\n            message\n        });\n        this[_a3] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker3);\n    }\n};\n_a3 = symbol3;\n// src/errors/get-error-message.ts\nfunction getErrorMessage(error) {\n    if (error == null) {\n        return \"unknown error\";\n    }\n    if (typeof error === \"string\") {\n        return error;\n    }\n    if (error instanceof Error) {\n        return error.message;\n    }\n    return JSON.stringify(error);\n}\n// src/errors/invalid-argument-error.ts\nvar name3 = \"AI_InvalidArgumentError\";\nvar marker4 = `vercel.ai.error.${name3}`;\nvar symbol4 = Symbol.for(marker4);\nvar _a4;\nvar InvalidArgumentError = class extends AISDKError {\n    constructor({ message, cause, argument }){\n        super({\n            name: name3,\n            message,\n            cause\n        });\n        this[_a4] = true;\n        this.argument = argument;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker4);\n    }\n};\n_a4 = symbol4;\n// src/errors/invalid-prompt-error.ts\nvar name4 = \"AI_InvalidPromptError\";\nvar marker5 = `vercel.ai.error.${name4}`;\nvar symbol5 = Symbol.for(marker5);\nvar _a5;\nvar InvalidPromptError = class extends AISDKError {\n    constructor({ prompt, message, cause }){\n        super({\n            name: name4,\n            message: `Invalid prompt: ${message}`,\n            cause\n        });\n        this[_a5] = true;\n        this.prompt = prompt;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker5);\n    }\n};\n_a5 = symbol5;\n// src/errors/invalid-response-data-error.ts\nvar name5 = \"AI_InvalidResponseDataError\";\nvar marker6 = `vercel.ai.error.${name5}`;\nvar symbol6 = Symbol.for(marker6);\nvar _a6;\nvar InvalidResponseDataError = class extends AISDKError {\n    constructor({ data, message = `Invalid response data: ${JSON.stringify(data)}.` }){\n        super({\n            name: name5,\n            message\n        });\n        this[_a6] = true;\n        this.data = data;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker6);\n    }\n};\n_a6 = symbol6;\n// src/errors/json-parse-error.ts\nvar name6 = \"AI_JSONParseError\";\nvar marker7 = `vercel.ai.error.${name6}`;\nvar symbol7 = Symbol.for(marker7);\nvar _a7;\nvar JSONParseError = class extends AISDKError {\n    constructor({ text, cause }){\n        super({\n            name: name6,\n            message: `JSON parsing failed: Text: ${text}.\nError message: ${getErrorMessage(cause)}`,\n            cause\n        });\n        this[_a7] = true;\n        this.text = text;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker7);\n    }\n};\n_a7 = symbol7;\n// src/errors/load-api-key-error.ts\nvar name7 = \"AI_LoadAPIKeyError\";\nvar marker8 = `vercel.ai.error.${name7}`;\nvar symbol8 = Symbol.for(marker8);\nvar _a8;\nvar LoadAPIKeyError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message }){\n        super({\n            name: name7,\n            message\n        });\n        this[_a8] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker8);\n    }\n};\n_a8 = symbol8;\n// src/errors/load-setting-error.ts\nvar name8 = \"AI_LoadSettingError\";\nvar marker9 = `vercel.ai.error.${name8}`;\nvar symbol9 = Symbol.for(marker9);\nvar _a9;\nvar LoadSettingError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message }){\n        super({\n            name: name8,\n            message\n        });\n        this[_a9] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker9);\n    }\n};\n_a9 = symbol9;\n// src/errors/no-content-generated-error.ts\nvar name9 = \"AI_NoContentGeneratedError\";\nvar marker10 = `vercel.ai.error.${name9}`;\nvar symbol10 = Symbol.for(marker10);\nvar _a10;\nvar NoContentGeneratedError = class extends AISDKError {\n    // used in isInstance\n    constructor({ message = \"No content generated.\" } = {}){\n        super({\n            name: name9,\n            message\n        });\n        this[_a10] = true;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker10);\n    }\n};\n_a10 = symbol10;\n// src/errors/no-such-model-error.ts\nvar name10 = \"AI_NoSuchModelError\";\nvar marker11 = `vercel.ai.error.${name10}`;\nvar symbol11 = Symbol.for(marker11);\nvar _a11;\nvar NoSuchModelError = class extends AISDKError {\n    constructor({ errorName = name10, modelId, modelType, message = `No such ${modelType}: ${modelId}` }){\n        super({\n            name: errorName,\n            message\n        });\n        this[_a11] = true;\n        this.modelId = modelId;\n        this.modelType = modelType;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker11);\n    }\n};\n_a11 = symbol11;\n// src/errors/too-many-embedding-values-for-call-error.ts\nvar name11 = \"AI_TooManyEmbeddingValuesForCallError\";\nvar marker12 = `vercel.ai.error.${name11}`;\nvar symbol12 = Symbol.for(marker12);\nvar _a12;\nvar TooManyEmbeddingValuesForCallError = class extends AISDKError {\n    constructor(options){\n        super({\n            name: name11,\n            message: `Too many values for a single embedding call. The ${options.provider} model \"${options.modelId}\" can only embed up to ${options.maxEmbeddingsPerCall} values per call, but ${options.values.length} values were provided.`\n        });\n        this[_a12] = true;\n        this.provider = options.provider;\n        this.modelId = options.modelId;\n        this.maxEmbeddingsPerCall = options.maxEmbeddingsPerCall;\n        this.values = options.values;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker12);\n    }\n};\n_a12 = symbol12;\n// src/errors/type-validation-error.ts\nvar name12 = \"AI_TypeValidationError\";\nvar marker13 = `vercel.ai.error.${name12}`;\nvar symbol13 = Symbol.for(marker13);\nvar _a13;\nvar _TypeValidationError = class _TypeValidationError extends AISDKError {\n    constructor({ value, cause }){\n        super({\n            name: name12,\n            message: `Type validation failed: Value: ${JSON.stringify(value)}.\nError message: ${getErrorMessage(cause)}`,\n            cause\n        });\n        this[_a13] = true;\n        this.value = value;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker13);\n    }\n    /**\n   * Wraps an error into a TypeValidationError.\n   * If the cause is already a TypeValidationError with the same value, it returns the cause.\n   * Otherwise, it creates a new TypeValidationError.\n   *\n   * @param {Object} params - The parameters for wrapping the error.\n   * @param {unknown} params.value - The value that failed validation.\n   * @param {unknown} params.cause - The original error or cause of the validation failure.\n   * @returns {TypeValidationError} A TypeValidationError instance.\n   */ static wrap({ value, cause }) {\n        return _TypeValidationError.isInstance(cause) && cause.value === value ? cause : new _TypeValidationError({\n            value,\n            cause\n        });\n    }\n};\n_a13 = symbol13;\nvar TypeValidationError = _TypeValidationError;\n// src/errors/unsupported-functionality-error.ts\nvar name13 = \"AI_UnsupportedFunctionalityError\";\nvar marker14 = `vercel.ai.error.${name13}`;\nvar symbol14 = Symbol.for(marker14);\nvar _a14;\nvar UnsupportedFunctionalityError = class extends AISDKError {\n    constructor({ functionality }){\n        super({\n            name: name13,\n            message: `'${functionality}' functionality not supported.`\n        });\n        this[_a14] = true;\n        this.functionality = functionality;\n    }\n    static isInstance(error) {\n        return AISDKError.hasMarker(error, marker14);\n    }\n};\n_a14 = symbol14;\n// src/json-value/is-json.ts\nfunction isJSONValue(value) {\n    if (value === null || typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\n        return true;\n    }\n    if (Array.isArray(value)) {\n        return value.every(isJSONValue);\n    }\n    if (typeof value === \"object\") {\n        return Object.entries(value).every(([key, val])=>typeof key === \"string\" && isJSONValue(val));\n    }\n    return false;\n}\nfunction isJSONArray(value) {\n    return Array.isArray(value) && value.every(isJSONValue);\n}\nfunction isJSONObject(value) {\n    return value != null && typeof value === \"object\" && Object.entries(value).every(([key, val])=>typeof key === \"string\" && isJSONValue(val));\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2QkFBNkI7QUFDN0IsSUFBSUEsU0FBUztBQUNiLElBQUlDLFNBQVNDLE9BQU9DLEdBQUcsQ0FBQ0g7QUFDeEIsSUFBSUk7QUFDSixJQUFJQyxjQUFjLE1BQU1BLG9CQUFvQkM7SUFDMUM7Ozs7Ozs7R0FPQyxHQUNEQyxZQUFZLEVBQ1ZDLE1BQU1DLE1BQU0sRUFDWkMsT0FBTyxFQUNQQyxLQUFLLEVBQ04sQ0FBRTtRQUNELEtBQUssQ0FBQ0Q7UUFDTixJQUFJLENBQUNOLEdBQUcsR0FBRztRQUNYLElBQUksQ0FBQ0ksSUFBSSxHQUFHQztRQUNaLElBQUksQ0FBQ0UsS0FBSyxHQUFHQTtJQUNmO0lBQ0E7Ozs7R0FJQyxHQUNELE9BQU9DLFdBQVdDLEtBQUssRUFBRTtRQUN2QixPQUFPUixZQUFZUyxTQUFTLENBQUNELE9BQU9iO0lBQ3RDO0lBQ0EsT0FBT2MsVUFBVUQsS0FBSyxFQUFFRSxRQUFRLEVBQUU7UUFDaEMsTUFBTUMsZUFBZWQsT0FBT0MsR0FBRyxDQUFDWTtRQUNoQyxPQUFPRixTQUFTLFFBQVEsT0FBT0EsVUFBVSxZQUFZRyxnQkFBZ0JILFNBQVMsT0FBT0EsS0FBSyxDQUFDRyxhQUFhLEtBQUssYUFBYUgsS0FBSyxDQUFDRyxhQUFhLEtBQUs7SUFDcEo7QUFDRjtBQUNBWixLQUFLSDtBQUNMLElBQUlnQixhQUFhWjtBQUVqQiwrQkFBK0I7QUFDL0IsSUFBSUcsT0FBTztBQUNYLElBQUlVLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRVYsS0FBSyxDQUFDO0FBQ3ZDLElBQUlXLFVBQVVqQixPQUFPQyxHQUFHLENBQUNlO0FBQ3pCLElBQUlFO0FBQ0osSUFBSUMsZUFBZSxjQUFjSjtJQUMvQlYsWUFBWSxFQUNWRyxPQUFPLEVBQ1BZLEdBQUcsRUFDSEMsaUJBQWlCLEVBQ2pCQyxVQUFVLEVBQ1ZD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Q0EsSUFBSSxPQUFPVCxVQUFVLFVBQVU7UUFDN0IsT0FBT2EsT0FBT0MsT0FBTyxDQUFDZCxPQUFPWSxLQUFLLENBQ2hDLENBQUMsQ0FBQ0csS0FBS0MsSUFBSSxHQUFLLE9BQU9ELFFBQVEsWUFBWU4sWUFBWU87SUFFM0Q7SUFDQSxPQUFPO0FBQ1Q7QUFDQSxTQUFTQyxZQUFZakIsS0FBSztJQUN4QixPQUFPVSxNQUFNQyxPQUFPLENBQUNYLFVBQVVBLE1BQU1ZLEtBQUssQ0FBQ0g7QUFDN0M7QUFDQSxTQUFTUyxhQUFhbEIsS0FBSztJQUN6QixPQUFPQSxTQUFTLFFBQVEsT0FBT0EsVUFBVSxZQUFZYSxPQUFPQyxPQUFPLENBQUNkLE9BQU9ZLEtBQUssQ0FDOUUsQ0FBQyxDQUFDRyxLQUFLQyxJQUFJLEdBQUssT0FBT0QsUUFBUSxZQUFZTixZQUFZTztBQUUzRDtBQW9CRSxDQUNGLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NydC8uL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyL2Rpc3QvaW5kZXgubWpzPzVmYjEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2Vycm9ycy9haS1zZGstZXJyb3IudHNcbnZhciBtYXJrZXIgPSBcInZlcmNlbC5haS5lcnJvclwiO1xudmFyIHN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyKTtcbnZhciBfYTtcbnZhciBfQUlTREtFcnJvciA9IGNsYXNzIF9BSVNES0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAvKipcbiAgICogQ3JlYXRlcyBhbiBBSSBTREsgRXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgY3JlYXRpbmcgdGhlIGVycm9yLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMubWVzc2FnZSAtIFRoZSBlcnJvciBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge3Vua25vd259IFtwYXJhbXMuY2F1c2VdIC0gVGhlIHVuZGVybHlpbmcgY2F1c2Ugb2YgdGhlIGVycm9yLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIG5hbWU6IG5hbWUxNCxcbiAgICBtZXNzYWdlLFxuICAgIGNhdXNlXG4gIH0pIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzW19hXSA9IHRydWU7XG4gICAgdGhpcy5uYW1lID0gbmFtZTE0O1xuICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBlcnJvciBpcyBhbiBBSSBTREsgRXJyb3IuXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gZXJyb3IgLSBUaGUgZXJyb3IgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBlcnJvciBpcyBhbiBBSSBTREsgRXJyb3IsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIF9BSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyKTtcbiAgfVxuICBzdGF0aWMgaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxNSkge1xuICAgIGNvbnN0IG1hcmtlclN5bWJvbCA9IFN5bWJvbC5mb3IobWFya2VyMTUpO1xuICAgIHJldHVybiBlcnJvciAhPSBudWxsICYmIHR5cGVvZiBlcnJvciA9PT0gXCJvYmplY3RcIiAmJiBtYXJrZXJTeW1ib2wgaW4gZXJyb3IgJiYgdHlwZW9mIGVycm9yW21hcmtlclN5bWJvbF0gPT09IFwiYm9vbGVhblwiICYmIGVycm9yW21hcmtlclN5bWJvbF0gPT09IHRydWU7XG4gIH1cbn07XG5fYSA9IHN5bWJvbDtcbnZhciBBSVNES0Vycm9yID0gX0FJU0RLRXJyb3I7XG5cbi8vIHNyYy9lcnJvcnMvYXBpLWNhbGwtZXJyb3IudHNcbnZhciBuYW1lID0gXCJBSV9BUElDYWxsRXJyb3JcIjtcbnZhciBtYXJrZXIyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWV9YDtcbnZhciBzeW1ib2wyID0gU3ltYm9sLmZvcihtYXJrZXIyKTtcbnZhciBfYTI7XG52YXIgQVBJQ2FsbEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgdXJsLFxuICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgIHN0YXR1c0NvZGUsXG4gICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgIHJlc3BvbnNlQm9keSxcbiAgICBjYXVzZSxcbiAgICBpc1JldHJ5YWJsZSA9IHN0YXR1c0NvZGUgIT0gbnVsbCAmJiAoc3RhdHVzQ29kZSA9PT0gNDA4IHx8IC8vIHJlcXVlc3QgdGltZW91dFxuICAgIHN0YXR1c0NvZGUgPT09IDQwOSB8fCAvLyBjb25mbGljdFxuICAgIHN0YXR1c0NvZGUgPT09IDQyOSB8fCAvLyB0b28gbWFueSByZXF1ZXN0c1xuICAgIHN0YXR1c0NvZGUgPj0gNTAwKSxcbiAgICAvLyBzZXJ2ZXIgZXJyb3JcbiAgICBkYXRhXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2EyXSA9IHRydWU7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5yZXF1ZXN0Qm9keVZhbHVlcyA9IHJlcXVlc3RCb2R5VmFsdWVzO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgdGhpcy5yZXNwb25zZUhlYWRlcnMgPSByZXNwb25zZUhlYWRlcnM7XG4gICAgdGhpcy5yZXNwb25zZUJvZHkgPSByZXNwb25zZUJvZHk7XG4gICAgdGhpcy5pc1JldHJ5YWJsZSA9IGlzUmV0cnlhYmxlO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjIpO1xuICB9XG59O1xuX2EyID0gc3ltYm9sMjtcblxuLy8gc3JjL2Vycm9ycy9lbXB0eS1yZXNwb25zZS1ib2R5LWVycm9yLnRzXG52YXIgbmFtZTIgPSBcIkFJX0VtcHR5UmVzcG9uc2VCb2R5RXJyb3JcIjtcbnZhciBtYXJrZXIzID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUyfWA7XG52YXIgc3ltYm9sMyA9IFN5bWJvbC5mb3IobWFya2VyMyk7XG52YXIgX2EzO1xudmFyIEVtcHR5UmVzcG9uc2VCb2R5RXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICAvLyB1c2VkIGluIGlzSW5zdGFuY2VcbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlID0gXCJFbXB0eSByZXNwb25zZSBib2R5XCIgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lMiwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hM10gPSB0cnVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIzKTtcbiAgfVxufTtcbl9hMyA9IHN5bWJvbDM7XG5cbi8vIHNyYy9lcnJvcnMvZ2V0LWVycm9yLW1lc3NhZ2UudHNcbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvcikge1xuICBpZiAoZXJyb3IgPT0gbnVsbCkge1xuICAgIHJldHVybiBcInVua25vd24gZXJyb3JcIjtcbiAgfVxuICBpZiAodHlwZW9mIGVycm9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGVycm9yKTtcbn1cblxuLy8gc3JjL2Vycm9ycy9pbnZhbGlkLWFyZ3VtZW50LWVycm9yLnRzXG52YXIgbmFtZTMgPSBcIkFJX0ludmFsaWRBcmd1bWVudEVycm9yXCI7XG52YXIgbWFya2VyNCA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lM31gO1xudmFyIHN5bWJvbDQgPSBTeW1ib2wuZm9yKG1hcmtlcjQpO1xudmFyIF9hNDtcbnZhciBJbnZhbGlkQXJndW1lbnRFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlLFxuICAgIGNhdXNlLFxuICAgIGFyZ3VtZW50XG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUzLCBtZXNzYWdlLCBjYXVzZSB9KTtcbiAgICB0aGlzW19hNF0gPSB0cnVlO1xuICAgIHRoaXMuYXJndW1lbnQgPSBhcmd1bWVudDtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyNCk7XG4gIH1cbn07XG5fYTQgPSBzeW1ib2w0O1xuXG4vLyBzcmMvZXJyb3JzL2ludmFsaWQtcHJvbXB0LWVycm9yLnRzXG52YXIgbmFtZTQgPSBcIkFJX0ludmFsaWRQcm9tcHRFcnJvclwiO1xudmFyIG1hcmtlcjUgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTR9YDtcbnZhciBzeW1ib2w1ID0gU3ltYm9sLmZvcihtYXJrZXI1KTtcbnZhciBfYTU7XG52YXIgSW52YWxpZFByb21wdEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHByb21wdCxcbiAgICBtZXNzYWdlLFxuICAgIGNhdXNlXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU0LCBtZXNzYWdlOiBgSW52YWxpZCBwcm9tcHQ6ICR7bWVzc2FnZX1gLCBjYXVzZSB9KTtcbiAgICB0aGlzW19hNV0gPSB0cnVlO1xuICAgIHRoaXMucHJvbXB0ID0gcHJvbXB0O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI1KTtcbiAgfVxufTtcbl9hNSA9IHN5bWJvbDU7XG5cbi8vIHNyYy9lcnJvcnMvaW52YWxpZC1yZXNwb25zZS1kYXRhLWVycm9yLnRzXG52YXIgbmFtZTUgPSBcIkFJX0ludmFsaWRSZXNwb25zZURhdGFFcnJvclwiO1xudmFyIG1hcmtlcjYgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTV9YDtcbnZhciBzeW1ib2w2ID0gU3ltYm9sLmZvcihtYXJrZXI2KTtcbnZhciBfYTY7XG52YXIgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGRhdGEsXG4gICAgbWVzc2FnZSA9IGBJbnZhbGlkIHJlc3BvbnNlIGRhdGE6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9LmBcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTUsIG1lc3NhZ2UgfSk7XG4gICAgdGhpc1tfYTZdID0gdHJ1ZTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI2KTtcbiAgfVxufTtcbl9hNiA9IHN5bWJvbDY7XG5cbi8vIHNyYy9lcnJvcnMvanNvbi1wYXJzZS1lcnJvci50c1xudmFyIG5hbWU2ID0gXCJBSV9KU09OUGFyc2VFcnJvclwiO1xudmFyIG1hcmtlcjcgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTZ9YDtcbnZhciBzeW1ib2w3ID0gU3ltYm9sLmZvcihtYXJrZXI3KTtcbnZhciBfYTc7XG52YXIgSlNPTlBhcnNlRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7IHRleHQsIGNhdXNlIH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lOiBuYW1lNixcbiAgICAgIG1lc3NhZ2U6IGBKU09OIHBhcnNpbmcgZmFpbGVkOiBUZXh0OiAke3RleHR9LlxuRXJyb3IgbWVzc2FnZTogJHtnZXRFcnJvck1lc3NhZ2UoY2F1c2UpfWAsXG4gICAgICBjYXVzZVxuICAgIH0pO1xuICAgIHRoaXNbX2E3XSA9IHRydWU7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyNyk7XG4gIH1cbn07XG5fYTcgPSBzeW1ib2w3O1xuXG4vLyBzcmMvZXJyb3JzL2xvYWQtYXBpLWtleS1lcnJvci50c1xudmFyIG5hbWU3ID0gXCJBSV9Mb2FkQVBJS2V5RXJyb3JcIjtcbnZhciBtYXJrZXI4ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU3fWA7XG52YXIgc3ltYm9sOCA9IFN5bWJvbC5mb3IobWFya2VyOCk7XG52YXIgX2E4O1xudmFyIExvYWRBUElLZXlFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTcsIG1lc3NhZ2UgfSk7XG4gICAgdGhpc1tfYThdID0gdHJ1ZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyOCk7XG4gIH1cbn07XG5fYTggPSBzeW1ib2w4O1xuXG4vLyBzcmMvZXJyb3JzL2xvYWQtc2V0dGluZy1lcnJvci50c1xudmFyIG5hbWU4ID0gXCJBSV9Mb2FkU2V0dGluZ0Vycm9yXCI7XG52YXIgbWFya2VyOSA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lOH1gO1xudmFyIHN5bWJvbDkgPSBTeW1ib2wuZm9yKG1hcmtlcjkpO1xudmFyIF9hOTtcbnZhciBMb2FkU2V0dGluZ0Vycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lOCwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hOV0gPSB0cnVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI5KTtcbiAgfVxufTtcbl9hOSA9IHN5bWJvbDk7XG5cbi8vIHNyYy9lcnJvcnMvbm8tY29udGVudC1nZW5lcmF0ZWQtZXJyb3IudHNcbnZhciBuYW1lOSA9IFwiQUlfTm9Db250ZW50R2VuZXJhdGVkRXJyb3JcIjtcbnZhciBtYXJrZXIxMCA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lOX1gO1xudmFyIHN5bWJvbDEwID0gU3ltYm9sLmZvcihtYXJrZXIxMCk7XG52YXIgX2ExMDtcbnZhciBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9IFwiTm8gY29udGVudCBnZW5lcmF0ZWQuXCJcbiAgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lOSwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hMTBdID0gdHJ1ZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyMTApO1xuICB9XG59O1xuX2ExMCA9IHN5bWJvbDEwO1xuXG4vLyBzcmMvZXJyb3JzL25vLXN1Y2gtbW9kZWwtZXJyb3IudHNcbnZhciBuYW1lMTAgPSBcIkFJX05vU3VjaE1vZGVsRXJyb3JcIjtcbnZhciBtYXJrZXIxMSA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTB9YDtcbnZhciBzeW1ib2wxMSA9IFN5bWJvbC5mb3IobWFya2VyMTEpO1xudmFyIF9hMTE7XG52YXIgTm9TdWNoTW9kZWxFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBlcnJvck5hbWUgPSBuYW1lMTAsXG4gICAgbW9kZWxJZCxcbiAgICBtb2RlbFR5cGUsXG4gICAgbWVzc2FnZSA9IGBObyBzdWNoICR7bW9kZWxUeXBlfTogJHttb2RlbElkfWBcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogZXJyb3JOYW1lLCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2ExMV0gPSB0cnVlO1xuICAgIHRoaXMubW9kZWxJZCA9IG1vZGVsSWQ7XG4gICAgdGhpcy5tb2RlbFR5cGUgPSBtb2RlbFR5cGU7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjExKTtcbiAgfVxufTtcbl9hMTEgPSBzeW1ib2wxMTtcblxuLy8gc3JjL2Vycm9ycy90b28tbWFueS1lbWJlZGRpbmctdmFsdWVzLWZvci1jYWxsLWVycm9yLnRzXG52YXIgbmFtZTExID0gXCJBSV9Ub29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yXCI7XG52YXIgbWFya2VyMTIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTExfWA7XG52YXIgc3ltYm9sMTIgPSBTeW1ib2wuZm9yKG1hcmtlcjEyKTtcbnZhciBfYTEyO1xudmFyIFRvb01hbnlFbWJlZGRpbmdWYWx1ZXNGb3JDYWxsRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZTogbmFtZTExLFxuICAgICAgbWVzc2FnZTogYFRvbyBtYW55IHZhbHVlcyBmb3IgYSBzaW5nbGUgZW1iZWRkaW5nIGNhbGwuIFRoZSAke29wdGlvbnMucHJvdmlkZXJ9IG1vZGVsIFwiJHtvcHRpb25zLm1vZGVsSWR9XCIgY2FuIG9ubHkgZW1iZWQgdXAgdG8gJHtvcHRpb25zLm1heEVtYmVkZGluZ3NQZXJDYWxsfSB2YWx1ZXMgcGVyIGNhbGwsIGJ1dCAke29wdGlvbnMudmFsdWVzLmxlbmd0aH0gdmFsdWVzIHdlcmUgcHJvdmlkZWQuYFxuICAgIH0pO1xuICAgIHRoaXNbX2ExMl0gPSB0cnVlO1xuICAgIHRoaXMucHJvdmlkZXIgPSBvcHRpb25zLnByb3ZpZGVyO1xuICAgIHRoaXMubW9kZWxJZCA9IG9wdGlvbnMubW9kZWxJZDtcbiAgICB0aGlzLm1heEVtYmVkZGluZ3NQZXJDYWxsID0gb3B0aW9ucy5tYXhFbWJlZGRpbmdzUGVyQ2FsbDtcbiAgICB0aGlzLnZhbHVlcyA9IG9wdGlvbnMudmFsdWVzO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMik7XG4gIH1cbn07XG5fYTEyID0gc3ltYm9sMTI7XG5cbi8vIHNyYy9lcnJvcnMvdHlwZS12YWxpZGF0aW9uLWVycm9yLnRzXG52YXIgbmFtZTEyID0gXCJBSV9UeXBlVmFsaWRhdGlvbkVycm9yXCI7XG52YXIgbWFya2VyMTMgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTEyfWA7XG52YXIgc3ltYm9sMTMgPSBTeW1ib2wuZm9yKG1hcmtlcjEzKTtcbnZhciBfYTEzO1xudmFyIF9UeXBlVmFsaWRhdGlvbkVycm9yID0gY2xhc3MgX1R5cGVWYWxpZGF0aW9uRXJyb3IgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3IoeyB2YWx1ZSwgY2F1c2UgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6IG5hbWUxMixcbiAgICAgIG1lc3NhZ2U6IGBUeXBlIHZhbGlkYXRpb24gZmFpbGVkOiBWYWx1ZTogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9LlxuRXJyb3IgbWVzc2FnZTogJHtnZXRFcnJvck1lc3NhZ2UoY2F1c2UpfWAsXG4gICAgICBjYXVzZVxuICAgIH0pO1xuICAgIHRoaXNbX2ExM10gPSB0cnVlO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyMTMpO1xuICB9XG4gIC8qKlxuICAgKiBXcmFwcyBhbiBlcnJvciBpbnRvIGEgVHlwZVZhbGlkYXRpb25FcnJvci5cbiAgICogSWYgdGhlIGNhdXNlIGlzIGFscmVhZHkgYSBUeXBlVmFsaWRhdGlvbkVycm9yIHdpdGggdGhlIHNhbWUgdmFsdWUsIGl0IHJldHVybnMgdGhlIGNhdXNlLlxuICAgKiBPdGhlcndpc2UsIGl0IGNyZWF0ZXMgYSBuZXcgVHlwZVZhbGlkYXRpb25FcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB3cmFwcGluZyB0aGUgZXJyb3IuXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gcGFyYW1zLnZhbHVlIC0gVGhlIHZhbHVlIHRoYXQgZmFpbGVkIHZhbGlkYXRpb24uXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gcGFyYW1zLmNhdXNlIC0gVGhlIG9yaWdpbmFsIGVycm9yIG9yIGNhdXNlIG9mIHRoZSB2YWxpZGF0aW9uIGZhaWx1cmUuXG4gICAqIEByZXR1cm5zIHtUeXBlVmFsaWRhdGlvbkVycm9yfSBBIFR5cGVWYWxpZGF0aW9uRXJyb3IgaW5zdGFuY2UuXG4gICAqL1xuICBzdGF0aWMgd3JhcCh7XG4gICAgdmFsdWUsXG4gICAgY2F1c2VcbiAgfSkge1xuICAgIHJldHVybiBfVHlwZVZhbGlkYXRpb25FcnJvci5pc0luc3RhbmNlKGNhdXNlKSAmJiBjYXVzZS52YWx1ZSA9PT0gdmFsdWUgPyBjYXVzZSA6IG5ldyBfVHlwZVZhbGlkYXRpb25FcnJvcih7IHZhbHVlLCBjYXVzZSB9KTtcbiAgfVxufTtcbl9hMTMgPSBzeW1ib2wxMztcbnZhciBUeXBlVmFsaWRhdGlvbkVycm9yID0gX1R5cGVWYWxpZGF0aW9uRXJyb3I7XG5cbi8vIHNyYy9lcnJvcnMvdW5zdXBwb3J0ZWQtZnVuY3Rpb25hbGl0eS1lcnJvci50c1xudmFyIG5hbWUxMyA9IFwiQUlfVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3JcIjtcbnZhciBtYXJrZXIxNCA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTN9YDtcbnZhciBzeW1ib2wxNCA9IFN5bWJvbC5mb3IobWFya2VyMTQpO1xudmFyIF9hMTQ7XG52YXIgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7IGZ1bmN0aW9uYWxpdHkgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6IG5hbWUxMyxcbiAgICAgIG1lc3NhZ2U6IGAnJHtmdW5jdGlvbmFsaXR5fScgZnVuY3Rpb25hbGl0eSBub3Qgc3VwcG9ydGVkLmBcbiAgICB9KTtcbiAgICB0aGlzW19hMTRdID0gdHJ1ZTtcbiAgICB0aGlzLmZ1bmN0aW9uYWxpdHkgPSBmdW5jdGlvbmFsaXR5O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxNCk7XG4gIH1cbn07XG5fYTE0ID0gc3ltYm9sMTQ7XG5cbi8vIHNyYy9qc29uLXZhbHVlL2lzLWpzb24udHNcbmZ1bmN0aW9uIGlzSlNPTlZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUuZXZlcnkoaXNKU09OVmFsdWUpO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgICAgKFtrZXksIHZhbF0pID0+IHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgJiYgaXNKU09OVmFsdWUodmFsKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNKU09OQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KGlzSlNPTlZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzSlNPTk9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgIChba2V5LCB2YWxdKSA9PiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICYmIGlzSlNPTlZhbHVlKHZhbClcbiAgKTtcbn1cbmV4cG9ydCB7XG4gIEFJU0RLRXJyb3IsXG4gIEFQSUNhbGxFcnJvcixcbiAgRW1wdHlSZXNwb25zZUJvZHlFcnJvcixcbiAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gIEludmFsaWRQcm9tcHRFcnJvcixcbiAgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yLFxuICBKU09OUGFyc2VFcnJvcixcbiAgTG9hZEFQSUtleUVycm9yLFxuICBMb2FkU2V0dGluZ0Vycm9yLFxuICBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvcixcbiAgTm9TdWNoTW9kZWxFcnJvcixcbiAgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvcixcbiAgVHlwZVZhbGlkYXRpb25FcnJvcixcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IsXG4gIGdldEVycm9yTWVzc2FnZSxcbiAgaXNKU09OQXJyYXksXG4gIGlzSlNPTk9iamVjdCxcbiAgaXNKU09OVmFsdWVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbIm1hcmtlciIsInN5bWJvbCIsIlN5bWJvbCIsImZvciIsIl9hIiwiX0FJU0RLRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm5hbWUxNCIsIm1lc3NhZ2UiLCJjYXVzZSIsImlzSW5zdGFuY2UiLCJlcnJvciIsImhhc01hcmtlciIsIm1hcmtlcjE1IiwibWFya2VyU3ltYm9sIiwiQUlTREtFcnJvciIsIm1hcmtlcjIiLCJzeW1ib2wyIiwiX2EyIiwiQVBJQ2FsbEVycm9yIiwidXJsIiwicmVxdWVzdEJvZHlWYWx1ZXMiLCJzdGF0dXNDb2RlIiwicmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2VCb2R5IiwiaXNSZXRyeWFibGUiLCJkYXRhIiwibmFtZTIiLCJtYXJrZXIzIiwic3ltYm9sMyIsIl9hMyIsIkVtcHR5UmVzcG9uc2VCb2R5RXJyb3IiLCJnZXRFcnJvck1lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZTMiLCJtYXJrZXI0Iiwic3ltYm9sNCIsIl9hNCIsIkludmFsaWRBcmd1bWVudEVycm9yIiwiYXJndW1lbnQiLCJuYW1lNCIsIm1hcmtlcjUiLCJzeW1ib2w1IiwiX2E1IiwiSW52YWxpZFByb21wdEVycm9yIiwicHJvbXB0IiwibmFtZTUiLCJtYXJrZXI2Iiwic3ltYm9sNiIsIl9hNiIsIkludmFsaWRSZXNwb25zZURhdGFFcnJvciIsIm5hbWU2IiwibWFya2VyNyIsInN5bWJvbDciLCJfYTciLCJKU09OUGFyc2VFcnJvciIsInRleHQiLCJuYW1lNyIsIm1hcmtlcjgiLCJzeW1ib2w4IiwiX2E4IiwiTG9hZEFQSUtleUVycm9yIiwibmFtZTgiLCJtYXJrZXI5Iiwic3ltYm9sOSIsIl9hOSIsIkxvYWRTZXR0aW5nRXJyb3IiLCJuYW1lOSIsIm1hcmtlcjEwIiwic3ltYm9sMTAiLCJfYTEwIiwiTm9Db250ZW50R2VuZXJhdGVkRXJyb3IiLCJuYW1lMTAiLCJtYXJrZXIxMSIsInN5bWJvbDExIiwiX2ExMSIsIk5vU3VjaE1vZGVsRXJyb3IiLCJlcnJvck5hbWUiLCJtb2RlbElkIiwibW9kZWxUeXBlIiwibmFtZTExIiwibWFya2VyMTIiLCJzeW1ib2wxMiIsIl9hMTIiLCJUb29NYW55RW1iZWRkaW5nVmFsdWVzRm9yQ2FsbEVycm9yIiwib3B0aW9ucyIsInByb3ZpZGVyIiwibWF4RW1iZWRkaW5nc1BlckNhbGwiLCJ2YWx1ZXMiLCJsZW5ndGgiLCJuYW1lMTIiLCJtYXJrZXIxMyIsInN5bWJvbDEzIiwiX2ExMyIsIl9UeXBlVmFsaWRhdGlvbkVycm9yIiwidmFsdWUiLCJ3cmFwIiwiVHlwZVZhbGlkYXRpb25FcnJvciIsIm5hbWUxMyIsIm1hcmtlcjE0Iiwic3ltYm9sMTQiLCJfYTE0IiwiVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IiLCJmdW5jdGlvbmFsaXR5IiwiaXNKU09OVmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJldmVyeSIsIk9iamVjdCIsImVudHJpZXMiLCJrZXkiLCJ2YWwiLCJpc0pTT05BcnJheSIsImlzSlNPTk9iamVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@ai-sdk/provider/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@ai-sdk/ui-utils/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/@ai-sdk/ui-utils/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asSchema: () => (/* binding */ asSchema),\n/* harmony export */   callChatApi: () => (/* binding */ callChatApi),\n/* harmony export */   callCompletionApi: () => (/* binding */ callCompletionApi),\n/* harmony export */   formatAssistantStreamPart: () => (/* binding */ formatAssistantStreamPart),\n/* harmony export */   formatDataStreamPart: () => (/* binding */ formatDataStreamPart),\n/* harmony export */   generateId: () => (/* reexport safe */ _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId),\n/* harmony export */   getTextFromDataUrl: () => (/* binding */ getTextFromDataUrl),\n/* harmony export */   isDeepEqualData: () => (/* binding */ isDeepEqualData),\n/* harmony export */   jsonSchema: () => (/* binding */ jsonSchema),\n/* harmony export */   parseAssistantStreamPart: () => (/* binding */ parseAssistantStreamPart),\n/* harmony export */   parseDataStreamPart: () => (/* binding */ parseDataStreamPart),\n/* harmony export */   parsePartialJson: () => (/* binding */ parsePartialJson),\n/* harmony export */   prepareAttachmentsForRequest: () => (/* binding */ prepareAttachmentsForRequest),\n/* harmony export */   processAssistantStream: () => (/* binding */ processAssistantStream),\n/* harmony export */   processDataStream: () => (/* binding */ processDataStream),\n/* harmony export */   processTextStream: () => (/* binding */ processTextStream),\n/* harmony export */   zodSchema: () => (/* binding */ zodSchema)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ai-sdk/provider-utils */ \"(rsc)/./node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod-to-json-schema */ \"(rsc)/./node_modules/zod-to-json-schema/dist/esm/index.js\");\n// src/index.ts\n\n// src/assistant-stream-parts.ts\nvar textStreamPart = {\n    code: \"0\",\n    name: \"text\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"text\" parts expect a string value.');\n        }\n        return {\n            type: \"text\",\n            value\n        };\n    }\n};\nvar errorStreamPart = {\n    code: \"3\",\n    name: \"error\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"error\" parts expect a string value.');\n        }\n        return {\n            type: \"error\",\n            value\n        };\n    }\n};\nvar assistantMessageStreamPart = {\n    code: \"4\",\n    name: \"assistant_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"id\" in value) || !(\"role\" in value) || !(\"content\" in value) || typeof value.id !== \"string\" || typeof value.role !== \"string\" || value.role !== \"assistant\" || !Array.isArray(value.content) || !value.content.every((item)=>item != null && typeof item === \"object\" && \"type\" in item && item.type === \"text\" && \"text\" in item && item.text != null && typeof item.text === \"object\" && \"value\" in item.text && typeof item.text.value === \"string\")) {\n            throw new Error('\"assistant_message\" parts expect an object with an \"id\", \"role\", and \"content\" property.');\n        }\n        return {\n            type: \"assistant_message\",\n            value\n        };\n    }\n};\nvar assistantControlDataStreamPart = {\n    code: \"5\",\n    name: \"assistant_control_data\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"threadId\" in value) || !(\"messageId\" in value) || typeof value.threadId !== \"string\" || typeof value.messageId !== \"string\") {\n            throw new Error('\"assistant_control_data\" parts expect an object with a \"threadId\" and \"messageId\" property.');\n        }\n        return {\n            type: \"assistant_control_data\",\n            value: {\n                threadId: value.threadId,\n                messageId: value.messageId\n            }\n        };\n    }\n};\nvar dataMessageStreamPart = {\n    code: \"6\",\n    name: \"data_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"role\" in value) || !(\"data\" in value) || typeof value.role !== \"string\" || value.role !== \"data\") {\n            throw new Error('\"data_message\" parts expect an object with a \"role\" and \"data\" property.');\n        }\n        return {\n            type: \"data_message\",\n            value\n        };\n    }\n};\nvar assistantStreamParts = [\n    textStreamPart,\n    errorStreamPart,\n    assistantMessageStreamPart,\n    assistantControlDataStreamPart,\n    dataMessageStreamPart\n];\nvar assistantStreamPartsByCode = {\n    [textStreamPart.code]: textStreamPart,\n    [errorStreamPart.code]: errorStreamPart,\n    [assistantMessageStreamPart.code]: assistantMessageStreamPart,\n    [assistantControlDataStreamPart.code]: assistantControlDataStreamPart,\n    [dataMessageStreamPart.code]: dataMessageStreamPart\n};\nvar StreamStringPrefixes = {\n    [textStreamPart.name]: textStreamPart.code,\n    [errorStreamPart.name]: errorStreamPart.code,\n    [assistantMessageStreamPart.name]: assistantMessageStreamPart.code,\n    [assistantControlDataStreamPart.name]: assistantControlDataStreamPart.code,\n    [dataMessageStreamPart.name]: dataMessageStreamPart.code\n};\nvar validCodes = assistantStreamParts.map((part)=>part.code);\nvar parseAssistantStreamPart = (line)=>{\n    const firstSeparatorIndex = line.indexOf(\":\");\n    if (firstSeparatorIndex === -1) {\n        throw new Error(\"Failed to parse stream string. No separator found.\");\n    }\n    const prefix = line.slice(0, firstSeparatorIndex);\n    if (!validCodes.includes(prefix)) {\n        throw new Error(`Failed to parse stream string. Invalid code ${prefix}.`);\n    }\n    const code = prefix;\n    const textValue = line.slice(firstSeparatorIndex + 1);\n    const jsonValue = JSON.parse(textValue);\n    return assistantStreamPartsByCode[code].parse(jsonValue);\n};\nfunction formatAssistantStreamPart(type, value) {\n    const streamPart = assistantStreamParts.find((part)=>part.name === type);\n    if (!streamPart) {\n        throw new Error(`Invalid stream part type: ${type}`);\n    }\n    return `${streamPart.code}:${JSON.stringify(value)}\n`;\n}\n// src/process-chat-response.ts\n\n// src/parse-partial-json.ts\n\n// src/fix-json.ts\nfunction fixJson(input) {\n    const stack = [\n        \"ROOT\"\n    ];\n    let lastValidIndex = -1;\n    let literalStart = null;\n    function processValueStart(char, i, swapState) {\n        {\n            switch(char){\n                case '\"':\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_STRING\");\n                        break;\n                    }\n                case \"f\":\n                case \"t\":\n                case \"n\":\n                    {\n                        lastValidIndex = i;\n                        literalStart = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_LITERAL\");\n                        break;\n                    }\n                case \"-\":\n                    {\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"0\":\n                case \"1\":\n                case \"2\":\n                case \"3\":\n                case \"4\":\n                case \"5\":\n                case \"6\":\n                case \"7\":\n                case \"8\":\n                case \"9\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_NUMBER\");\n                        break;\n                    }\n                case \"{\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_OBJECT_START\");\n                        break;\n                    }\n                case \"[\":\n                    {\n                        lastValidIndex = i;\n                        stack.pop();\n                        stack.push(swapState);\n                        stack.push(\"INSIDE_ARRAY_START\");\n                        break;\n                    }\n            }\n        }\n    }\n    function processAfterObjectValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_OBJECT_AFTER_COMMA\");\n                    break;\n                }\n            case \"}\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    function processAfterArrayValue(char, i) {\n        switch(char){\n            case \",\":\n                {\n                    stack.pop();\n                    stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                    break;\n                }\n            case \"]\":\n                {\n                    lastValidIndex = i;\n                    stack.pop();\n                    break;\n                }\n        }\n    }\n    for(let i = 0; i < input.length; i++){\n        const char = input[i];\n        const currentState = stack[stack.length - 1];\n        switch(currentState){\n            case \"ROOT\":\n                processValueStart(char, i, \"FINISH\");\n                break;\n            case \"INSIDE_OBJECT_START\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_AFTER_KEY\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n                {\n                    switch(char){\n                        case \":\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_OBJECT_BEFORE_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n                {\n                    processValueStart(char, i, \"INSIDE_OBJECT_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    processAfterObjectValue(char, i);\n                    break;\n                }\n            case \"INSIDE_STRING\":\n                {\n                    switch(char){\n                        case '\"':\n                            {\n                                stack.pop();\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"\\\\\":\n                            {\n                                stack.push(\"INSIDE_STRING_ESCAPE\");\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n                {\n                    switch(char){\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    switch(char){\n                        case \",\":\n                            {\n                                stack.pop();\n                                stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                lastValidIndex = i;\n                                stack.pop();\n                                break;\n                            }\n                        default:\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n                {\n                    processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n                    break;\n                }\n            case \"INSIDE_STRING_ESCAPE\":\n                {\n                    stack.pop();\n                    lastValidIndex = i;\n                    break;\n                }\n            case \"INSIDE_NUMBER\":\n                {\n                    switch(char){\n                        case \"0\":\n                        case \"1\":\n                        case \"2\":\n                        case \"3\":\n                        case \"4\":\n                        case \"5\":\n                        case \"6\":\n                        case \"7\":\n                        case \"8\":\n                        case \"9\":\n                            {\n                                lastValidIndex = i;\n                                break;\n                            }\n                        case \"e\":\n                        case \"E\":\n                        case \"-\":\n                        case \".\":\n                            {\n                                break;\n                            }\n                        case \",\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"}\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                                    processAfterObjectValue(char, i);\n                                }\n                                break;\n                            }\n                        case \"]\":\n                            {\n                                stack.pop();\n                                if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                                    processAfterArrayValue(char, i);\n                                }\n                                break;\n                            }\n                        default:\n                            {\n                                stack.pop();\n                                break;\n                            }\n                    }\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, i + 1);\n                    if (!\"false\".startsWith(partialLiteral) && !\"true\".startsWith(partialLiteral) && !\"null\".startsWith(partialLiteral)) {\n                        stack.pop();\n                        if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n                            processAfterObjectValue(char, i);\n                        } else if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n                            processAfterArrayValue(char, i);\n                        }\n                    } else {\n                        lastValidIndex = i;\n                    }\n                    break;\n                }\n        }\n    }\n    let result = input.slice(0, lastValidIndex + 1);\n    for(let i = stack.length - 1; i >= 0; i--){\n        const state = stack[i];\n        switch(state){\n            case \"INSIDE_STRING\":\n                {\n                    result += '\"';\n                    break;\n                }\n            case \"INSIDE_OBJECT_KEY\":\n            case \"INSIDE_OBJECT_AFTER_KEY\":\n            case \"INSIDE_OBJECT_AFTER_COMMA\":\n            case \"INSIDE_OBJECT_START\":\n            case \"INSIDE_OBJECT_BEFORE_VALUE\":\n            case \"INSIDE_OBJECT_AFTER_VALUE\":\n                {\n                    result += \"}\";\n                    break;\n                }\n            case \"INSIDE_ARRAY_START\":\n            case \"INSIDE_ARRAY_AFTER_COMMA\":\n            case \"INSIDE_ARRAY_AFTER_VALUE\":\n                {\n                    result += \"]\";\n                    break;\n                }\n            case \"INSIDE_LITERAL\":\n                {\n                    const partialLiteral = input.substring(literalStart, input.length);\n                    if (\"true\".startsWith(partialLiteral)) {\n                        result += \"true\".slice(partialLiteral.length);\n                    } else if (\"false\".startsWith(partialLiteral)) {\n                        result += \"false\".slice(partialLiteral.length);\n                    } else if (\"null\".startsWith(partialLiteral)) {\n                        result += \"null\".slice(partialLiteral.length);\n                    }\n                }\n        }\n    }\n    return result;\n}\n// src/parse-partial-json.ts\nfunction parsePartialJson(jsonText) {\n    if (jsonText === void 0) {\n        return {\n            value: void 0,\n            state: \"undefined-input\"\n        };\n    }\n    let result = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.safeParseJSON)({\n        text: jsonText\n    });\n    if (result.success) {\n        return {\n            value: result.value,\n            state: \"successful-parse\"\n        };\n    }\n    result = (0,_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.safeParseJSON)({\n        text: fixJson(jsonText)\n    });\n    if (result.success) {\n        return {\n            value: result.value,\n            state: \"repaired-parse\"\n        };\n    }\n    return {\n        value: void 0,\n        state: \"failed-parse\"\n    };\n}\n// src/data-stream-parts.ts\nvar textStreamPart2 = {\n    code: \"0\",\n    name: \"text\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"text\" parts expect a string value.');\n        }\n        return {\n            type: \"text\",\n            value\n        };\n    }\n};\nvar dataStreamPart = {\n    code: \"2\",\n    name: \"data\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"data\" parts expect an array value.');\n        }\n        return {\n            type: \"data\",\n            value\n        };\n    }\n};\nvar errorStreamPart2 = {\n    code: \"3\",\n    name: \"error\",\n    parse: (value)=>{\n        if (typeof value !== \"string\") {\n            throw new Error('\"error\" parts expect a string value.');\n        }\n        return {\n            type: \"error\",\n            value\n        };\n    }\n};\nvar messageAnnotationsStreamPart = {\n    code: \"8\",\n    name: \"message_annotations\",\n    parse: (value)=>{\n        if (!Array.isArray(value)) {\n            throw new Error('\"message_annotations\" parts expect an array value.');\n        }\n        return {\n            type: \"message_annotations\",\n            value\n        };\n    }\n};\nvar toolCallStreamPart = {\n    code: \"9\",\n    name: \"tool_call\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\" || !(\"args\" in value) || typeof value.args !== \"object\") {\n            throw new Error('\"tool_call\" parts expect an object with a \"toolCallId\", \"toolName\", and \"args\" property.');\n        }\n        return {\n            type: \"tool_call\",\n            value\n        };\n    }\n};\nvar toolResultStreamPart = {\n    code: \"a\",\n    name: \"tool_result\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"result\" in value)) {\n            throw new Error('\"tool_result\" parts expect an object with a \"toolCallId\" and a \"result\" property.');\n        }\n        return {\n            type: \"tool_result\",\n            value\n        };\n    }\n};\nvar toolCallStreamingStartStreamPart = {\n    code: \"b\",\n    name: \"tool_call_streaming_start\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"toolName\" in value) || typeof value.toolName !== \"string\") {\n            throw new Error('\"tool_call_streaming_start\" parts expect an object with a \"toolCallId\" and \"toolName\" property.');\n        }\n        return {\n            type: \"tool_call_streaming_start\",\n            value\n        };\n    }\n};\nvar toolCallDeltaStreamPart = {\n    code: \"c\",\n    name: \"tool_call_delta\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"toolCallId\" in value) || typeof value.toolCallId !== \"string\" || !(\"argsTextDelta\" in value) || typeof value.argsTextDelta !== \"string\") {\n            throw new Error('\"tool_call_delta\" parts expect an object with a \"toolCallId\" and \"argsTextDelta\" property.');\n        }\n        return {\n            type: \"tool_call_delta\",\n            value\n        };\n    }\n};\nvar finishMessageStreamPart = {\n    code: \"d\",\n    name: \"finish_message\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_message\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        return {\n            type: \"finish_message\",\n            value: result\n        };\n    }\n};\nvar finishStepStreamPart = {\n    code: \"e\",\n    name: \"finish_step\",\n    parse: (value)=>{\n        if (value == null || typeof value !== \"object\" || !(\"finishReason\" in value) || typeof value.finishReason !== \"string\") {\n            throw new Error('\"finish_step\" parts expect an object with a \"finishReason\" property.');\n        }\n        const result = {\n            finishReason: value.finishReason,\n            isContinued: false\n        };\n        if (\"usage\" in value && value.usage != null && typeof value.usage === \"object\" && \"promptTokens\" in value.usage && \"completionTokens\" in value.usage) {\n            result.usage = {\n                promptTokens: typeof value.usage.promptTokens === \"number\" ? value.usage.promptTokens : Number.NaN,\n                completionTokens: typeof value.usage.completionTokens === \"number\" ? value.usage.completionTokens : Number.NaN\n            };\n        }\n        if (\"isContinued\" in value && typeof value.isContinued === \"boolean\") {\n            result.isContinued = value.isContinued;\n        }\n        return {\n            type: \"finish_step\",\n            value: result\n        };\n    }\n};\nvar dataStreamParts = [\n    textStreamPart2,\n    dataStreamPart,\n    errorStreamPart2,\n    messageAnnotationsStreamPart,\n    toolCallStreamPart,\n    toolResultStreamPart,\n    toolCallStreamingStartStreamPart,\n    toolCallDeltaStreamPart,\n    finishMessageStreamPart,\n    finishStepStreamPart\n];\nvar dataStreamPartsByCode = {\n    [textStreamPart2.code]: textStreamPart2,\n    [dataStreamPart.code]: dataStreamPart,\n    [errorStreamPart2.code]: errorStreamPart2,\n    [messageAnnotationsStreamPart.code]: messageAnnotationsStreamPart,\n    [toolCallStreamPart.code]: toolCallStreamPart,\n    [toolResultStreamPart.code]: toolResultStreamPart,\n    [toolCallStreamingStartStreamPart.code]: toolCallStreamingStartStreamPart,\n    [toolCallDeltaStreamPart.code]: toolCallDeltaStreamPart,\n    [finishMessageStreamPart.code]: finishMessageStreamPart,\n    [finishStepStreamPart.code]: finishStepStreamPart\n};\nvar DataStreamStringPrefixes = {\n    [textStreamPart2.name]: textStreamPart2.code,\n    [dataStreamPart.name]: dataStreamPart.code,\n    [errorStreamPart2.name]: errorStreamPart2.code,\n    [messageAnnotationsStreamPart.name]: messageAnnotationsStreamPart.code,\n    [toolCallStreamPart.name]: toolCallStreamPart.code,\n    [toolResultStreamPart.name]: toolResultStreamPart.code,\n    [toolCallStreamingStartStreamPart.name]: toolCallStreamingStartStreamPart.code,\n    [toolCallDeltaStreamPart.name]: toolCallDeltaStreamPart.code,\n    [finishMessageStreamPart.name]: finishMessageStreamPart.code,\n    [finishStepStreamPart.name]: finishStepStreamPart.code\n};\nvar validCodes2 = dataStreamParts.map((part)=>part.code);\nvar parseDataStreamPart = (line)=>{\n    const firstSeparatorIndex = line.indexOf(\":\");\n    if (firstSeparatorIndex === -1) {\n        throw new Error(\"Failed to parse stream string. No separator found.\");\n    }\n    const prefix = line.slice(0, firstSeparatorIndex);\n    if (!validCodes2.includes(prefix)) {\n        throw new Error(`Failed to parse stream string. Invalid code ${prefix}.`);\n    }\n    const code = prefix;\n    const textValue = line.slice(firstSeparatorIndex + 1);\n    const jsonValue = JSON.parse(textValue);\n    return dataStreamPartsByCode[code].parse(jsonValue);\n};\nfunction formatDataStreamPart(type, value) {\n    const streamPart = dataStreamParts.find((part)=>part.name === type);\n    if (!streamPart) {\n        throw new Error(`Invalid stream part type: ${type}`);\n    }\n    return `${streamPart.code}:${JSON.stringify(value)}\n`;\n}\n// src/process-data-stream.ts\nvar NEWLINE = \"\\n\".charCodeAt(0);\nfunction concatChunks(chunks, totalLength) {\n    const concatenatedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const chunk of chunks){\n        concatenatedChunks.set(chunk, offset);\n        offset += chunk.length;\n    }\n    chunks.length = 0;\n    return concatenatedChunks;\n}\nasync function processDataStream({ stream, onTextPart, onDataPart, onErrorPart, onToolCallStreamingStartPart, onToolCallDeltaPart, onToolCallPart, onToolResultPart, onMessageAnnotationsPart, onFinishMessagePart, onFinishStepPart }) {\n    const reader = stream.getReader();\n    const decoder = new TextDecoder();\n    const chunks = [];\n    let totalLength = 0;\n    while(true){\n        const { value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            totalLength += value.length;\n            if (value[value.length - 1] !== NEWLINE) {\n                continue;\n            }\n        }\n        if (chunks.length === 0) {\n            break;\n        }\n        const concatenatedChunks = concatChunks(chunks, totalLength);\n        totalLength = 0;\n        const streamParts = decoder.decode(concatenatedChunks, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\").map(parseDataStreamPart);\n        for (const { type, value: value2 } of streamParts){\n            switch(type){\n                case \"text\":\n                    await (onTextPart == null ? void 0 : onTextPart(value2));\n                    break;\n                case \"data\":\n                    await (onDataPart == null ? void 0 : onDataPart(value2));\n                    break;\n                case \"error\":\n                    await (onErrorPart == null ? void 0 : onErrorPart(value2));\n                    break;\n                case \"message_annotations\":\n                    await (onMessageAnnotationsPart == null ? void 0 : onMessageAnnotationsPart(value2));\n                    break;\n                case \"tool_call_streaming_start\":\n                    await (onToolCallStreamingStartPart == null ? void 0 : onToolCallStreamingStartPart(value2));\n                    break;\n                case \"tool_call_delta\":\n                    await (onToolCallDeltaPart == null ? void 0 : onToolCallDeltaPart(value2));\n                    break;\n                case \"tool_call\":\n                    await (onToolCallPart == null ? void 0 : onToolCallPart(value2));\n                    break;\n                case \"tool_result\":\n                    await (onToolResultPart == null ? void 0 : onToolResultPart(value2));\n                    break;\n                case \"finish_message\":\n                    await (onFinishMessagePart == null ? void 0 : onFinishMessagePart(value2));\n                    break;\n                case \"finish_step\":\n                    await (onFinishStepPart == null ? void 0 : onFinishStepPart(value2));\n                    break;\n                default:\n                    {\n                        const exhaustiveCheck = type;\n                        throw new Error(`Unknown stream part type: ${exhaustiveCheck}`);\n                    }\n            }\n        }\n    }\n}\n// src/duplicated/usage.ts\nfunction calculateLanguageModelUsage({ promptTokens, completionTokens }) {\n    return {\n        promptTokens,\n        completionTokens,\n        totalTokens: promptTokens + completionTokens\n    };\n}\n// src/process-chat-response.ts\nasync function processChatResponse({ stream, update, onToolCall, onFinish, generateId: generateId2 = _ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.generateId, getCurrentDate = ()=>/* @__PURE__ */ new Date() }) {\n    const createdAt = getCurrentDate();\n    let currentMessage = void 0;\n    let createNewMessage = true;\n    const previousMessages = [];\n    const data = [];\n    let messageAnnotations = void 0;\n    const partialToolCalls = {};\n    let usage = {\n        completionTokens: NaN,\n        promptTokens: NaN,\n        totalTokens: NaN\n    };\n    let finishReason = \"unknown\";\n    function execUpdate() {\n        const copiedData = [\n            ...data\n        ];\n        if (currentMessage == null) {\n            update(previousMessages, copiedData);\n            return;\n        }\n        if (messageAnnotations == null ? void 0 : messageAnnotations.length) {\n            currentMessage.annotations = messageAnnotations;\n        }\n        const copiedMessage = {\n            // deep copy the message to ensure that deep changes (msg attachments) are updated\n            // with SolidJS. SolidJS uses referential integration of sub-objects to detect changes.\n            ...JSON.parse(JSON.stringify(currentMessage)),\n            // add a revision id to ensure that the message is updated with SWR. SWR uses a\n            // hashing approach by default to detect changes, but it only works for shallow\n            // changes. This is why we need to add a revision id to ensure that the message\n            // is updated with SWR (without it, the changes get stuck in SWR and are not\n            // forwarded to rendering):\n            revisionId: generateId2(),\n            // Fill in createdAt to retain Date object (lost in JSON.parse):\n            createdAt: currentMessage.createdAt\n        };\n        update([\n            ...previousMessages,\n            copiedMessage\n        ], copiedData);\n    }\n    function getMessage() {\n        if (createNewMessage || currentMessage == null) {\n            if (currentMessage != null) {\n                previousMessages.push(currentMessage);\n            }\n            createNewMessage = false;\n            currentMessage = {\n                id: generateId2(),\n                role: \"assistant\",\n                content: \"\",\n                createdAt\n            };\n        }\n        return currentMessage;\n    }\n    await processDataStream({\n        stream,\n        onTextPart (value) {\n            const activeMessage = getMessage();\n            currentMessage = {\n                ...activeMessage,\n                content: activeMessage.content + value\n            };\n            execUpdate();\n        },\n        onToolCallStreamingStartPart (value) {\n            const activeMessage = getMessage();\n            if (activeMessage.toolInvocations == null) {\n                activeMessage.toolInvocations = [];\n            }\n            partialToolCalls[value.toolCallId] = {\n                text: \"\",\n                toolName: value.toolName,\n                index: activeMessage.toolInvocations.length\n            };\n            activeMessage.toolInvocations.push({\n                state: \"partial-call\",\n                toolCallId: value.toolCallId,\n                toolName: value.toolName,\n                args: void 0\n            });\n            execUpdate();\n        },\n        onToolCallDeltaPart (value) {\n            const activeMessage = getMessage();\n            const partialToolCall = partialToolCalls[value.toolCallId];\n            partialToolCall.text += value.argsTextDelta;\n            const { value: partialArgs } = parsePartialJson(partialToolCall.text);\n            activeMessage.toolInvocations[partialToolCall.index] = {\n                state: \"partial-call\",\n                toolCallId: value.toolCallId,\n                toolName: partialToolCall.toolName,\n                args: partialArgs\n            };\n            execUpdate();\n        },\n        async onToolCallPart (value) {\n            const activeMessage = getMessage();\n            if (partialToolCalls[value.toolCallId] != null) {\n                activeMessage.toolInvocations[partialToolCalls[value.toolCallId].index] = {\n                    state: \"call\",\n                    ...value\n                };\n            } else {\n                if (activeMessage.toolInvocations == null) {\n                    activeMessage.toolInvocations = [];\n                }\n                activeMessage.toolInvocations.push({\n                    state: \"call\",\n                    ...value\n                });\n            }\n            if (onToolCall) {\n                const result = await onToolCall({\n                    toolCall: value\n                });\n                if (result != null) {\n                    activeMessage.toolInvocations[activeMessage.toolInvocations.length - 1] = {\n                        state: \"result\",\n                        ...value,\n                        result\n                    };\n                }\n            }\n            execUpdate();\n        },\n        onToolResultPart (value) {\n            const activeMessage = getMessage();\n            const toolInvocations = activeMessage.toolInvocations;\n            if (toolInvocations == null) {\n                throw new Error(\"tool_result must be preceded by a tool_call\");\n            }\n            const toolInvocationIndex = toolInvocations.findIndex((invocation)=>invocation.toolCallId === value.toolCallId);\n            if (toolInvocationIndex === -1) {\n                throw new Error(\"tool_result must be preceded by a tool_call with the same toolCallId\");\n            }\n            toolInvocations[toolInvocationIndex] = {\n                ...toolInvocations[toolInvocationIndex],\n                state: \"result\",\n                ...value\n            };\n            execUpdate();\n        },\n        onDataPart (value) {\n            data.push(...value);\n            execUpdate();\n        },\n        onMessageAnnotationsPart (value) {\n            if (messageAnnotations == null) {\n                messageAnnotations = [\n                    ...value\n                ];\n            } else {\n                messageAnnotations.push(...value);\n            }\n            execUpdate();\n        },\n        onFinishStepPart (value) {\n            createNewMessage = !value.isContinued;\n        },\n        onFinishMessagePart (value) {\n            finishReason = value.finishReason;\n            if (value.usage != null) {\n                usage = calculateLanguageModelUsage(value.usage);\n            }\n        },\n        onErrorPart (error) {\n            throw new Error(error);\n        }\n    });\n    onFinish == null ? void 0 : onFinish({\n        message: currentMessage,\n        finishReason,\n        usage\n    });\n}\n// src/process-text-stream.ts\nasync function processTextStream({ stream, onTextPart }) {\n    const reader = stream.pipeThrough(new TextDecoderStream()).getReader();\n    while(true){\n        const { done, value } = await reader.read();\n        if (done) {\n            break;\n        }\n        await onTextPart(value);\n    }\n}\n// src/call-chat-api.ts\nvar getOriginalFetch = ()=>fetch;\nasync function callChatApi({ api, body, streamProtocol = \"data\", credentials, headers, abortController, restoreMessagesOnFailure, onResponse, onUpdate, onFinish, onToolCall, generateId: generateId2, fetch: fetch2 = getOriginalFetch() }) {\n    var _a, _b;\n    const response = await fetch2(api, {\n        method: \"POST\",\n        body: JSON.stringify(body),\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...headers\n        },\n        signal: (_a = abortController == null ? void 0 : abortController()) == null ? void 0 : _a.signal,\n        credentials\n    }).catch((err)=>{\n        restoreMessagesOnFailure();\n        throw err;\n    });\n    if (onResponse) {\n        try {\n            await onResponse(response);\n        } catch (err) {\n            throw err;\n        }\n    }\n    if (!response.ok) {\n        restoreMessagesOnFailure();\n        throw new Error((_b = await response.text()) != null ? _b : \"Failed to fetch the chat response.\");\n    }\n    if (!response.body) {\n        throw new Error(\"The response body is empty.\");\n    }\n    switch(streamProtocol){\n        case \"text\":\n            {\n                const resultMessage = {\n                    id: generateId2(),\n                    createdAt: /* @__PURE__ */ new Date(),\n                    role: \"assistant\",\n                    content: \"\"\n                };\n                await processTextStream({\n                    stream: response.body,\n                    onTextPart: (chunk)=>{\n                        resultMessage.content += chunk;\n                        onUpdate([\n                            {\n                                ...resultMessage\n                            }\n                        ], []);\n                    }\n                });\n                onFinish == null ? void 0 : onFinish(resultMessage, {\n                    usage: {\n                        completionTokens: NaN,\n                        promptTokens: NaN,\n                        totalTokens: NaN\n                    },\n                    finishReason: \"unknown\"\n                });\n                return;\n            }\n        case \"data\":\n            {\n                await processChatResponse({\n                    stream: response.body,\n                    update: onUpdate,\n                    onToolCall,\n                    onFinish ({ message, finishReason, usage }) {\n                        if (onFinish && message != null) {\n                            onFinish(message, {\n                                usage,\n                                finishReason\n                            });\n                        }\n                    },\n                    generateId: generateId2\n                });\n                return;\n            }\n        default:\n            {\n                const exhaustiveCheck = streamProtocol;\n                throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n            }\n    }\n}\n// src/call-completion-api.ts\nvar getOriginalFetch2 = ()=>fetch;\nasync function callCompletionApi({ api, prompt, credentials, headers, body, streamProtocol = \"data\", setCompletion, setLoading, setError, setAbortController, onResponse, onFinish, onError, onData, fetch: fetch2 = getOriginalFetch2() }) {\n    var _a;\n    try {\n        setLoading(true);\n        setError(void 0);\n        const abortController = new AbortController();\n        setAbortController(abortController);\n        setCompletion(\"\");\n        const response = await fetch2(api, {\n            method: \"POST\",\n            body: JSON.stringify({\n                prompt,\n                ...body\n            }),\n            credentials,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                ...headers\n            },\n            signal: abortController.signal\n        }).catch((err)=>{\n            throw err;\n        });\n        if (onResponse) {\n            try {\n                await onResponse(response);\n            } catch (err) {\n                throw err;\n            }\n        }\n        if (!response.ok) {\n            throw new Error((_a = await response.text()) != null ? _a : \"Failed to fetch the chat response.\");\n        }\n        if (!response.body) {\n            throw new Error(\"The response body is empty.\");\n        }\n        let result = \"\";\n        switch(streamProtocol){\n            case \"text\":\n                {\n                    await processTextStream({\n                        stream: response.body,\n                        onTextPart: (chunk)=>{\n                            result += chunk;\n                            setCompletion(result);\n                        }\n                    });\n                    break;\n                }\n            case \"data\":\n                {\n                    await processDataStream({\n                        stream: response.body,\n                        onTextPart (value) {\n                            result += value;\n                            setCompletion(result);\n                        },\n                        onDataPart (value) {\n                            onData == null ? void 0 : onData(value);\n                        },\n                        onErrorPart (value) {\n                            throw new Error(value);\n                        }\n                    });\n                    break;\n                }\n            default:\n                {\n                    const exhaustiveCheck = streamProtocol;\n                    throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n                }\n        }\n        if (onFinish) {\n            onFinish(prompt, result);\n        }\n        setAbortController(null);\n        return result;\n    } catch (err) {\n        if (err.name === \"AbortError\") {\n            setAbortController(null);\n            return null;\n        }\n        if (err instanceof Error) {\n            if (onError) {\n                onError(err);\n            }\n        }\n        setError(err);\n    } finally{\n        setLoading(false);\n    }\n}\n// src/data-url.ts\nfunction getTextFromDataUrl(dataUrl) {\n    const [header, base64Content] = dataUrl.split(\",\");\n    const mimeType = header.split(\";\")[0].split(\":\")[1];\n    if (mimeType == null || base64Content == null) {\n        throw new Error(\"Invalid data URL format\");\n    }\n    try {\n        return window.atob(base64Content);\n    } catch (error) {\n        throw new Error(`Error decoding data URL`);\n    }\n}\n// src/is-deep-equal-data.ts\nfunction isDeepEqualData(obj1, obj2) {\n    if (obj1 === obj2) return true;\n    if (obj1 == null || obj2 == null) return false;\n    if (typeof obj1 !== \"object\" && typeof obj2 !== \"object\") return obj1 === obj2;\n    if (obj1.constructor !== obj2.constructor) return false;\n    if (obj1 instanceof Date && obj2 instanceof Date) {\n        return obj1.getTime() === obj2.getTime();\n    }\n    if (Array.isArray(obj1)) {\n        if (obj1.length !== obj2.length) return false;\n        for(let i = 0; i < obj1.length; i++){\n            if (!isDeepEqualData(obj1[i], obj2[i])) return false;\n        }\n        return true;\n    }\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    for (const key of keys1){\n        if (!keys2.includes(key)) return false;\n        if (!isDeepEqualData(obj1[key], obj2[key])) return false;\n    }\n    return true;\n}\n// src/prepare-attachments-for-request.ts\nasync function prepareAttachmentsForRequest(attachmentsFromOptions) {\n    if (!attachmentsFromOptions) {\n        return [];\n    }\n    if (attachmentsFromOptions instanceof FileList) {\n        return Promise.all(Array.from(attachmentsFromOptions).map(async (attachment)=>{\n            const { name, type } = attachment;\n            const dataUrl = await new Promise((resolve, reject)=>{\n                const reader = new FileReader();\n                reader.onload = (readerEvent)=>{\n                    var _a;\n                    resolve((_a = readerEvent.target) == null ? void 0 : _a.result);\n                };\n                reader.onerror = (error)=>reject(error);\n                reader.readAsDataURL(attachment);\n            });\n            return {\n                name,\n                contentType: type,\n                url: dataUrl\n            };\n        }));\n    }\n    if (Array.isArray(attachmentsFromOptions)) {\n        return attachmentsFromOptions;\n    }\n    throw new Error(\"Invalid attachments type\");\n}\n// src/process-assistant-stream.ts\nvar NEWLINE2 = \"\\n\".charCodeAt(0);\nfunction concatChunks2(chunks, totalLength) {\n    const concatenatedChunks = new Uint8Array(totalLength);\n    let offset = 0;\n    for (const chunk of chunks){\n        concatenatedChunks.set(chunk, offset);\n        offset += chunk.length;\n    }\n    chunks.length = 0;\n    return concatenatedChunks;\n}\nasync function processAssistantStream({ stream, onTextPart, onErrorPart, onAssistantMessagePart, onAssistantControlDataPart, onDataMessagePart }) {\n    const reader = stream.getReader();\n    const decoder = new TextDecoder();\n    const chunks = [];\n    let totalLength = 0;\n    while(true){\n        const { value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            totalLength += value.length;\n            if (value[value.length - 1] !== NEWLINE2) {\n                continue;\n            }\n        }\n        if (chunks.length === 0) {\n            break;\n        }\n        const concatenatedChunks = concatChunks2(chunks, totalLength);\n        totalLength = 0;\n        const streamParts = decoder.decode(concatenatedChunks, {\n            stream: true\n        }).split(\"\\n\").filter((line)=>line !== \"\").map(parseAssistantStreamPart);\n        for (const { type, value: value2 } of streamParts){\n            switch(type){\n                case \"text\":\n                    await (onTextPart == null ? void 0 : onTextPart(value2));\n                    break;\n                case \"error\":\n                    await (onErrorPart == null ? void 0 : onErrorPart(value2));\n                    break;\n                case \"assistant_message\":\n                    await (onAssistantMessagePart == null ? void 0 : onAssistantMessagePart(value2));\n                    break;\n                case \"assistant_control_data\":\n                    await (onAssistantControlDataPart == null ? void 0 : onAssistantControlDataPart(value2));\n                    break;\n                case \"data_message\":\n                    await (onDataMessagePart == null ? void 0 : onDataMessagePart(value2));\n                    break;\n                default:\n                    {\n                        const exhaustiveCheck = type;\n                        throw new Error(`Unknown stream part type: ${exhaustiveCheck}`);\n                    }\n            }\n        }\n    }\n}\n// src/schema.ts\n\n\nvar schemaSymbol = Symbol.for(\"vercel.ai.schema\");\nfunction jsonSchema(jsonSchema2, { validate } = {}) {\n    return {\n        [schemaSymbol]: true,\n        _type: void 0,\n        // should never be used directly\n        [_ai_sdk_provider_utils__WEBPACK_IMPORTED_MODULE_0__.validatorSymbol]: true,\n        jsonSchema: jsonSchema2,\n        validate\n    };\n}\nfunction isSchema(value) {\n    return typeof value === \"object\" && value !== null && schemaSymbol in value && value[schemaSymbol] === true && \"jsonSchema\" in value && \"validate\" in value;\n}\nfunction asSchema(schema) {\n    return isSchema(schema) ? schema : zodSchema(schema);\n}\nfunction zodSchema(zodSchema2) {\n    return jsonSchema(// we assume that zodToJsonSchema will return a valid JSONSchema7:\n    (0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(zodSchema2), {\n        validate: (value)=>{\n            const result = zodSchema2.safeParse(value);\n            return result.success ? {\n                success: true,\n                value: result.data\n            } : {\n                success: false,\n                error: result.error\n            };\n        }\n    });\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGFpLXNkay91aS11dGlscy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZUFBZTtBQUNxQztBQUVwRCxnQ0FBZ0M7QUFDaEMsSUFBSUMsaUJBQWlCO0lBQ25CQyxNQUFNO0lBQ05DLE1BQU07SUFDTkMsT0FBTyxDQUFDQztRQUNOLElBQUksT0FBT0EsVUFBVSxVQUFVO1lBQzdCLE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUNBLE9BQU87WUFBRUMsTUFBTTtZQUFRRjtRQUFNO0lBQy9CO0FBQ0Y7QUFDQSxJQUFJRyxrQkFBa0I7SUFDcEJOLE1BQU07SUFDTkMsTUFBTTtJQUNOQyxPQUFPLENBQUNDO1FBQ04sSUFBSSxPQUFPQSxVQUFVLFVBQVU7WUFDN0IsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBQ0EsT0FBTztZQUFFQyxNQUFNO1lBQVNGO1FBQU07SUFDaEM7QUFDRjtBQUNBLElBQUlJLDZCQUE2QjtJQUMvQlAsTUFBTTtJQUNOQyxNQUFNO0lBQ05DLE9BQU8sQ0FBQ0M7UUFDTixJQUFJQSxTQUFTLFFBQVEsT0FBT0EsVUFBVSxZQUFZLENBQUUsU0FBUUEsS0FBSSxLQUFNLENBQUUsV0FBVUEsS0FBSSxLQUFNLENBQUUsY0FBYUEsS0FBSSxLQUFNLE9BQU9BLE1BQU1LLEVBQUUsS0FBSyxZQUFZLE9BQU9MLE1BQU1NLElBQUksS0FBSyxZQUFZTixNQUFNTSxJQUFJLEtBQUssZUFBZSxDQUFDQyxNQUFNQyxPQUFPLENBQUNSLE1BQU1TLE9BQU8sS0FBSyxDQUFDVCxNQUFNUyxPQUFPLENBQUNDLEtBQUssQ0FDeFEsQ0FBQ0MsT0FBU0EsUUFBUSxRQUFRLE9BQU9BLFNBQVMsWUFBWSxVQUFVQSxRQUFRQSxLQUFLVCxJQUFJLEtBQUssVUFBVSxVQUFVUyxRQUFRQSxLQUFLQyxJQUFJLElBQUksUUFBUSxPQUFPRCxLQUFLQyxJQUFJLEtBQUssWUFBWSxXQUFXRCxLQUFLQyxJ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QztBQUM5QixTQUFTQyxXQUFXQyxXQUFXLEVBQUUsRUFDL0JDLFFBQVEsRUFDVCxHQUFHLENBQUMsQ0FBQztJQUNKLE9BQU87UUFDTCxDQUFDTCxhQUFhLEVBQUU7UUFDaEJNLE9BQU8sS0FBSztRQUNaLGdDQUFnQztRQUNoQyxDQUFDUixtRUFBZUEsQ0FBQyxFQUFFO1FBQ25CSyxZQUFZQztRQUNaQztJQUNGO0FBQ0Y7QUFDQSxTQUFTRSxTQUFTaFAsS0FBSztJQUNyQixPQUFPLE9BQU9BLFVBQVUsWUFBWUEsVUFBVSxRQUFReU8sZ0JBQWdCek8sU0FBU0EsS0FBSyxDQUFDeU8sYUFBYSxLQUFLLFFBQVEsZ0JBQWdCek8sU0FBUyxjQUFjQTtBQUN4SjtBQUNBLFNBQVNpUCxTQUFTQyxNQUFNO0lBQ3RCLE9BQU9GLFNBQVNFLFVBQVVBLFNBQVNDLFVBQVVEO0FBQy9DO0FBQ0EsU0FBU0MsVUFBVUMsVUFBVTtJQUMzQixPQUFPUixXQUNMLGtFQUFrRTtJQUNsRUosOERBQWVBLENBQUNZLGFBQ2hCO1FBQ0VOLFVBQVUsQ0FBQzlPO1lBQ1QsTUFBTXlELFNBQVMyTCxXQUFXQyxTQUFTLENBQUNyUDtZQUNwQyxPQUFPeUQsT0FBT0ksT0FBTyxHQUFHO2dCQUFFQSxTQUFTO2dCQUFNN0QsT0FBT3lELE9BQU84RSxJQUFJO1lBQUMsSUFBSTtnQkFBRTFFLFNBQVM7Z0JBQU80RixPQUFPaEcsT0FBT2dHLEtBQUs7WUFBQztRQUN4RztJQUNGO0FBRUo7QUFtQkUsQ0FDRixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcnQvLi9ub2RlX21vZHVsZXMvQGFpLXNkay91aS11dGlscy9kaXN0L2luZGV4Lm1qcz83ODNiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IHsgZ2VuZXJhdGVJZCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5cbi8vIHNyYy9hc3Npc3RhbnQtc3RyZWFtLXBhcnRzLnRzXG52YXIgdGV4dFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiMFwiLFxuICBuYW1lOiBcInRleHRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJ0ZXh0XCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInRleHRcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBlcnJvclN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiM1wiLFxuICBuYW1lOiBcImVycm9yXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiZXJyb3JcIiBwYXJ0cyBleHBlY3QgYSBzdHJpbmcgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBhc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI0XCIsXG4gIG5hbWU6IFwiYXNzaXN0YW50X21lc3NhZ2VcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiaWRcIiBpbiB2YWx1ZSkgfHwgIShcInJvbGVcIiBpbiB2YWx1ZSkgfHwgIShcImNvbnRlbnRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmlkICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWx1ZS5yb2xlICE9PSBcInN0cmluZ1wiIHx8IHZhbHVlLnJvbGUgIT09IFwiYXNzaXN0YW50XCIgfHwgIUFycmF5LmlzQXJyYXkodmFsdWUuY29udGVudCkgfHwgIXZhbHVlLmNvbnRlbnQuZXZlcnkoXG4gICAgICAoaXRlbSkgPT4gaXRlbSAhPSBudWxsICYmIHR5cGVvZiBpdGVtID09PSBcIm9iamVjdFwiICYmIFwidHlwZVwiIGluIGl0ZW0gJiYgaXRlbS50eXBlID09PSBcInRleHRcIiAmJiBcInRleHRcIiBpbiBpdGVtICYmIGl0ZW0udGV4dCAhPSBudWxsICYmIHR5cGVvZiBpdGVtLnRleHQgPT09IFwib2JqZWN0XCIgJiYgXCJ2YWx1ZVwiIGluIGl0ZW0udGV4dCAmJiB0eXBlb2YgaXRlbS50ZXh0LnZhbHVlID09PSBcInN0cmluZ1wiXG4gICAgKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJhc3Npc3RhbnRfbWVzc2FnZVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhbiBcImlkXCIsIFwicm9sZVwiLCBhbmQgXCJjb250ZW50XCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiYXNzaXN0YW50X21lc3NhZ2VcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciBhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiNVwiLFxuICBuYW1lOiBcImFzc2lzdGFudF9jb250cm9sX2RhdGFcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidGhyZWFkSWRcIiBpbiB2YWx1ZSkgfHwgIShcIm1lc3NhZ2VJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudGhyZWFkSWQgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlLm1lc3NhZ2VJZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0aHJlYWRJZFwiIGFuZCBcIm1lc3NhZ2VJZFwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImFzc2lzdGFudF9jb250cm9sX2RhdGFcIixcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIHRocmVhZElkOiB2YWx1ZS50aHJlYWRJZCxcbiAgICAgICAgbWVzc2FnZUlkOiB2YWx1ZS5tZXNzYWdlSWRcbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xudmFyIGRhdGFNZXNzYWdlU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI2XCIsXG4gIG5hbWU6IFwiZGF0YV9tZXNzYWdlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInJvbGVcIiBpbiB2YWx1ZSkgfHwgIShcImRhdGFcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnJvbGUgIT09IFwic3RyaW5nXCIgfHwgdmFsdWUucm9sZSAhPT0gXCJkYXRhXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiZGF0YV9tZXNzYWdlXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJyb2xlXCIgYW5kIFwiZGF0YVwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImRhdGFfbWVzc2FnZVwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIGFzc2lzdGFudFN0cmVhbVBhcnRzID0gW1xuICB0ZXh0U3RyZWFtUGFydCxcbiAgZXJyb3JTdHJlYW1QYXJ0LFxuICBhc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydCxcbiAgYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0LFxuICBkYXRhTWVzc2FnZVN0cmVhbVBhcnRcbl07XG52YXIgYXNzaXN0YW50U3RyZWFtUGFydHNCeUNvZGUgPSB7XG4gIFt0ZXh0U3RyZWFtUGFydC5jb2RlXTogdGV4dFN0cmVhbVBhcnQsXG4gIFtlcnJvclN0cmVhbVBhcnQuY29kZV06IGVycm9yU3RyZWFtUGFydCxcbiAgW2Fzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGVdOiBhc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydCxcbiAgW2Fzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydC5jb2RlXTogYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0LFxuICBbZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGVdOiBkYXRhTWVzc2FnZVN0cmVhbVBhcnRcbn07XG52YXIgU3RyZWFtU3RyaW5nUHJlZml4ZXMgPSB7XG4gIFt0ZXh0U3RyZWFtUGFydC5uYW1lXTogdGV4dFN0cmVhbVBhcnQuY29kZSxcbiAgW2Vycm9yU3RyZWFtUGFydC5uYW1lXTogZXJyb3JTdHJlYW1QYXJ0LmNvZGUsXG4gIFthc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydC5uYW1lXTogYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQuY29kZSxcbiAgW2Fzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydC5uYW1lXTogYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0LmNvZGUsXG4gIFtkYXRhTWVzc2FnZVN0cmVhbVBhcnQubmFtZV06IGRhdGFNZXNzYWdlU3RyZWFtUGFydC5jb2RlXG59O1xudmFyIHZhbGlkQ29kZXMgPSBhc3Npc3RhbnRTdHJlYW1QYXJ0cy5tYXAoKHBhcnQpID0+IHBhcnQuY29kZSk7XG52YXIgcGFyc2VBc3Npc3RhbnRTdHJlYW1QYXJ0ID0gKGxpbmUpID0+IHtcbiAgY29uc3QgZmlyc3RTZXBhcmF0b3JJbmRleCA9IGxpbmUuaW5kZXhPZihcIjpcIik7XG4gIGlmIChmaXJzdFNlcGFyYXRvckluZGV4ID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBzdHJlYW0gc3RyaW5nLiBObyBzZXBhcmF0b3IgZm91bmQuXCIpO1xuICB9XG4gIGNvbnN0IHByZWZpeCA9IGxpbmUuc2xpY2UoMCwgZmlyc3RTZXBhcmF0b3JJbmRleCk7XG4gIGlmICghdmFsaWRDb2Rlcy5pbmNsdWRlcyhwcmVmaXgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtIHN0cmluZy4gSW52YWxpZCBjb2RlICR7cHJlZml4fS5gKTtcbiAgfVxuICBjb25zdCBjb2RlID0gcHJlZml4O1xuICBjb25zdCB0ZXh0VmFsdWUgPSBsaW5lLnNsaWNlKGZpcnN0U2VwYXJhdG9ySW5kZXggKyAxKTtcbiAgY29uc3QganNvblZhbHVlID0gSlNPTi5wYXJzZSh0ZXh0VmFsdWUpO1xuICByZXR1cm4gYXNzaXN0YW50U3RyZWFtUGFydHNCeUNvZGVbY29kZV0ucGFyc2UoanNvblZhbHVlKTtcbn07XG5mdW5jdGlvbiBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0KHR5cGUsIHZhbHVlKSB7XG4gIGNvbnN0IHN0cmVhbVBhcnQgPSBhc3Npc3RhbnRTdHJlYW1QYXJ0cy5maW5kKChwYXJ0KSA9PiBwYXJ0Lm5hbWUgPT09IHR5cGUpO1xuICBpZiAoIXN0cmVhbVBhcnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc3RyZWFtIHBhcnQgdHlwZTogJHt0eXBlfWApO1xuICB9XG4gIHJldHVybiBgJHtzdHJlYW1QYXJ0LmNvZGV9OiR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfVxuYDtcbn1cblxuLy8gc3JjL3Byb2Nlc3MtY2hhdC1yZXNwb25zZS50c1xuaW1wb3J0IHsgZ2VuZXJhdGVJZCBhcyBnZW5lcmF0ZUlkRnVuY3Rpb24gfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvcGFyc2UtcGFydGlhbC1qc29uLnRzXG5pbXBvcnQgeyBzYWZlUGFyc2VKU09OIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gc3JjL2ZpeC1qc29uLnRzXG5mdW5jdGlvbiBmaXhKc29uKGlucHV0KSB7XG4gIGNvbnN0IHN0YWNrID0gW1wiUk9PVFwiXTtcbiAgbGV0IGxhc3RWYWxpZEluZGV4ID0gLTE7XG4gIGxldCBsaXRlcmFsU3RhcnQgPSBudWxsO1xuICBmdW5jdGlvbiBwcm9jZXNzVmFsdWVTdGFydChjaGFyLCBpLCBzd2FwU3RhdGUpIHtcbiAgICB7XG4gICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIHN0YWNrLnB1c2goc3dhcFN0YXRlKTtcbiAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX1NUUklOR1wiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICBjYXNlIFwidFwiOlxuICAgICAgICBjYXNlIFwiblwiOiB7XG4gICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIGxpdGVyYWxTdGFydCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfTElURVJBTFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiLVwiOiB7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfTlVNQkVSXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgIGNhc2UgXCIxXCI6XG4gICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgIGNhc2UgXCI0XCI6XG4gICAgICAgIGNhc2UgXCI1XCI6XG4gICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgIGNhc2UgXCI3XCI6XG4gICAgICAgIGNhc2UgXCI4XCI6XG4gICAgICAgIGNhc2UgXCI5XCI6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfTlVNQkVSXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJ7XCI6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX1NUQVJUXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJbXCI6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfQVJSQVlfU1RBUlRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSkge1xuICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIn1cIjoge1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKSB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGFyID0gaW5wdXRbaV07XG4gICAgY29uc3QgY3VycmVudFN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgc3dpdGNoIChjdXJyZW50U3RhdGUpIHtcbiAgICAgIGNhc2UgXCJST09UXCI6XG4gICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiRklOSVNIXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX1NUQVJUXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0tFWVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwifVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0NPTU1BXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0tFWVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0tFWVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgJ1wiJzoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9BRlRFUl9LRVlcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9BRlRFUl9LRVlcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlIFwiOlwiOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0JFRk9SRV9WQUxVRVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0JFRk9SRV9WQUxVRVwiOiB7XG4gICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiOiB7XG4gICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfU1RSSU5HXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiXFxcXFwiOiB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX1NUUklOR19FU0NBUEVcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfU1RBUlRcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBwcm9jZXNzVmFsdWVTdGFydChjaGFyLCBpLCBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIl1cIjoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiOiB7XG4gICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfU1RSSU5HX0VTQ0FQRVwiOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9OVU1CRVJcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlIFwiMFwiOlxuICAgICAgICAgIGNhc2UgXCIxXCI6XG4gICAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgICBjYXNlIFwiM1wiOlxuICAgICAgICAgIGNhc2UgXCI0XCI6XG4gICAgICAgICAgY2FzZSBcIjVcIjpcbiAgICAgICAgICBjYXNlIFwiNlwiOlxuICAgICAgICAgIGNhc2UgXCI3XCI6XG4gICAgICAgICAgY2FzZSBcIjhcIjpcbiAgICAgICAgICBjYXNlIFwiOVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcImVcIjpcbiAgICAgICAgICBjYXNlIFwiRVwiOlxuICAgICAgICAgIGNhc2UgXCItXCI6XG4gICAgICAgICAgY2FzZSBcIi5cIjoge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ9XCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9PQkpFQ1RfQUZURVJfVkFMVUVcIikge1xuICAgICAgICAgICAgICBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIikge1xuICAgICAgICAgICAgICBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9MSVRFUkFMXCI6IHtcbiAgICAgICAgY29uc3QgcGFydGlhbExpdGVyYWwgPSBpbnB1dC5zdWJzdHJpbmcobGl0ZXJhbFN0YXJ0LCBpICsgMSk7XG4gICAgICAgIGlmICghXCJmYWxzZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmICFcInRydWVcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSAmJiAhXCJudWxsXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCByZXN1bHQgPSBpbnB1dC5zbGljZSgwLCBsYXN0VmFsaWRJbmRleCArIDEpO1xuICBmb3IgKGxldCBpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBzdGF0ZSA9IHN0YWNrW2ldO1xuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgXCJJTlNJREVfU1RSSU5HXCI6IHtcbiAgICAgICAgcmVzdWx0ICs9ICdcIic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfS0VZXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9BRlRFUl9LRVlcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0NPTU1BXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9TVEFSVFwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiOiB7XG4gICAgICAgIHJlc3VsdCArPSBcIn1cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX1NUQVJUXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcmVzdWx0ICs9IFwiXVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfTElURVJBTFwiOiB7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxMaXRlcmFsID0gaW5wdXQuc3Vic3RyaW5nKGxpdGVyYWxTdGFydCwgaW5wdXQubGVuZ3RoKTtcbiAgICAgICAgaWYgKFwidHJ1ZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IFwidHJ1ZVwiLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJmYWxzZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IFwiZmFsc2VcIi5zbGljZShwYXJ0aWFsTGl0ZXJhbC5sZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKFwibnVsbFwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IFwibnVsbFwiLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gc3JjL3BhcnNlLXBhcnRpYWwtanNvbi50c1xuZnVuY3Rpb24gcGFyc2VQYXJ0aWFsSnNvbihqc29uVGV4dCkge1xuICBpZiAoanNvblRleHQgPT09IHZvaWQgMCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB2b2lkIDAsIHN0YXRlOiBcInVuZGVmaW5lZC1pbnB1dFwiIH07XG4gIH1cbiAgbGV0IHJlc3VsdCA9IHNhZmVQYXJzZUpTT04oeyB0ZXh0OiBqc29uVGV4dCB9KTtcbiAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHJlc3VsdC52YWx1ZSwgc3RhdGU6IFwic3VjY2Vzc2Z1bC1wYXJzZVwiIH07XG4gIH1cbiAgcmVzdWx0ID0gc2FmZVBhcnNlSlNPTih7IHRleHQ6IGZpeEpzb24oanNvblRleHQpIH0pO1xuICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LnZhbHVlLCBzdGF0ZTogXCJyZXBhaXJlZC1wYXJzZVwiIH07XG4gIH1cbiAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCwgc3RhdGU6IFwiZmFpbGVkLXBhcnNlXCIgfTtcbn1cblxuLy8gc3JjL2RhdGEtc3RyZWFtLXBhcnRzLnRzXG52YXIgdGV4dFN0cmVhbVBhcnQyID0ge1xuICBjb2RlOiBcIjBcIixcbiAgbmFtZTogXCJ0ZXh0XCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1widGV4dFwiIHBhcnRzIGV4cGVjdCBhIHN0cmluZyB2YWx1ZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogXCJ0ZXh0XCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgZGF0YVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiMlwiLFxuICBuYW1lOiBcImRhdGFcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJkYXRhXCIgcGFydHMgZXhwZWN0IGFuIGFycmF5IHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcImRhdGFcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBlcnJvclN0cmVhbVBhcnQyID0ge1xuICBjb2RlOiBcIjNcIixcbiAgbmFtZTogXCJlcnJvclwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImVycm9yXCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI4XCIsXG4gIG5hbWU6IFwibWVzc2FnZV9hbm5vdGF0aW9uc1wiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIm1lc3NhZ2VfYW5ub3RhdGlvbnNcIiBwYXJ0cyBleHBlY3QgYW4gYXJyYXkgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwibWVzc2FnZV9hbm5vdGF0aW9uc1wiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIHRvb2xDYWxsU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCI5XCIsXG4gIG5hbWU6IFwidG9vbF9jYWxsXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRvb2xDYWxsSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xDYWxsSWQgIT09IFwic3RyaW5nXCIgfHwgIShcInRvb2xOYW1lXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sTmFtZSAhPT0gXCJzdHJpbmdcIiB8fCAhKFwiYXJnc1wiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuYXJncyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJ0b29sX2NhbGxcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInRvb2xDYWxsSWRcIiwgXCJ0b29sTmFtZVwiLCBhbmQgXCJhcmdzXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidG9vbF9jYWxsXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgdG9vbFJlc3VsdFN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiYVwiLFxuICBuYW1lOiBcInRvb2xfcmVzdWx0XCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRvb2xDYWxsSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xDYWxsSWQgIT09IFwic3RyaW5nXCIgfHwgIShcInJlc3VsdFwiIGluIHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJ0b29sX3Jlc3VsdFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiIGFuZCBhIFwicmVzdWx0XCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidG9vbF9yZXN1bHRcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciB0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJiXCIsXG4gIG5hbWU6IFwidG9vbF9jYWxsX3N0cmVhbWluZ19zdGFydFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0b29sQ2FsbElkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sQ2FsbElkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJ0b29sTmFtZVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbE5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1widG9vbF9jYWxsX3N0cmVhbWluZ19zdGFydFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiIGFuZCBcInRvb2xOYW1lXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidG9vbF9jYWxsX3N0cmVhbWluZ19zdGFydFwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIHRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImNcIixcbiAgbmFtZTogXCJ0b29sX2NhbGxfZGVsdGFcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwiYXJnc1RleHREZWx0YVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuYXJnc1RleHREZWx0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJ0b29sX2NhbGxfZGVsdGFcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInRvb2xDYWxsSWRcIiBhbmQgXCJhcmdzVGV4dERlbHRhXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidG9vbF9jYWxsX2RlbHRhXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiZFwiLFxuICBuYW1lOiBcImZpbmlzaF9tZXNzYWdlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImZpbmlzaFJlYXNvblwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuZmluaXNoUmVhc29uICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImZpbmlzaF9tZXNzYWdlXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJmaW5pc2hSZWFzb25cIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBmaW5pc2hSZWFzb246IHZhbHVlLmZpbmlzaFJlYXNvblxuICAgIH07XG4gICAgaWYgKFwidXNhZ2VcIiBpbiB2YWx1ZSAmJiB2YWx1ZS51c2FnZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS51c2FnZSA9PT0gXCJvYmplY3RcIiAmJiBcInByb21wdFRva2Vuc1wiIGluIHZhbHVlLnVzYWdlICYmIFwiY29tcGxldGlvblRva2Vuc1wiIGluIHZhbHVlLnVzYWdlKSB7XG4gICAgICByZXN1bHQudXNhZ2UgPSB7XG4gICAgICAgIHByb21wdFRva2VuczogdHlwZW9mIHZhbHVlLnVzYWdlLnByb21wdFRva2VucyA9PT0gXCJudW1iZXJcIiA/IHZhbHVlLnVzYWdlLnByb21wdFRva2VucyA6IE51bWJlci5OYU4sXG4gICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IHR5cGVvZiB2YWx1ZS51c2FnZS5jb21wbGV0aW9uVG9rZW5zID09PSBcIm51bWJlclwiID8gdmFsdWUudXNhZ2UuY29tcGxldGlvblRva2VucyA6IE51bWJlci5OYU5cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImZpbmlzaF9tZXNzYWdlXCIsXG4gICAgICB2YWx1ZTogcmVzdWx0XG4gICAgfTtcbiAgfVxufTtcbnZhciBmaW5pc2hTdGVwU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJlXCIsXG4gIG5hbWU6IFwiZmluaXNoX3N0ZXBcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiZmluaXNoUmVhc29uXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5maW5pc2hSZWFzb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiZmluaXNoX3N0ZXBcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcImZpbmlzaFJlYXNvblwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIGZpbmlzaFJlYXNvbjogdmFsdWUuZmluaXNoUmVhc29uLFxuICAgICAgaXNDb250aW51ZWQ6IGZhbHNlXG4gICAgfTtcbiAgICBpZiAoXCJ1c2FnZVwiIGluIHZhbHVlICYmIHZhbHVlLnVzYWdlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnVzYWdlID09PSBcIm9iamVjdFwiICYmIFwicHJvbXB0VG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UgJiYgXCJjb21wbGV0aW9uVG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UpIHtcbiAgICAgIHJlc3VsdC51c2FnZSA9IHtcbiAgICAgICAgcHJvbXB0VG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zID09PSBcIm51bWJlclwiID8gdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zIDogTnVtYmVyLk5hTixcbiAgICAgICAgY29tcGxldGlvblRva2VuczogdHlwZW9mIHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5jb21wbGV0aW9uVG9rZW5zIDogTnVtYmVyLk5hTlxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKFwiaXNDb250aW51ZWRcIiBpbiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuaXNDb250aW51ZWQgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXN1bHQuaXNDb250aW51ZWQgPSB2YWx1ZS5pc0NvbnRpbnVlZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZmluaXNoX3N0ZXBcIixcbiAgICAgIHZhbHVlOiByZXN1bHRcbiAgICB9O1xuICB9XG59O1xudmFyIGRhdGFTdHJlYW1QYXJ0cyA9IFtcbiAgdGV4dFN0cmVhbVBhcnQyLFxuICBkYXRhU3RyZWFtUGFydCxcbiAgZXJyb3JTdHJlYW1QYXJ0MixcbiAgbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydCxcbiAgdG9vbENhbGxTdHJlYW1QYXJ0LFxuICB0b29sUmVzdWx0U3RyZWFtUGFydCxcbiAgdG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQsXG4gIHRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0LFxuICBmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCxcbiAgZmluaXNoU3RlcFN0cmVhbVBhcnRcbl07XG52YXIgZGF0YVN0cmVhbVBhcnRzQnlDb2RlID0ge1xuICBbdGV4dFN0cmVhbVBhcnQyLmNvZGVdOiB0ZXh0U3RyZWFtUGFydDIsXG4gIFtkYXRhU3RyZWFtUGFydC5jb2RlXTogZGF0YVN0cmVhbVBhcnQsXG4gIFtlcnJvclN0cmVhbVBhcnQyLmNvZGVdOiBlcnJvclN0cmVhbVBhcnQyLFxuICBbbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydC5jb2RlXTogbWVzc2FnZUFubm90YXRpb25zU3RyZWFtUGFydCxcbiAgW3Rvb2xDYWxsU3RyZWFtUGFydC5jb2RlXTogdG9vbENhbGxTdHJlYW1QYXJ0LFxuICBbdG9vbFJlc3VsdFN0cmVhbVBhcnQuY29kZV06IHRvb2xSZXN1bHRTdHJlYW1QYXJ0LFxuICBbdG9vbENhbGxTdHJlYW1pbmdTdGFydFN0cmVhbVBhcnQuY29kZV06IHRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0LFxuICBbdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQuY29kZV06IHRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0LFxuICBbZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQuY29kZV06IGZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0LFxuICBbZmluaXNoU3RlcFN0cmVhbVBhcnQuY29kZV06IGZpbmlzaFN0ZXBTdHJlYW1QYXJ0XG59O1xudmFyIERhdGFTdHJlYW1TdHJpbmdQcmVmaXhlcyA9IHtcbiAgW3RleHRTdHJlYW1QYXJ0Mi5uYW1lXTogdGV4dFN0cmVhbVBhcnQyLmNvZGUsXG4gIFtkYXRhU3RyZWFtUGFydC5uYW1lXTogZGF0YVN0cmVhbVBhcnQuY29kZSxcbiAgW2Vycm9yU3RyZWFtUGFydDIubmFtZV06IGVycm9yU3RyZWFtUGFydDIuY29kZSxcbiAgW21lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQubmFtZV06IG1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQuY29kZSxcbiAgW3Rvb2xDYWxsU3RyZWFtUGFydC5uYW1lXTogdG9vbENhbGxTdHJlYW1QYXJ0LmNvZGUsXG4gIFt0b29sUmVzdWx0U3RyZWFtUGFydC5uYW1lXTogdG9vbFJlc3VsdFN0cmVhbVBhcnQuY29kZSxcbiAgW3Rvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0Lm5hbWVdOiB0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydC5jb2RlLFxuICBbdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQubmFtZV06IHRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0LmNvZGUsXG4gIFtmaW5pc2hNZXNzYWdlU3RyZWFtUGFydC5uYW1lXTogZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQuY29kZSxcbiAgW2ZpbmlzaFN0ZXBTdHJlYW1QYXJ0Lm5hbWVdOiBmaW5pc2hTdGVwU3RyZWFtUGFydC5jb2RlXG59O1xudmFyIHZhbGlkQ29kZXMyID0gZGF0YVN0cmVhbVBhcnRzLm1hcCgocGFydCkgPT4gcGFydC5jb2RlKTtcbnZhciBwYXJzZURhdGFTdHJlYW1QYXJ0ID0gKGxpbmUpID0+IHtcbiAgY29uc3QgZmlyc3RTZXBhcmF0b3JJbmRleCA9IGxpbmUuaW5kZXhPZihcIjpcIik7XG4gIGlmIChmaXJzdFNlcGFyYXRvckluZGV4ID09PSAtMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBzdHJlYW0gc3RyaW5nLiBObyBzZXBhcmF0b3IgZm91bmQuXCIpO1xuICB9XG4gIGNvbnN0IHByZWZpeCA9IGxpbmUuc2xpY2UoMCwgZmlyc3RTZXBhcmF0b3JJbmRleCk7XG4gIGlmICghdmFsaWRDb2RlczIuaW5jbHVkZXMocHJlZml4KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIHN0cmVhbSBzdHJpbmcuIEludmFsaWQgY29kZSAke3ByZWZpeH0uYCk7XG4gIH1cbiAgY29uc3QgY29kZSA9IHByZWZpeDtcbiAgY29uc3QgdGV4dFZhbHVlID0gbGluZS5zbGljZShmaXJzdFNlcGFyYXRvckluZGV4ICsgMSk7XG4gIGNvbnN0IGpzb25WYWx1ZSA9IEpTT04ucGFyc2UodGV4dFZhbHVlKTtcbiAgcmV0dXJuIGRhdGFTdHJlYW1QYXJ0c0J5Q29kZVtjb2RlXS5wYXJzZShqc29uVmFsdWUpO1xufTtcbmZ1bmN0aW9uIGZvcm1hdERhdGFTdHJlYW1QYXJ0KHR5cGUsIHZhbHVlKSB7XG4gIGNvbnN0IHN0cmVhbVBhcnQgPSBkYXRhU3RyZWFtUGFydHMuZmluZCgocGFydCkgPT4gcGFydC5uYW1lID09PSB0eXBlKTtcbiAgaWYgKCFzdHJlYW1QYXJ0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHN0cmVhbSBwYXJ0IHR5cGU6ICR7dHlwZX1gKTtcbiAgfVxuICByZXR1cm4gYCR7c3RyZWFtUGFydC5jb2RlfToke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1cbmA7XG59XG5cbi8vIHNyYy9wcm9jZXNzLWRhdGEtc3RyZWFtLnRzXG52YXIgTkVXTElORSA9IFwiXFxuXCIuY2hhckNvZGVBdCgwKTtcbmZ1bmN0aW9uIGNvbmNhdENodW5rcyhjaHVua3MsIHRvdGFsTGVuZ3RoKSB7XG4gIGNvbnN0IGNvbmNhdGVuYXRlZENodW5rcyA9IG5ldyBVaW50OEFycmF5KHRvdGFsTGVuZ3RoKTtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGZvciAoY29uc3QgY2h1bmsgb2YgY2h1bmtzKSB7XG4gICAgY29uY2F0ZW5hdGVkQ2h1bmtzLnNldChjaHVuaywgb2Zmc2V0KTtcbiAgICBvZmZzZXQgKz0gY2h1bmsubGVuZ3RoO1xuICB9XG4gIGNodW5rcy5sZW5ndGggPSAwO1xuICByZXR1cm4gY29uY2F0ZW5hdGVkQ2h1bmtzO1xufVxuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0RhdGFTdHJlYW0oe1xuICBzdHJlYW0sXG4gIG9uVGV4dFBhcnQsXG4gIG9uRGF0YVBhcnQsXG4gIG9uRXJyb3JQYXJ0LFxuICBvblRvb2xDYWxsU3RyZWFtaW5nU3RhcnRQYXJ0LFxuICBvblRvb2xDYWxsRGVsdGFQYXJ0LFxuICBvblRvb2xDYWxsUGFydCxcbiAgb25Ub29sUmVzdWx0UGFydCxcbiAgb25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0LFxuICBvbkZpbmlzaE1lc3NhZ2VQYXJ0LFxuICBvbkZpbmlzaFN0ZXBQYXJ0XG59KSB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICBjb25zdCBjaHVua3MgPSBbXTtcbiAgbGV0IHRvdGFsTGVuZ3RoID0gMDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgY2h1bmtzLnB1c2godmFsdWUpO1xuICAgICAgdG90YWxMZW5ndGggKz0gdmFsdWUubGVuZ3RoO1xuICAgICAgaWYgKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdICE9PSBORVdMSU5FKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2h1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvbnN0IGNvbmNhdGVuYXRlZENodW5rcyA9IGNvbmNhdENodW5rcyhjaHVua3MsIHRvdGFsTGVuZ3RoKTtcbiAgICB0b3RhbExlbmd0aCA9IDA7XG4gICAgY29uc3Qgc3RyZWFtUGFydHMgPSBkZWNvZGVyLmRlY29kZShjb25jYXRlbmF0ZWRDaHVua3MsIHsgc3RyZWFtOiB0cnVlIH0pLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigobGluZSkgPT4gbGluZSAhPT0gXCJcIikubWFwKHBhcnNlRGF0YVN0cmVhbVBhcnQpO1xuICAgIGZvciAoY29uc3QgeyB0eXBlLCB2YWx1ZTogdmFsdWUyIH0gb2Ygc3RyZWFtUGFydHMpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIGF3YWl0IChvblRleHRQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblRleHRQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGF0YVwiOlxuICAgICAgICAgIGF3YWl0IChvbkRhdGFQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkRhdGFQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICBhd2FpdCAob25FcnJvclBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRXJyb3JQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWVzc2FnZV9hbm5vdGF0aW9uc1wiOlxuICAgICAgICAgIGF3YWl0IChvbk1lc3NhZ2VBbm5vdGF0aW9uc1BhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uTWVzc2FnZUFubm90YXRpb25zUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvb2xfY2FsbF9zdHJlYW1pbmdfc3RhcnRcIjpcbiAgICAgICAgICBhd2FpdCAob25Ub29sQ2FsbFN0cmVhbWluZ1N0YXJ0UGFydCA9PSBudWxsID8gdm9pZCAwIDogb25Ub29sQ2FsbFN0cmVhbWluZ1N0YXJ0UGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvb2xfY2FsbF9kZWx0YVwiOlxuICAgICAgICAgIGF3YWl0IChvblRvb2xDYWxsRGVsdGFQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblRvb2xDYWxsRGVsdGFQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9vbF9jYWxsXCI6XG4gICAgICAgICAgYXdhaXQgKG9uVG9vbENhbGxQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblRvb2xDYWxsUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvb2xfcmVzdWx0XCI6XG4gICAgICAgICAgYXdhaXQgKG9uVG9vbFJlc3VsdFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVG9vbFJlc3VsdFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmaW5pc2hfbWVzc2FnZVwiOlxuICAgICAgICAgIGF3YWl0IChvbkZpbmlzaE1lc3NhZ2VQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkZpbmlzaE1lc3NhZ2VQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZmluaXNoX3N0ZXBcIjpcbiAgICAgICAgICBhd2FpdCAob25GaW5pc2hTdGVwUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25GaW5pc2hTdGVwUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IHR5cGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0cmVhbSBwYXJ0IHR5cGU6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9kdXBsaWNhdGVkL3VzYWdlLnRzXG5mdW5jdGlvbiBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2Uoe1xuICBwcm9tcHRUb2tlbnMsXG4gIGNvbXBsZXRpb25Ub2tlbnNcbn0pIHtcbiAgcmV0dXJuIHtcbiAgICBwcm9tcHRUb2tlbnMsXG4gICAgY29tcGxldGlvblRva2VucyxcbiAgICB0b3RhbFRva2VuczogcHJvbXB0VG9rZW5zICsgY29tcGxldGlvblRva2Vuc1xuICB9O1xufVxuXG4vLyBzcmMvcHJvY2Vzcy1jaGF0LXJlc3BvbnNlLnRzXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQ2hhdFJlc3BvbnNlKHtcbiAgc3RyZWFtLFxuICB1cGRhdGUsXG4gIG9uVG9vbENhbGwsXG4gIG9uRmluaXNoLFxuICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMiA9IGdlbmVyYXRlSWRGdW5jdGlvbixcbiAgZ2V0Q3VycmVudERhdGUgPSAoKSA9PiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKVxufSkge1xuICBjb25zdCBjcmVhdGVkQXQgPSBnZXRDdXJyZW50RGF0ZSgpO1xuICBsZXQgY3VycmVudE1lc3NhZ2UgPSB2b2lkIDA7XG4gIGxldCBjcmVhdGVOZXdNZXNzYWdlID0gdHJ1ZTtcbiAgY29uc3QgcHJldmlvdXNNZXNzYWdlcyA9IFtdO1xuICBjb25zdCBkYXRhID0gW107XG4gIGxldCBtZXNzYWdlQW5ub3RhdGlvbnMgPSB2b2lkIDA7XG4gIGNvbnN0IHBhcnRpYWxUb29sQ2FsbHMgPSB7fTtcbiAgbGV0IHVzYWdlID0ge1xuICAgIGNvbXBsZXRpb25Ub2tlbnM6IE5hTixcbiAgICBwcm9tcHRUb2tlbnM6IE5hTixcbiAgICB0b3RhbFRva2VuczogTmFOXG4gIH07XG4gIGxldCBmaW5pc2hSZWFzb24gPSBcInVua25vd25cIjtcbiAgZnVuY3Rpb24gZXhlY1VwZGF0ZSgpIHtcbiAgICBjb25zdCBjb3BpZWREYXRhID0gWy4uLmRhdGFdO1xuICAgIGlmIChjdXJyZW50TWVzc2FnZSA9PSBudWxsKSB7XG4gICAgICB1cGRhdGUocHJldmlvdXNNZXNzYWdlcywgY29waWVkRGF0YSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtZXNzYWdlQW5ub3RhdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lc3NhZ2VBbm5vdGF0aW9ucy5sZW5ndGgpIHtcbiAgICAgIGN1cnJlbnRNZXNzYWdlLmFubm90YXRpb25zID0gbWVzc2FnZUFubm90YXRpb25zO1xuICAgIH1cbiAgICBjb25zdCBjb3BpZWRNZXNzYWdlID0ge1xuICAgICAgLy8gZGVlcCBjb3B5IHRoZSBtZXNzYWdlIHRvIGVuc3VyZSB0aGF0IGRlZXAgY2hhbmdlcyAobXNnIGF0dGFjaG1lbnRzKSBhcmUgdXBkYXRlZFxuICAgICAgLy8gd2l0aCBTb2xpZEpTLiBTb2xpZEpTIHVzZXMgcmVmZXJlbnRpYWwgaW50ZWdyYXRpb24gb2Ygc3ViLW9iamVjdHMgdG8gZGV0ZWN0IGNoYW5nZXMuXG4gICAgICAuLi5KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGN1cnJlbnRNZXNzYWdlKSksXG4gICAgICAvLyBhZGQgYSByZXZpc2lvbiBpZCB0byBlbnN1cmUgdGhhdCB0aGUgbWVzc2FnZSBpcyB1cGRhdGVkIHdpdGggU1dSLiBTV1IgdXNlcyBhXG4gICAgICAvLyBoYXNoaW5nIGFwcHJvYWNoIGJ5IGRlZmF1bHQgdG8gZGV0ZWN0IGNoYW5nZXMsIGJ1dCBpdCBvbmx5IHdvcmtzIGZvciBzaGFsbG93XG4gICAgICAvLyBjaGFuZ2VzLiBUaGlzIGlzIHdoeSB3ZSBuZWVkIHRvIGFkZCBhIHJldmlzaW9uIGlkIHRvIGVuc3VyZSB0aGF0IHRoZSBtZXNzYWdlXG4gICAgICAvLyBpcyB1cGRhdGVkIHdpdGggU1dSICh3aXRob3V0IGl0LCB0aGUgY2hhbmdlcyBnZXQgc3R1Y2sgaW4gU1dSIGFuZCBhcmUgbm90XG4gICAgICAvLyBmb3J3YXJkZWQgdG8gcmVuZGVyaW5nKTpcbiAgICAgIHJldmlzaW9uSWQ6IGdlbmVyYXRlSWQyKCksXG4gICAgICAvLyBGaWxsIGluIGNyZWF0ZWRBdCB0byByZXRhaW4gRGF0ZSBvYmplY3QgKGxvc3QgaW4gSlNPTi5wYXJzZSk6XG4gICAgICBjcmVhdGVkQXQ6IGN1cnJlbnRNZXNzYWdlLmNyZWF0ZWRBdFxuICAgIH07XG4gICAgdXBkYXRlKFsuLi5wcmV2aW91c01lc3NhZ2VzLCBjb3BpZWRNZXNzYWdlXSwgY29waWVkRGF0YSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0TWVzc2FnZSgpIHtcbiAgICBpZiAoY3JlYXRlTmV3TWVzc2FnZSB8fCBjdXJyZW50TWVzc2FnZSA9PSBudWxsKSB7XG4gICAgICBpZiAoY3VycmVudE1lc3NhZ2UgIT0gbnVsbCkge1xuICAgICAgICBwcmV2aW91c01lc3NhZ2VzLnB1c2goY3VycmVudE1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgY3JlYXRlTmV3TWVzc2FnZSA9IGZhbHNlO1xuICAgICAgY3VycmVudE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZUlkMigpLFxuICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICBjcmVhdGVkQXRcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50TWVzc2FnZTtcbiAgfVxuICBhd2FpdCBwcm9jZXNzRGF0YVN0cmVhbSh7XG4gICAgc3RyZWFtLFxuICAgIG9uVGV4dFBhcnQodmFsdWUpIHtcbiAgICAgIGNvbnN0IGFjdGl2ZU1lc3NhZ2UgPSBnZXRNZXNzYWdlKCk7XG4gICAgICBjdXJyZW50TWVzc2FnZSA9IHtcbiAgICAgICAgLi4uYWN0aXZlTWVzc2FnZSxcbiAgICAgICAgY29udGVudDogYWN0aXZlTWVzc2FnZS5jb250ZW50ICsgdmFsdWVcbiAgICAgIH07XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBvblRvb2xDYWxsU3RyZWFtaW5nU3RhcnRQYXJ0KHZhbHVlKSB7XG4gICAgICBjb25zdCBhY3RpdmVNZXNzYWdlID0gZ2V0TWVzc2FnZSgpO1xuICAgICAgaWYgKGFjdGl2ZU1lc3NhZ2UudG9vbEludm9jYXRpb25zID09IG51bGwpIHtcbiAgICAgICAgYWN0aXZlTWVzc2FnZS50b29sSW52b2NhdGlvbnMgPSBbXTtcbiAgICAgIH1cbiAgICAgIHBhcnRpYWxUb29sQ2FsbHNbdmFsdWUudG9vbENhbGxJZF0gPSB7XG4gICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgIHRvb2xOYW1lOiB2YWx1ZS50b29sTmFtZSxcbiAgICAgICAgaW5kZXg6IGFjdGl2ZU1lc3NhZ2UudG9vbEludm9jYXRpb25zLmxlbmd0aFxuICAgICAgfTtcbiAgICAgIGFjdGl2ZU1lc3NhZ2UudG9vbEludm9jYXRpb25zLnB1c2goe1xuICAgICAgICBzdGF0ZTogXCJwYXJ0aWFsLWNhbGxcIixcbiAgICAgICAgdG9vbENhbGxJZDogdmFsdWUudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHZhbHVlLnRvb2xOYW1lLFxuICAgICAgICBhcmdzOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25Ub29sQ2FsbERlbHRhUGFydCh2YWx1ZSkge1xuICAgICAgY29uc3QgYWN0aXZlTWVzc2FnZSA9IGdldE1lc3NhZ2UoKTtcbiAgICAgIGNvbnN0IHBhcnRpYWxUb29sQ2FsbCA9IHBhcnRpYWxUb29sQ2FsbHNbdmFsdWUudG9vbENhbGxJZF07XG4gICAgICBwYXJ0aWFsVG9vbENhbGwudGV4dCArPSB2YWx1ZS5hcmdzVGV4dERlbHRhO1xuICAgICAgY29uc3QgeyB2YWx1ZTogcGFydGlhbEFyZ3MgfSA9IHBhcnNlUGFydGlhbEpzb24ocGFydGlhbFRvb2xDYWxsLnRleHQpO1xuICAgICAgYWN0aXZlTWVzc2FnZS50b29sSW52b2NhdGlvbnNbcGFydGlhbFRvb2xDYWxsLmluZGV4XSA9IHtcbiAgICAgICAgc3RhdGU6IFwicGFydGlhbC1jYWxsXCIsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHZhbHVlLnRvb2xDYWxsSWQsXG4gICAgICAgIHRvb2xOYW1lOiBwYXJ0aWFsVG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgIGFyZ3M6IHBhcnRpYWxBcmdzXG4gICAgICB9O1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgYXN5bmMgb25Ub29sQ2FsbFBhcnQodmFsdWUpIHtcbiAgICAgIGNvbnN0IGFjdGl2ZU1lc3NhZ2UgPSBnZXRNZXNzYWdlKCk7XG4gICAgICBpZiAocGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXSAhPSBudWxsKSB7XG4gICAgICAgIGFjdGl2ZU1lc3NhZ2UudG9vbEludm9jYXRpb25zW3BhcnRpYWxUb29sQ2FsbHNbdmFsdWUudG9vbENhbGxJZF0uaW5kZXhdID0geyBzdGF0ZTogXCJjYWxsXCIsIC4uLnZhbHVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYWN0aXZlTWVzc2FnZS50b29sSW52b2NhdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICAgIGFjdGl2ZU1lc3NhZ2UudG9vbEludm9jYXRpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlTWVzc2FnZS50b29sSW52b2NhdGlvbnMucHVzaCh7XG4gICAgICAgICAgc3RhdGU6IFwiY2FsbFwiLFxuICAgICAgICAgIC4uLnZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKG9uVG9vbENhbGwpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb25Ub29sQ2FsbCh7IHRvb2xDYWxsOiB2YWx1ZSB9KTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgYWN0aXZlTWVzc2FnZS50b29sSW52b2NhdGlvbnNbYWN0aXZlTWVzc2FnZS50b29sSW52b2NhdGlvbnMubGVuZ3RoIC0gMV0gPSB7IHN0YXRlOiBcInJlc3VsdFwiLCAuLi52YWx1ZSwgcmVzdWx0IH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uVG9vbFJlc3VsdFBhcnQodmFsdWUpIHtcbiAgICAgIGNvbnN0IGFjdGl2ZU1lc3NhZ2UgPSBnZXRNZXNzYWdlKCk7XG4gICAgICBjb25zdCB0b29sSW52b2NhdGlvbnMgPSBhY3RpdmVNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucztcbiAgICAgIGlmICh0b29sSW52b2NhdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0b29sX3Jlc3VsdCBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbF9jYWxsXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgdG9vbEludm9jYXRpb25JbmRleCA9IHRvb2xJbnZvY2F0aW9ucy5maW5kSW5kZXgoXG4gICAgICAgIChpbnZvY2F0aW9uKSA9PiBpbnZvY2F0aW9uLnRvb2xDYWxsSWQgPT09IHZhbHVlLnRvb2xDYWxsSWRcbiAgICAgICk7XG4gICAgICBpZiAodG9vbEludm9jYXRpb25JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwidG9vbF9yZXN1bHQgbXVzdCBiZSBwcmVjZWRlZCBieSBhIHRvb2xfY2FsbCB3aXRoIHRoZSBzYW1lIHRvb2xDYWxsSWRcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdG9vbEludm9jYXRpb25zW3Rvb2xJbnZvY2F0aW9uSW5kZXhdID0ge1xuICAgICAgICAuLi50b29sSW52b2NhdGlvbnNbdG9vbEludm9jYXRpb25JbmRleF0sXG4gICAgICAgIHN0YXRlOiBcInJlc3VsdFwiLFxuICAgICAgICAuLi52YWx1ZVxuICAgICAgfTtcbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uRGF0YVBhcnQodmFsdWUpIHtcbiAgICAgIGRhdGEucHVzaCguLi52YWx1ZSk7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBvbk1lc3NhZ2VBbm5vdGF0aW9uc1BhcnQodmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlQW5ub3RhdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICBtZXNzYWdlQW5ub3RhdGlvbnMgPSBbLi4udmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZUFubm90YXRpb25zLnB1c2goLi4udmFsdWUpO1xuICAgICAgfVxuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25GaW5pc2hTdGVwUGFydCh2YWx1ZSkge1xuICAgICAgY3JlYXRlTmV3TWVzc2FnZSA9ICF2YWx1ZS5pc0NvbnRpbnVlZDtcbiAgICB9LFxuICAgIG9uRmluaXNoTWVzc2FnZVBhcnQodmFsdWUpIHtcbiAgICAgIGZpbmlzaFJlYXNvbiA9IHZhbHVlLmZpbmlzaFJlYXNvbjtcbiAgICAgIGlmICh2YWx1ZS51c2FnZSAhPSBudWxsKSB7XG4gICAgICAgIHVzYWdlID0gY2FsY3VsYXRlTGFuZ3VhZ2VNb2RlbFVzYWdlKHZhbHVlLnVzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRXJyb3JQYXJ0KGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG4gIG9uRmluaXNoID09IG51bGwgPyB2b2lkIDAgOiBvbkZpbmlzaCh7IG1lc3NhZ2U6IGN1cnJlbnRNZXNzYWdlLCBmaW5pc2hSZWFzb24sIHVzYWdlIH0pO1xufVxuXG4vLyBzcmMvcHJvY2Vzcy10ZXh0LXN0cmVhbS50c1xuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1RleHRTdHJlYW0oe1xuICBzdHJlYW0sXG4gIG9uVGV4dFBhcnRcbn0pIHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKS5nZXRSZWFkZXIoKTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmIChkb25lKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgYXdhaXQgb25UZXh0UGFydCh2YWx1ZSk7XG4gIH1cbn1cblxuLy8gc3JjL2NhbGwtY2hhdC1hcGkudHNcbnZhciBnZXRPcmlnaW5hbEZldGNoID0gKCkgPT4gZmV0Y2g7XG5hc3luYyBmdW5jdGlvbiBjYWxsQ2hhdEFwaSh7XG4gIGFwaSxcbiAgYm9keSxcbiAgc3RyZWFtUHJvdG9jb2wgPSBcImRhdGFcIixcbiAgY3JlZGVudGlhbHMsXG4gIGhlYWRlcnMsXG4gIGFib3J0Q29udHJvbGxlcixcbiAgcmVzdG9yZU1lc3NhZ2VzT25GYWlsdXJlLFxuICBvblJlc3BvbnNlLFxuICBvblVwZGF0ZSxcbiAgb25GaW5pc2gsXG4gIG9uVG9vbENhbGwsXG4gIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQyLFxuICBmZXRjaDogZmV0Y2gyID0gZ2V0T3JpZ2luYWxGZXRjaCgpXG59KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gyKGFwaSwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAuLi5oZWFkZXJzXG4gICAgfSxcbiAgICBzaWduYWw6IChfYSA9IGFib3J0Q29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogYWJvcnRDb250cm9sbGVyKCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zaWduYWwsXG4gICAgY3JlZGVudGlhbHNcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIHJlc3RvcmVNZXNzYWdlc09uRmFpbHVyZSgpO1xuICAgIHRocm93IGVycjtcbiAgfSk7XG4gIGlmIChvblJlc3BvbnNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG9uUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgcmVzdG9yZU1lc3NhZ2VzT25GYWlsdXJlKCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgKF9iID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpKSAhPSBudWxsID8gX2IgOiBcIkZhaWxlZCB0byBmZXRjaCB0aGUgY2hhdCByZXNwb25zZS5cIlxuICAgICk7XG4gIH1cbiAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHJlc3BvbnNlIGJvZHkgaXMgZW1wdHkuXCIpO1xuICB9XG4gIHN3aXRjaCAoc3RyZWFtUHJvdG9jb2wpIHtcbiAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICBjb25zdCByZXN1bHRNZXNzYWdlID0ge1xuICAgICAgICBpZDogZ2VuZXJhdGVJZDIoKSxcbiAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogXCJcIlxuICAgICAgfTtcbiAgICAgIGF3YWl0IHByb2Nlc3NUZXh0U3RyZWFtKHtcbiAgICAgICAgc3RyZWFtOiByZXNwb25zZS5ib2R5LFxuICAgICAgICBvblRleHRQYXJ0OiAoY2h1bmspID0+IHtcbiAgICAgICAgICByZXN1bHRNZXNzYWdlLmNvbnRlbnQgKz0gY2h1bms7XG4gICAgICAgICAgb25VcGRhdGUoW3sgLi4ucmVzdWx0TWVzc2FnZSB9XSwgW10pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9uRmluaXNoID09IG51bGwgPyB2b2lkIDAgOiBvbkZpbmlzaChyZXN1bHRNZXNzYWdlLCB7XG4gICAgICAgIHVzYWdlOiB7IGNvbXBsZXRpb25Ub2tlbnM6IE5hTiwgcHJvbXB0VG9rZW5zOiBOYU4sIHRvdGFsVG9rZW5zOiBOYU4gfSxcbiAgICAgICAgZmluaXNoUmVhc29uOiBcInVua25vd25cIlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhc2UgXCJkYXRhXCI6IHtcbiAgICAgIGF3YWl0IHByb2Nlc3NDaGF0UmVzcG9uc2Uoe1xuICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgIHVwZGF0ZTogb25VcGRhdGUsXG4gICAgICAgIG9uVG9vbENhbGwsXG4gICAgICAgIG9uRmluaXNoKHsgbWVzc2FnZSwgZmluaXNoUmVhc29uLCB1c2FnZSB9KSB7XG4gICAgICAgICAgaWYgKG9uRmluaXNoICYmIG1lc3NhZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgb25GaW5pc2gobWVzc2FnZSwgeyB1c2FnZSwgZmluaXNoUmVhc29uIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2sgPSBzdHJlYW1Qcm90b2NvbDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzdHJlYW0gcHJvdG9jb2w6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgIH1cbiAgfVxufVxuXG4vLyBzcmMvY2FsbC1jb21wbGV0aW9uLWFwaS50c1xudmFyIGdldE9yaWdpbmFsRmV0Y2gyID0gKCkgPT4gZmV0Y2g7XG5hc3luYyBmdW5jdGlvbiBjYWxsQ29tcGxldGlvbkFwaSh7XG4gIGFwaSxcbiAgcHJvbXB0LFxuICBjcmVkZW50aWFscyxcbiAgaGVhZGVycyxcbiAgYm9keSxcbiAgc3RyZWFtUHJvdG9jb2wgPSBcImRhdGFcIixcbiAgc2V0Q29tcGxldGlvbixcbiAgc2V0TG9hZGluZyxcbiAgc2V0RXJyb3IsXG4gIHNldEFib3J0Q29udHJvbGxlcixcbiAgb25SZXNwb25zZSxcbiAgb25GaW5pc2gsXG4gIG9uRXJyb3IsXG4gIG9uRGF0YSxcbiAgZmV0Y2g6IGZldGNoMiA9IGdldE9yaWdpbmFsRmV0Y2gyKClcbn0pIHtcbiAgdmFyIF9hO1xuICB0cnkge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3Iodm9pZCAwKTtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgc2V0QWJvcnRDb250cm9sbGVyKGFib3J0Q29udHJvbGxlcik7XG4gICAgc2V0Q29tcGxldGlvbihcIlwiKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoMihhcGksIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHByb21wdCxcbiAgICAgICAgLi4uYm9keVxuICAgICAgfSksXG4gICAgICBjcmVkZW50aWFscyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIC4uLmhlYWRlcnNcbiAgICAgIH0sXG4gICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWxcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gICAgaWYgKG9uUmVzcG9uc2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG9uUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAoX2EgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkpICE9IG51bGwgPyBfYSA6IFwiRmFpbGVkIHRvIGZldGNoIHRoZSBjaGF0IHJlc3BvbnNlLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSByZXNwb25zZSBib2R5IGlzIGVtcHR5LlwiKTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgc3dpdGNoIChzdHJlYW1Qcm90b2NvbCkge1xuICAgICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgICBhd2FpdCBwcm9jZXNzVGV4dFN0cmVhbSh7XG4gICAgICAgICAgc3RyZWFtOiByZXNwb25zZS5ib2R5LFxuICAgICAgICAgIG9uVGV4dFBhcnQ6IChjaHVuaykgPT4ge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGNodW5rO1xuICAgICAgICAgICAgc2V0Q29tcGxldGlvbihyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImRhdGFcIjoge1xuICAgICAgICBhd2FpdCBwcm9jZXNzRGF0YVN0cmVhbSh7XG4gICAgICAgICAgc3RyZWFtOiByZXNwb25zZS5ib2R5LFxuICAgICAgICAgIG9uVGV4dFBhcnQodmFsdWUpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB2YWx1ZTtcbiAgICAgICAgICAgIHNldENvbXBsZXRpb24ocmVzdWx0KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRGF0YVBhcnQodmFsdWUpIHtcbiAgICAgICAgICAgIG9uRGF0YSA9PSBudWxsID8gdm9pZCAwIDogb25EYXRhKHZhbHVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRXJyb3JQYXJ0KHZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2sgPSBzdHJlYW1Qcm90b2NvbDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHN0cmVhbSBwcm90b2NvbDogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvbkZpbmlzaCkge1xuICAgICAgb25GaW5pc2gocHJvbXB0LCByZXN1bHQpO1xuICAgIH1cbiAgICBzZXRBYm9ydENvbnRyb2xsZXIobnVsbCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKGVyci5uYW1lID09PSBcIkFib3J0RXJyb3JcIikge1xuICAgICAgc2V0QWJvcnRDb250cm9sbGVyKG51bGwpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBzZXRFcnJvcihlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICB9XG59XG5cbi8vIHNyYy9kYXRhLXVybC50c1xuZnVuY3Rpb24gZ2V0VGV4dEZyb21EYXRhVXJsKGRhdGFVcmwpIHtcbiAgY29uc3QgW2hlYWRlciwgYmFzZTY0Q29udGVudF0gPSBkYXRhVXJsLnNwbGl0KFwiLFwiKTtcbiAgY29uc3QgbWltZVR5cGUgPSBoZWFkZXIuc3BsaXQoXCI7XCIpWzBdLnNwbGl0KFwiOlwiKVsxXTtcbiAgaWYgKG1pbWVUeXBlID09IG51bGwgfHwgYmFzZTY0Q29udGVudCA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkYXRhIFVSTCBmb3JtYXRcIik7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmF0b2IoYmFzZTY0Q29udGVudCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBkZWNvZGluZyBkYXRhIFVSTGApO1xuICB9XG59XG5cbi8vIHNyYy9pcy1kZWVwLWVxdWFsLWRhdGEudHNcbmZ1bmN0aW9uIGlzRGVlcEVxdWFsRGF0YShvYmoxLCBvYmoyKSB7XG4gIGlmIChvYmoxID09PSBvYmoyKVxuICAgIHJldHVybiB0cnVlO1xuICBpZiAob2JqMSA9PSBudWxsIHx8IG9iajIgPT0gbnVsbClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2Ygb2JqMSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqMiAhPT0gXCJvYmplY3RcIilcbiAgICByZXR1cm4gb2JqMSA9PT0gb2JqMjtcbiAgaWYgKG9iajEuY29uc3RydWN0b3IgIT09IG9iajIuY29uc3RydWN0b3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAob2JqMSBpbnN0YW5jZW9mIERhdGUgJiYgb2JqMiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gb2JqMS5nZXRUaW1lKCkgPT09IG9iajIuZ2V0VGltZSgpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KG9iajEpKSB7XG4gICAgaWYgKG9iajEubGVuZ3RoICE9PSBvYmoyLmxlbmd0aClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iajEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghaXNEZWVwRXF1YWxEYXRhKG9iajFbaV0sIG9iajJbaV0pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IGtleXMxID0gT2JqZWN0LmtleXMob2JqMSk7XG4gIGNvbnN0IGtleXMyID0gT2JqZWN0LmtleXMob2JqMik7XG4gIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMxKSB7XG4gICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghaXNEZWVwRXF1YWxEYXRhKG9iajFba2V5XSwgb2JqMltrZXldKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gc3JjL3ByZXBhcmUtYXR0YWNobWVudHMtZm9yLXJlcXVlc3QudHNcbmFzeW5jIGZ1bmN0aW9uIHByZXBhcmVBdHRhY2htZW50c0ZvclJlcXVlc3QoYXR0YWNobWVudHNGcm9tT3B0aW9ucykge1xuICBpZiAoIWF0dGFjaG1lbnRzRnJvbU9wdGlvbnMpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKGF0dGFjaG1lbnRzRnJvbU9wdGlvbnMgaW5zdGFuY2VvZiBGaWxlTGlzdCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIEFycmF5LmZyb20oYXR0YWNobWVudHNGcm9tT3B0aW9ucykubWFwKGFzeW5jIChhdHRhY2htZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdHlwZSB9ID0gYXR0YWNobWVudDtcbiAgICAgICAgY29uc3QgZGF0YVVybCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAocmVhZGVyRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJlc29sdmUoKF9hID0gcmVhZGVyRXZlbnQudGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVzdWx0KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gKGVycm9yKSA9PiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGF0dGFjaG1lbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiB0eXBlLFxuICAgICAgICAgIHVybDogZGF0YVVybFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICApO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGF0dGFjaG1lbnRzRnJvbU9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIGF0dGFjaG1lbnRzRnJvbU9wdGlvbnM7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhdHRhY2htZW50cyB0eXBlXCIpO1xufVxuXG4vLyBzcmMvcHJvY2Vzcy1hc3Npc3RhbnQtc3RyZWFtLnRzXG52YXIgTkVXTElORTIgPSBcIlxcblwiLmNoYXJDb2RlQXQoMCk7XG5mdW5jdGlvbiBjb25jYXRDaHVua3MyKGNodW5rcywgdG90YWxMZW5ndGgpIHtcbiAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcbiAgICBjb25jYXRlbmF0ZWRDaHVua3Muc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGg7XG4gIH1cbiAgY2h1bmtzLmxlbmd0aCA9IDA7XG4gIHJldHVybiBjb25jYXRlbmF0ZWRDaHVua3M7XG59XG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQXNzaXN0YW50U3RyZWFtKHtcbiAgc3RyZWFtLFxuICBvblRleHRQYXJ0LFxuICBvbkVycm9yUGFydCxcbiAgb25Bc3Npc3RhbnRNZXNzYWdlUGFydCxcbiAgb25Bc3Npc3RhbnRDb250cm9sRGF0YVBhcnQsXG4gIG9uRGF0YU1lc3NhZ2VQYXJ0XG59KSB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICBjb25zdCBjaHVua3MgPSBbXTtcbiAgbGV0IHRvdGFsTGVuZ3RoID0gMDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgY2h1bmtzLnB1c2godmFsdWUpO1xuICAgICAgdG90YWxMZW5ndGggKz0gdmFsdWUubGVuZ3RoO1xuICAgICAgaWYgKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdICE9PSBORVdMSU5FMikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjb25zdCBjb25jYXRlbmF0ZWRDaHVua3MgPSBjb25jYXRDaHVua3MyKGNodW5rcywgdG90YWxMZW5ndGgpO1xuICAgIHRvdGFsTGVuZ3RoID0gMDtcbiAgICBjb25zdCBzdHJlYW1QYXJ0cyA9IGRlY29kZXIuZGVjb2RlKGNvbmNhdGVuYXRlZENodW5rcywgeyBzdHJlYW06IHRydWUgfSkuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9PSBcIlwiKS5tYXAocGFyc2VBc3Npc3RhbnRTdHJlYW1QYXJ0KTtcbiAgICBmb3IgKGNvbnN0IHsgdHlwZSwgdmFsdWU6IHZhbHVlMiB9IG9mIHN0cmVhbVBhcnRzKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICBhd2FpdCAob25UZXh0UGFydCA9PSBudWxsID8gdm9pZCAwIDogb25UZXh0UGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRXJyb3JQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkVycm9yUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFzc2lzdGFudF9tZXNzYWdlXCI6XG4gICAgICAgICAgYXdhaXQgKG9uQXNzaXN0YW50TWVzc2FnZVBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQXNzaXN0YW50TWVzc2FnZVBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCI6XG4gICAgICAgICAgYXdhaXQgKG9uQXNzaXN0YW50Q29udHJvbERhdGFQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkFzc2lzdGFudENvbnRyb2xEYXRhUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRhdGFfbWVzc2FnZVwiOlxuICAgICAgICAgIGF3YWl0IChvbkRhdGFNZXNzYWdlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25EYXRhTWVzc2FnZVBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2sgPSB0eXBlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzdHJlYW0gcGFydCB0eXBlOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBzcmMvc2NoZW1hLnRzXG5pbXBvcnQgeyB2YWxpZGF0b3JTeW1ib2wgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHpvZFRvSnNvblNjaGVtYSBmcm9tIFwiem9kLXRvLWpzb24tc2NoZW1hXCI7XG52YXIgc2NoZW1hU3ltYm9sID0gU3ltYm9sLmZvcihcInZlcmNlbC5haS5zY2hlbWFcIik7XG5mdW5jdGlvbiBqc29uU2NoZW1hKGpzb25TY2hlbWEyLCB7XG4gIHZhbGlkYXRlXG59ID0ge30pIHtcbiAgcmV0dXJuIHtcbiAgICBbc2NoZW1hU3ltYm9sXTogdHJ1ZSxcbiAgICBfdHlwZTogdm9pZCAwLFxuICAgIC8vIHNob3VsZCBuZXZlciBiZSB1c2VkIGRpcmVjdGx5XG4gICAgW3ZhbGlkYXRvclN5bWJvbF06IHRydWUsXG4gICAganNvblNjaGVtYToganNvblNjaGVtYTIsXG4gICAgdmFsaWRhdGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzU2NoZW1hKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgc2NoZW1hU3ltYm9sIGluIHZhbHVlICYmIHZhbHVlW3NjaGVtYVN5bWJvbF0gPT09IHRydWUgJiYgXCJqc29uU2NoZW1hXCIgaW4gdmFsdWUgJiYgXCJ2YWxpZGF0ZVwiIGluIHZhbHVlO1xufVxuZnVuY3Rpb24gYXNTY2hlbWEoc2NoZW1hKSB7XG4gIHJldHVybiBpc1NjaGVtYShzY2hlbWEpID8gc2NoZW1hIDogem9kU2NoZW1hKHNjaGVtYSk7XG59XG5mdW5jdGlvbiB6b2RTY2hlbWEoem9kU2NoZW1hMikge1xuICByZXR1cm4ganNvblNjaGVtYShcbiAgICAvLyB3ZSBhc3N1bWUgdGhhdCB6b2RUb0pzb25TY2hlbWEgd2lsbCByZXR1cm4gYSB2YWxpZCBKU09OU2NoZW1hNzpcbiAgICB6b2RUb0pzb25TY2hlbWEoem9kU2NoZW1hMiksXG4gICAge1xuICAgICAgdmFsaWRhdGU6ICh2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB6b2RTY2hlbWEyLnNhZmVQYXJzZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuc3VjY2VzcyA/IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdC5kYXRhIH0gOiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVzdWx0LmVycm9yIH07XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuZXhwb3J0IHtcbiAgYXNTY2hlbWEsXG4gIGNhbGxDaGF0QXBpLFxuICBjYWxsQ29tcGxldGlvbkFwaSxcbiAgZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydCxcbiAgZm9ybWF0RGF0YVN0cmVhbVBhcnQsXG4gIGdlbmVyYXRlSWQsXG4gIGdldFRleHRGcm9tRGF0YVVybCxcbiAgaXNEZWVwRXF1YWxEYXRhLFxuICBqc29uU2NoZW1hLFxuICBwYXJzZUFzc2lzdGFudFN0cmVhbVBhcnQsXG4gIHBhcnNlRGF0YVN0cmVhbVBhcnQsXG4gIHBhcnNlUGFydGlhbEpzb24sXG4gIHByZXBhcmVBdHRhY2htZW50c0ZvclJlcXVlc3QsXG4gIHByb2Nlc3NBc3Npc3RhbnRTdHJlYW0sXG4gIHByb2Nlc3NEYXRhU3RyZWFtLFxuICBwcm9jZXNzVGV4dFN0cmVhbSxcbiAgem9kU2NoZW1hXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6WyJnZW5lcmF0ZUlkIiwidGV4dFN0cmVhbVBhcnQiLCJjb2RlIiwibmFtZSIsInBhcnNlIiwidmFsdWUiLCJFcnJvciIsInR5cGUiLCJlcnJvclN0cmVhbVBhcnQiLCJhc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydCIsImlkIiwicm9sZSIsIkFycmF5IiwiaXNBcnJheSIsImNvbnRlbnQiLCJldmVyeSIsIml0ZW0iLCJ0ZXh0IiwiYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0IiwidGhyZWFkSWQiLCJtZXNzYWdlSWQiLCJkYXRhTWVzc2FnZVN0cmVhbVBhcnQiLCJhc3Npc3RhbnRTdHJlYW1QYXJ0cyIsImFzc2lzdGFudFN0cmVhbVBhcnRzQnlDb2RlIiwiU3RyZWFtU3RyaW5nUHJlZml4ZXMiLCJ2YWxpZENvZGVzIiwibWFwIiwicGFydCIsInBhcnNlQXNzaXN0YW50U3RyZWFtUGFydCIsImxpbmUiLCJmaXJzdFNlcGFyYXRvckluZGV4IiwiaW5kZXhPZiIsInByZWZpeCIsInNsaWNlIiwiaW5jbHVkZXMiLCJ0ZXh0VmFsdWUiLCJqc29uVmFsdWUiLCJKU09OIiwiZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydCIsInN0cmVhbVBhcnQiLCJmaW5kIiwic3RyaW5naWZ5IiwiZ2VuZXJhdGVJZEZ1bmN0aW9uIiwic2FmZVBhcnNlSlNPTiIsImZpeEpzb24iLCJpbnB1dCIsInN0YWNrIiwibGFzdFZhbGlkSW5kZXgiLCJsaXRlcmFsU3RhcnQiLCJwcm9jZXNzVmFsdWVTdGFydCIsImNoYXIiLCJpIiwic3dhcFN0YXRlIiwicG9wIiwicHVzaCIsInByb2Nlc3NBZnRlck9iamVjdFZhbHVlIiwicHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZSIsImxlbmd0aCIsImN1cnJlbnRTdGF0ZSIsInBhcnRpYWxMaXRlcmFsIiwic3Vic3RyaW5nIiwic3RhcnRzV2l0aCIsInJlc3VsdCIsInN0YXRlIiwicGFyc2VQYXJ0aWFsSnNvbiIsImpzb25UZXh0Iiwic3VjY2VzcyIsInRleHRTdHJlYW1QYXJ0MiIsImRhdGFTdHJlYW1QYXJ0IiwiZXJyb3JTdHJlYW1QYXJ0MiIsIm1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQiLCJ0b29sQ2FsbFN0cmVhbVBhcnQiLCJ0b29sQ2FsbElkIiwidG9vbE5hbWUiLCJhcmdzIiwidG9vbFJlc3VsdFN0cmVhbVBhcnQiLCJ0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydCIsInRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0IiwiYXJnc1RleHREZWx0YSIsImZpbmlzaE1lc3NhZ2VTdHJlYW1QYXJ0IiwiZmluaXNoUmVhc29uIiwidXNhZ2UiLCJwcm9tcHRUb2tlbnMiLCJOdW1iZXIiLCJOYU4iLCJjb21wbGV0aW9uVG9rZW5zIiwiZmluaXNoU3RlcFN0cmVhbVBhcnQiLCJpc0NvbnRpbnVlZCIsImRhdGFTdHJlYW1QYXJ0cyIsImRhdGFTdHJlYW1QYXJ0c0J5Q29kZSIsIkRhdGFTdHJlYW1TdHJpbmdQcmVmaXhlcyIsInZhbGlkQ29kZXMyIiwicGFyc2VEYXRhU3RyZWFtUGFydCIsImZvcm1hdERhdGFTdHJlYW1QYXJ0IiwiTkVXTElORSIsImNoYXJDb2RlQXQiLCJjb25jYXRDaHVua3MiLCJjaHVua3MiLCJ0b3RhbExlbmd0aCIsImNvbmNhdGVuYXRlZENodW5rcyIsIlVpbnQ4QXJyYXkiLCJvZmZzZXQiLCJjaHVuayIsInNldCIsInByb2Nlc3NEYXRhU3RyZWFtIiwic3RyZWFtIiwib25UZXh0UGFydCIsIm9uRGF0YVBhcnQiLCJvbkVycm9yUGFydCIsIm9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQiLCJvblRvb2xDYWxsRGVsdGFQYXJ0Iiwib25Ub29sQ2FsbFBhcnQiLCJvblRvb2xSZXN1bHRQYXJ0Iiwib25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0Iiwib25GaW5pc2hNZXNzYWdlUGFydCIsIm9uRmluaXNoU3RlcFBhcnQiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJkZWNvZGVyIiwiVGV4dERlY29kZXIiLCJyZWFkIiwic3RyZWFtUGFydHMiLCJkZWNvZGUiLCJzcGxpdCIsImZpbHRlciIsInZhbHVlMiIsImV4aGF1c3RpdmVDaGVjayIsImNhbGN1bGF0ZUxhbmd1YWdlTW9kZWxVc2FnZSIsInRvdGFsVG9rZW5zIiwicHJvY2Vzc0NoYXRSZXNwb25zZSIsInVwZGF0ZSIsIm9uVG9vbENhbGwiLCJvbkZpbmlzaCIsImdlbmVyYXRlSWQyIiwiZ2V0Q3VycmVudERhdGUiLCJEYXRlIiwiY3JlYXRlZEF0IiwiY3VycmVudE1lc3NhZ2UiLCJjcmVhdGVOZXdNZXNzYWdlIiwicHJldmlvdXNNZXNzYWdlcyIsImRhdGEiLCJtZXNzYWdlQW5ub3RhdGlvbnMiLCJwYXJ0aWFsVG9vbENhbGxzIiwiZXhlY1VwZGF0ZSIsImNvcGllZERhdGEiLCJhbm5vdGF0aW9ucyIsImNvcGllZE1lc3NhZ2UiLCJyZXZpc2lvbklkIiwiZ2V0TWVzc2FnZSIsImFjdGl2ZU1lc3NhZ2UiLCJ0b29sSW52b2NhdGlvbnMiLCJpbmRleCIsInBhcnRpYWxUb29sQ2FsbCIsInBhcnRpYWxBcmdzIiwidG9vbENhbGwiLCJ0b29sSW52b2NhdGlvbkluZGV4IiwiZmluZEluZGV4IiwiaW52b2NhdGlvbiIsImVycm9yIiwibWVzc2FnZSIsInByb2Nlc3NUZXh0U3RyZWFtIiwicGlwZVRocm91Z2giLCJUZXh0RGVjb2RlclN0cmVhbSIsImRvbmUiLCJnZXRPcmlnaW5hbEZldGNoIiwiZmV0Y2giLCJjYWxsQ2hhdEFwaSIsImFwaSIsImJvZHkiLCJzdHJlYW1Qcm90b2NvbCIsImNyZWRlbnRpYWxzIiwiaGVhZGVycyIsImFib3J0Q29udHJvbGxlciIsInJlc3RvcmVNZXNzYWdlc09uRmFpbHVyZSIsIm9uUmVzcG9uc2UiLCJvblVwZGF0ZSIsImZldGNoMiIsIl9hIiwiX2IiLCJyZXNwb25zZSIsIm1ldGhvZCIsInNpZ25hbCIsImNhdGNoIiwiZXJyIiwib2siLCJyZXN1bHRNZXNzYWdlIiwiZ2V0T3JpZ2luYWxGZXRjaDIiLCJjYWxsQ29tcGxldGlvbkFwaSIsInByb21wdCIsInNldENvbXBsZXRpb24iLCJzZXRMb2FkaW5nIiwic2V0RXJyb3IiLCJzZXRBYm9ydENvbnRyb2xsZXIiLCJvbkVycm9yIiwib25EYXRhIiwiQWJvcnRDb250cm9sbGVyIiwiZ2V0VGV4dEZyb21EYXRhVXJsIiwiZGF0YVVybCIsImhlYWRlciIsImJhc2U2NENvbnRlbnQiLCJtaW1lVHlwZSIsIndpbmRvdyIsImF0b2IiLCJpc0RlZXBFcXVhbERhdGEiLCJvYmoxIiwib2JqMiIsImNvbnN0cnVjdG9yIiwiZ2V0VGltZSIsImtleXMxIiwiT2JqZWN0Iiwia2V5cyIsImtleXMyIiwia2V5IiwicHJlcGFyZUF0dGFjaG1lbnRzRm9yUmVxdWVzdCIsImF0dGFjaG1lbnRzRnJvbU9wdGlvbnMiLCJGaWxlTGlzdCIsIlByb21pc2UiLCJhbGwiLCJmcm9tIiwiYXR0YWNobWVudCIsInJlc29sdmUiLCJyZWplY3QiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicmVhZGVyRXZlbnQiLCJ0YXJnZXQiLCJvbmVycm9yIiwicmVhZEFzRGF0YVVSTCIsImNvbnRlbnRUeXBlIiwidXJsIiwiTkVXTElORTIiLCJjb25jYXRDaHVua3MyIiwicHJvY2Vzc0Fzc2lzdGFudFN0cmVhbSIsIm9uQXNzaXN0YW50TWVzc2FnZVBhcnQiLCJvbkFzc2lzdGFudENvbnRyb2xEYXRhUGFydCIsIm9uRGF0YU1lc3NhZ2VQYXJ0IiwidmFsaWRhdG9yU3ltYm9sIiwiem9kVG9Kc29uU2NoZW1hIiwic2NoZW1hU3ltYm9sIiwiU3ltYm9sIiwiZm9yIiwianNvblNjaGVtYSIsImpzb25TY2hlbWEyIiwidmFsaWRhdGUiLCJfdHlwZSIsImlzU2NoZW1hIiwiYXNTY2hlbWEiLCJzY2hlbWEiLCJ6b2RTY2hlbWEiLCJ6b2RTY2hlbWEyIiwic2FmZVBhcnNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@ai-sdk/ui-utils/dist/index.mjs\n");

/***/ })

};
;